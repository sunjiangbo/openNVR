commit 6f04e687601c136d16b64bfdb5ea00e10250e0ce
Merge: 6a0cee7... cc18e1f...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 12 16:17:51 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit 6a0cee7b84f3e19e619827c01eb78991cb65840e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 12 16:15:55 2009 +0200

    Unbreak seek

commit cc18e1f53b8d93d28160e6a8175afb259ab7833d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Jun 12 15:09:46 2009 +0200

    Make sure the ChangeLog is autobuilt when using git clones.
    
    This way we can distribute a proper ChangeLog with all the changes in the
    release.

commit 53eac10168b44db0cd31592eb7ce90f61744d63e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 12 13:09:17 2009 +0200

    ChangeLog will be autogenerated

commit 471c62b0e481d90b72f0cfce915a55e9e79301c6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 12 12:59:56 2009 +0200

    Updating docs

commit c66b03fe2c598743a3af5f3133942a42b80aa3f6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 11 16:28:05 2009 +0200

    Make sure fill threads are stopped
    
    Avoid an abort on mutex free when closing a live stream.

commit 7d44bd63922a65b3bee5a4c5f49e3c9bbe64bda4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Jun 11 14:21:37 2009 +0200

    Make sure to close the FILE* pointer before returning from sd_init.
    
    This avoids a descriptor leak when clients request SD description files for
    live.

commit 39049c035b3edac582515ad8c1920326aa28cb62
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Jun 11 12:27:26 2009 +0200

    Actually, just set the media_type for stored tracks, not live.

commit 8570b37874a5609802ef080d3ad67a5088baa9e5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Jun 11 12:18:31 2009 +0200

    Only set the media_type if we have parser info.
    
    Live streaming won't do this, the media_type will be set by the demuxer
    instead.

commit c3250abc4c20095928325315608f2a35e907783e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 11 00:25:11 2009 +0200

    Kill all warnings

commit b0d4b06515f97ffcd355ff9ca065868a429581c3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 11 00:23:13 2009 +0200

    Make ragel generation obey silent-rules

commit 0cc1960e65dcb832e2aa7ced1242700edd9548d7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 10 18:37:39 2009 +0200

    Fix assorted warnings.

commit 24c452ee408fdbd8fce07436b8afbb7689e8f4f6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 10 17:47:56 2009 +0200

    The request the response is for is untouchable.

commit dcd37d376833d37b3fccaf2a33302f0399d59ad1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 10 17:45:57 2009 +0200

    Avoid returning a value on void function.

commit f54833767783413d2861389df4418cef78ed28b2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 10 16:14:11 2009 +0200

    Fix mpeg12

commit c8f5adfe8ead7242dd286255df409e95bbfb81fb
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 10 15:33:14 2009 +0200

    Enable silent rules by default.

commit 3f25ef0838fdd3c82a209b3294390fb41a326db4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 10 14:37:10 2009 +0200

    There is no uninit for the mpv parser.

commit 29ef2e982fc1832f9f243b7157a4f5033c9eb9fd
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 10 14:13:25 2009 +0200

    Make sure to pass the correct parameter to uninit.

commit 410d09f3ed45782a751359a7008c3a23fd28166e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 23:28:08 2009 +0200

    Remove unused test.

commit 909f451826d6190894d8169dc1f56630b2a6c37d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 23:25:49 2009 +0200

    Remove unused declaration.

commit 49ea4620f0918df2cc9b5c7dfe56bd2132c5657e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 23:25:04 2009 +0200

    Use singly-linked lists instead of double-linked lists for sdp fields.

commit 4d602278871ea3c13ca10b80c5c545f9745888da
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 23:23:52 2009 +0200

    Fix proper slice freeing of sdp_fields.

commit 923c9b1a6dcacd5c16a7c69ea73eee3d4457e06a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 23:23:09 2009 +0200

    Remove sdp fields for resources that are not used right now.
    
    When used, we might be adding these back.

commit fe6b6e9ab6e340310e3d6156013b70204ed58e1a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 23:17:37 2009 +0200

    Remove the INIT_PROPS macro and just do everything in add_track.
    
    This actually removes constraints in the naming of the parameters for the
    parser initialisation functions.

commit f728204e5d72d679d0eb4023ad186ddb83cb3e91
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 23:13:25 2009 +0200

    Extremely simplify the handling of tracks, sdp fields and mediaproperties.
    
    Now all the parsers are given a pointer to the actual track object, which
    they can use to store private data, or not, as needed. No double pointer
    passed around.
    
    The sdp fields are added through a single interface rather than the similar
    code being used by all the parsers, too.

commit ccbab233d8346b2be948931ad9fcb7697b4c2238
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 18:46:53 2009 +0200

    Add missing unused attribute.

commit 022b124baf2dcf8d9ddcd7c1fb33ecabcfa5961a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 18:44:18 2009 +0200

    Make extradata2config work directly on the MediaProperties objects.
    
    This allows to pass one parameter instead of two, and also allows to
    simplify a lot the code, especially conversion-wise, reducing the overall
    code related to extradata handling.

commit fcac06a931676fa4667e8b0a817b961cf14459ff
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 18:32:27 2009 +0200

    Also change the demuxer uninit to be a GDestroyNotify value.

commit 8c693617d81a596721c52abc5135b2711cc1ba85
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 18:27:03 2009 +0200

    Remove the extradata parameters from the parse() function.
    
    The extradata is configuration for the whole track not for the single
    package and should be passed, if needed, via the Track data instead. No
    parser currently uses it, only the libavformat demuxer pass it.

commit 5b226c113c6961c7d1e1571d9c6502c9fa8f01de
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 18:19:54 2009 +0200

    Replace the uninit function (which returned integer) with GDestroyNotify.
    
    The GDestroyNotify function type is defined by glib itself; by using the
    same type we ensure complete compatibility, and we can set up the parsers
    to just define their uninit symbol to g_free to avoid defining a wrapper
    function (avoids a function call overhead).

commit 8fe0fdd18b5efb4271a335bfe38221beba52d89e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 18:12:28 2009 +0200

    Explicit the unused parameters with an unused attribute on all of them.

commit 4fdbd6b74ec59d746259698c5f0625f508b5674c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 9 18:02:41 2009 +0200

    Allow uninit functions to be NULL, and remove one call overhead.
    
    Instead of having an mparser_unreg function called by the free_track()
    function, let it take care of everything at once, avoids one call overhead,
    and makes it negligible that we do one more check against NULL.

commit 1840f4d3494d36e3927d5eebcf7612b22aa61b9a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Jun 7 15:22:52 2009 +0200

    Make sure we stop the rtcp ev_io

commit cb6ece0950ad0c7adc4432a9776bb038d7ca4816
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 4 13:41:08 2009 +0200

    Bare rtcp reader callback

commit fb01b0f8ec2318e0a1863a2c219a10a8c799f338
Merge: a65545e... 17c514c...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 3 21:09:50 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit 17c514c357cab7bea5d3096d5cb2289a8a728eeb
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 20:36:57 2009 +0200

    Remove configure checks for mmap presence.
    
    We _require_ mmap anyway, avoid polluting the code.

commit a65545ecc2f00a06fa460e1f68ce2ed48fb57c0f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 3 20:34:45 2009 +0200

    Updated

commit 430148d652092fb5597e32f4fa12179d7acfe214
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 3 20:34:23 2009 +0200

    Updated

commit fc7e47f12cf2f7fbb09fbb40421a7fe74a233de5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 20:24:24 2009 +0200

    Remove the whole mmaping of files, leave demuxers to themselves.
    
    Each demuxer can decide when, and how, to open the file as they prefer,
    avoid adding further complexity with mmap.

commit 5df26f0509b59ec29e11c6938df508a98a27ceba
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 19:47:02 2009 +0200

    Remove the InputStream interface, rely on mmap() presence.
    
    By removing the whole inputstream interface we can simplify a lot the whole
    code, and we can also see that, actually, the whole system needs to be
    changed extensively.

commit 387cfdf40f2844e0d0d5c02ee4cfee20ea761284
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 3 17:50:32 2009 +0200

    Suppress some warnings

commit f5d71e424ed7dd7769369e65e0f8010e5ff021ee
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 15:47:26 2009 +0200

    Package the conf.h header.

commit 6527826cd6b2ac50463c3a98bb16927c6dc8b3b1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 15:46:20 2009 +0200

    Remove ghost makefile.

commit 7bacbdc9144adfab01edcc3f4c5511e9b23625fb
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 15:44:51 2009 +0200

    Another.

commit 72f2ccba520d8be36e37615eddd98166d0130da4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 15:44:23 2009 +0200

    Add a missing media/ prefix.

commit d1ba67d244795d7a1ad8648b2db6027b700b20c1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 15:38:45 2009 +0200

    Remove src/conf/Makefile.am, just build with a single Makefile.

commit 9fba3fa4f133817657cc5116fb8b2c419a72eded
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 15:29:29 2009 +0200

    Put objects in subdirectories.

commit a8c094146e2e4d0e6910b9dc5db6cb866954e27b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 3 15:21:09 2009 +0200

    Rename mediathread/ in media/ and avoid building a passage library.
    
    Use just one single Makefile to build all the source at once, this allows
    for an higher number of jobs to execute in parallel.

commit 464f4680217214d458c176a92420fe74bd963866
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 3 13:09:33 2009 +0200

    Cleanup rtsp_interleave
    
    - remove type punning warnings
    - memset sctp_sndrcvinfo struct before using it in write as reported by
      Nigel Rumens and confirmed by Masato Saito

commit a46bdfb9b9325a0d52ba9ed0aefa5b21ca5bfe5f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 3 08:49:21 2009 +0200

    Make fprintf FNC_LOG_VERBOSE calls

commit 8e7865c4fb1e8601eeb9dfd11462b0d378eebf0f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 3 08:48:50 2009 +0200

    Update doxy

commit c181667d38e54ff45bba5b6fed3ffad25739a2e4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat May 30 02:58:20 2009 +0200

    If available, enable silent-rules option.

commit dd1f3b58b88c957c9b2b9442bff8ee2b992fb772
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 29 18:48:59 2009 +0200

    Make sure threads get collected on pool reset

commit 95a55bbe297956a1fc63d6276251b6fb7384b21c
Merge: 6ff6da1... 481c69f...
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Fri May 29 18:25:31 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit 6ff6da16130d1914776ff712714af69237d0d09f
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Fri May 29 18:25:18 2009 +0200

    Should return 0 only if the queue is really empty

commit 481c69f0436c3fbce8e462e47c4e51a172f45d22
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 29 18:04:38 2009 +0200

    At pause, make sure to set the fill_pool to NULL after freeing it.
    
    This avoids double-frees when the client pauses before stopping (i.e.:
    QuickTime).

commit 82cd9499574a426bb4d491b3ba5cc17100b21070
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Fri May 29 17:07:40 2009 +0200

    Should avoid problem about unseen thinking that the queue has data when it doesn't and get thinking that queue doesn't have any data when it has

commit 0ac208866dcdf3b99ce5f5c417a522fde5072d42
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 29 13:55:34 2009 +0200

    Move filling of queues inside RTP session.
    
    This way it's possible to have fine-grained locking and we can also be
    certain that we can seek without having xtra threads trying to read (since
    the _pause method will wait for them to be finished).

commit 5042a37f425df08e3112a6b287e2b0534b1f89bd
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu May 21 16:11:38 2009 +0200

    Replace the r_read function with a r_fill instead.
    
    The r_fill function takes the consumer to fill up as an argument, and it
    repeats the read until the consumer is filled up with 16 unseen
    frames.
    
    This removes the assumption 1 packet -> 1 frame, and make sures that if
    both the audio and video consumers have to be filled up, it doesn't request
    reading of too many packages at once.

commit fec726dd9692a1b86b936b5c83cfb8a913c216da
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu May 28 21:32:01 2009 +0200

    Rewrite bufferqueue seek support: make queue reset synchronous.

commit 4319c856314950e3fe032a813df2ffa25b60ddb8
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 28 16:51:24 2009 +0200

    Make sure live is managed using ev->offset+duration, fixes Kiina-test local delivery

commit 36fa5d1cf7cde46dcdbf536b0a642179d1694a9f
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 17:47:25 2009 +0200

    Cleanup the internal buffers of the config storage structure.

commit 153a027ac42abb6c5b72010136621dc108eef669
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 17:40:18 2009 +0200

    Transform feng::config_storage in an array of specific_config.
    
    With this change, instead of having an array of pointers we have a proper
    array, in a single strip of data, which reduces the allocation overhead.
    
    Also make sure that the storage is cleaned up on exit (when debug is
    enabled).

commit 365c33082a67baa599434cbc9a35b4a733deed1b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 17:35:19 2009 +0200

    Improve queue reset on buffer queue.
    
    Whenever the queue is reset, consider all the element gone (since they
    are). This avoids using stale data and should improve seek response.

commit 0b1123492bbfc73eb2be8fa69b032d663fd20688
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 16:12:32 2009 +0200

    Add a cleanup destructor for the rtp port pool array.
    
    Again, this is only useful for very pedantic debug.

commit eeda6fa5ee1be4eeb8dd1f2033f87ed7eddf367c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 16:03:10 2009 +0200

    Don't duplicate the string returned by rtsp_timestamp().
    
    Since rtsp_timestamp() already returns a duplicated string, just use that
    as it arrives.

commit f792577e7365adc809bd8f414dac7eabc7427ff9
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 15:59:52 2009 +0200

    Make sure to properly free Track's properties.
    
    The properties_free() function was present, but never called, and also
    didn't completely free the properties anyway. Make sure they are properly
    freed now.

commit 2734190338f4aebbb89e6a232ef97a86014148d7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 15:13:52 2009 +0200

    Delete the queue as soon as it's reset, and when getting the new buffer
    element, make sure to get it from the _new_ queue rather than the old one.

commit a753902df4a85bcb386ea12eb77d7208e78149b7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 14:20:12 2009 +0200

    Fix more leaks:
    
     - remove the queue right away when we reset it (not perfect, we should
       probably also reap it);
     - uninit properly the avformat demuxer;
     - delete the resource's basename as well as the mrl.

commit 7a94ae28ee5768b1a83af5b5aa3714431dd6e880
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 13:35:08 2009 +0200

    Remove Track::parser_private and just only use Track::private_data.
    
    This actually fixes the use so that there are no leaks from the parsers.

commit d3fe3fbe7dc3aaf3991a4935074999cb27d656d0
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 27 13:01:40 2009 +0200

    Fix two leaks with sub-objects (mutexes and conditions).

commit 54f98b09a7615cc2dedec5771419af47a949073d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 27 03:07:16 2009 +0200

    Start using *_ONCE macros

commit 2cffe44e1ff47918ce84d3fb5c0681b36c69c9e2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 27 01:15:59 2009 +0200

    workaround autoconf special mmap check

commit fe3ff6b4b83122499b28a6cafdd6ba9b20058774
Merge: eb4aa24... c014a4e...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 27 01:10:28 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit c014a4ec7fb1700998264b54995fa36ecbc6c56e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue May 26 17:33:44 2009 +0200

    Revert "Replace the r_read function with a r_fill instead."
    
    This reverts commit f24476aa2d83aedfc345489056326837346eeb4c.
    
    r_fill needs to be debugged much better before hitting master.

commit eb4aa24a8749e87560f5bbce629cf571d105223a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon May 25 22:50:55 2009 +0200

    Revert "Replace the r_read function with a r_fill instead."
    
    This reverts commit f24476aa2d83aedfc345489056326837346eeb4c.

commit 1b0c7f9d703911aad02c62d840bb157ac1a65bbe
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu May 21 18:24:54 2009 +0200

    try to guess how much feng is fast to send packets received from live

commit 4353ed9b01eca7008718010b1c8230333cbefb23
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu May 21 17:56:15 2009 +0200

    Fix for queue recreated while reading

commit b8f0be3e9ce07c1a6c5516ea417b3d4003f857c0
Merge: 9513e04... f24476a...
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu May 21 16:48:58 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit 9513e04e7f7f4bc3cba24aa05b52f20ef18d0c59
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu May 21 16:48:44 2009 +0200

    Expect delivery times from flux in addition to RTP timestamps

commit f24476aa2d83aedfc345489056326837346eeb4c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu May 21 16:11:38 2009 +0200

    Replace the r_read function with a r_fill instead.
    
    The r_fill function takes the consumer to fill up as an argument, and it
    repeats the read until the consumer is filled up with 16 unseen
    frames.
    
    This removes the assumption 1 packet -> 1 frame, and make sures that if
    both the audio and video consumers have to be filled up, it doesn't request
    reading of too many packages at once.

commit 26bf1eaa86151030fff867844964c1a2b9324fec
Merge: a0708e7... 2aa760c...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 21 02:52:29 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit a0708e73e17c585a9eab9ab0fb1864244b6fde9d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 21 02:52:10 2009 +0200

    Signal end of resource

commit 83709ef823002f1c99bbd618c24ab6f3ecb7ce82
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 21 02:50:46 2009 +0200

    Make possible to have an empty bufferqueue

commit 2aa760c5d54c0d2b9ee11c199bf78dfba6a2eb24
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu May 21 01:58:19 2009 +0200

    When we're going to reset the queue we have _no_ unseen.
    
    Make sure we return zero instead of the pre-reset serial.

commit 0ad33e412782fb30490b3cf6efbb71aaa7363c3a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu May 21 01:33:45 2009 +0200

    Reset the queue before creating the element.
    
    By resetting the queue _before_ the element is created and filled, we avoid
    that the first element of the new queue gets the serial of the old one,
    avoids freeze on pause.

commit 68ba2bd3bdf031a69f9873b81e618c26776302aa
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu May 21 01:33:08 2009 +0200

    Add an assertion to make sure we never overflow on _unseen.
    
    The next serial _has_ to be greater than the current one or we're doing
    something wrong with the queues.

commit c464241083f1da70a4fb3b9d9b823556453e050e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 20 16:11:32 2009 +0200

    Typo fix.

commit 0ef54ed8b2ab8c37810b911dbfc321877f40ac4f
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed May 20 15:03:31 2009 +0200

    Make the libev test more solid.

commit b6db3250a503cc44baae7da151d0faa7881df8d2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 20 13:17:09 2009 +0200

    Unbreak sctp stream parsing, now sctp works with mplayer-nemesi

commit 17a428d476f90d189b754b1bfe4a6f667db50280
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 19 23:39:05 2009 +0200

    Unbreak socket binding

commit 8b758814eda86e27fc52834ebcbbefeffc4e55f5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun May 17 16:15:52 2009 +0200

    Don't check for the libev library if the ev.h header couldn't be found.
    
    If either is not found, make sure to error out.

commit 82add371a9cd4e7f9c1849059a2ebab204873901
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun May 17 16:12:50 2009 +0200

    Use AC_CHECK_LIB rather than AC_SEARCH_LIB to check for libev.
    
    AC_SEARCH_LIB is used when we're not sure in which of different libraries a
    function is; ev_io_start is always there, and we're good with it.
    
    Without this, the configure will check twice for ev_io_start when libev is
    not present.

commit d58af0a9c9c138c936d59279e96a3346eca7d57a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 17:06:34 2009 +0200

    Make it so that the POSIX mq is never if no errors happen.
    
    This way we don't have to go through the whole open/close cycle for each
    read.

commit 6f0ab84b81a5b54dc5071f4536f6c40209419e1b
Author: root <root@nyx.(none)>
Date:   Fri May 8 12:11:40 2009 +0200

    Rename vars & document

commit cc36309ee381511e45052f3f5c9281256362f9a3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 8 11:33:41 2009 +0200

    Unbreak live
    
    Remove remaining threading issues and make sure live works correctly.
    Bufferqueue could enjoy some retouches but works.

commit cd85a11dead02041d62a29cb657b33514dc238f6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 03:07:34 2009 +0200

    Include demuxer.h for r_close() declaration.

commit cc3baf9f6a8a178368d8e028cfd726b593ec1fcf
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 03:00:25 2009 +0200

    Remove unused declarations.

commit cea6ee50ab5ddb310ca8c833af1660b3b2144bc2
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 02:51:42 2009 +0200

    Avoid always adding one more frame to read.
    
    Instead of always adding one, set to one just when there are no more frames
    to send out.

commit 395566fd507505327bca3a4cc42f44554c090d9c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 02:49:06 2009 +0200

    Pre-decrement the counter, this way you actually read the count times.
    
    Without this change, each r_read would have read exactly one package more
    than the one it was asked for.

commit b3ba910e66a6e1c6cba5d01f9a92f0bf21fc4ccc
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 02:45:25 2009 +0200

    Merge the sdp.h header in rtsp.h.

commit 375291ca8e349ba285226f889618e03c43517cfb
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 02:43:45 2009 +0200

    Merge sdp.c with rtsp_method_describe.c
    
    The SDP functions are only ever used for the DESCRIBE method,
    obviously. Merge them back in a single translation unit so to make better
    use of static optimisation.

commit 590a14fd092524b053c81026ffd6410a4e43405f
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 02:40:42 2009 +0200

    Set the parent earlier so that it's available for free_track.

commit 4a429f681cac4ba0391bc7f3ca89567c3b7c32f1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 02:40:13 2009 +0200

    Copy the structures correctly.

commit fda50c14e660cd293ba69b2f556b38d768b3c5fb
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 02:39:32 2009 +0200

    Properly clean the structures just at the start of the function.

commit 6dd656bad711df331d9a75d8e68e7d9d1869d3a0
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 02:38:46 2009 +0200

    Open the proper file with r_open.
    
    This basically is just a copy of what is done for the SETUP method.

commit c8efd4d0a0d78379735aa8e91ba24d44d3449891
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 02:21:38 2009 +0200

    Remove entirely the *Description support.
    
    With this change, the DESCRIBE method opens the resources repeatedly when
    reading the data; this relies on the operating system's cache (which is
    likely better than ours). For further optimisation we should implement a
    _real_ cache of sorts, which is not what it was before.
    
    By removing this support, we remove a huge amount of code, included the
    whole MObject framework, which was just one more piece of code that could
    give us headaches.

commit 9467a7f5bbbbdfe89f1bf3304943a931d14376a7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 8 01:44:05 2009 +0200

    Tentative (non-working) rewrite of MObject to be thread-safe.
    
    Instead of using multiple preamble on the structures, hide the preamble
    with an anonymous structure, this way we can hide most of the
    implementation detail.
    
    It currently segfaults.

commit 61fdf76b7598bebf10a7e9e7b561b8c2aa665689
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 7 13:58:05 2009 +0200

    Further reduce helgrind issues

commit 89d1d0493fca13a4370e3ceed60430e899f128e3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 6 17:04:59 2009 +0200

    Make helgrind happier
    
    elem->serial = producer->next_serial++; isn't atomic and now
    bq_parser_put is called by different threads

commit f2bc19b90ff1d6fa416992483401b339e00fa056
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 6 14:09:43 2009 +0200

    Unbreak stored videos, trackinfo->mrl is set only for live

commit f456fcb1f28eda1e9811bc4938afec1497accafb
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 6 11:06:05 2009 +0200

    Avoid crash on last free_track
    
    Change free order.

commit 9c1f9e99fc2ae5b839500c2007994c0e341ab00f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 6 10:54:10 2009 +0200

    Wrong assert assumption
    
    It should assert just on leak, during live the condition
    elem->seen == producer->consumers is valid.

commit 2a1fde67bfb39d6ff377061232e815d8f3413d36
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 6 03:35:50 2009 +0200

    Make sure the producers-mq hash table is cleaned
    
    This way the live seems to work correctly with multiple clients
    attached.
    There are still some issues left in the bufferqueue at cleanup and we
    could probably factor the hashtable inside bufferqueue interface.

commit 4478a29870bf53b79eb4941c1d5e7b87ae3fc6c3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 5 18:44:32 2009 +0200

    Initial work to support multiple receiver per live
    
    It uses an hashtable to link a mq to a producer, as side effect
    bq_producer_stop had been superceeded by bq_producer_unref

commit 9e50994da7c52690e035038f84f764c292df3e6e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 1 19:58:41 2009 +0200

    Remove stray trailing whitespace.

commit 9fdb02ada026cacab313bbd350a1f20e2c00af1c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri May 1 19:47:10 2009 +0200

    Make sure glib.h is the first header included.
    
    Without this change, feng will not build on OpenSolaris for a parsing error
    in signal.h.

commit d37a160ccc2128e97ea6457393ae3c2b421b9a3c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 30 18:19:45 2009 +0200

    Check for support of POSIX message queue before building the SD demuxer.
    
    Since you could be using feng on systems where POSIX message queues are not
    supported, check for its presence and make sure that it's also linked in
    properly, or disable the SD demuxer altogether if mq_open is not found.
    
    This change allows feng to link properly on FreeBSD, where otherwise it
    would fail for a missing librt link. On Linux, clock_gettime is already
    bringing in librt, but on FreeBSD that is not the case.

commit 1184910e4d1e7871c2625e28ead3483f79b034f7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 30 18:09:45 2009 +0200

    Include the fcntl.h header file for mq_open's O_* options.
    
    Without this header, feng will not build properly on FreeBSD.

commit cfc29cf9302a4930749dd647b3e2055f9018afdb
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Tue Apr 28 17:24:22 2009 +0200

    Fix error on delivery+start_time jump, now they are paired and can't offsync

commit 1d7669f3d04c4b2d109562553f9183418ee6dc8c
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Tue Apr 28 14:32:07 2009 +0200

    Be more fair for local frames delivery, discard only 1 second far away frames

commit fbb970061fe5fb56e029fa39e3e121e553201413
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Mon Apr 27 23:54:38 2009 +0200

    Add a bit more delay

commit 661c7f39d36b7448c9d980c5d6b1352083550e1a
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Mon Apr 27 23:54:11 2009 +0200

    More usefull debug messages

commit baa9c55241c7bc0097b1d7220b1246afd9cd5c10
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Mon Apr 27 18:34:49 2009 +0200

    Remove stray empty line

commit 3f460f8b55ebab9f14c5b81e960b79e7587e5597
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Mon Apr 27 18:33:18 2009 +0200

    A bit of refactoring and use presentation time instead of send time of the packet to calculate delta for packets discard

commit a1b605dd33b301ccc604c8de223915a943d4d46d
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Mon Apr 27 18:31:36 2009 +0200

    Remove unused delivery

commit f6a6288b4d43e336fc5cd9673f419e0c88c7246a
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Mon Apr 27 14:27:55 2009 +0200

    Overhaul of sd demuxer to use flux provided delivery metadata

commit 3963b40764866f40510c46714b130da62119a023
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Sat Apr 25 17:44:54 2009 +0200

    Remove a warning in mq_received and also express a bit better the intentions in timestamps calculations for sd while avoiding double assignment

commit 44fe4aa96c5058238400e6884dea92a76fc4cadf
Merge: afb965f... 309a65b...
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Sat Apr 25 17:30:37 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit afb965ffb32aebcfd6cddae2b3291941bcf06fdf
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Sat Apr 25 17:30:32 2009 +0200

    Tuning for audio+video live, print queue instead of time and continue if there is no data available for the queue

commit 25bf92dfecc6efb0b258e745a8ec7df47d080a4f
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Sat Apr 25 17:28:49 2009 +0200

    Check delivery instead of marker if next packet is available as marker might be false due to broken producers

commit 309a65b6e3a319e788d8737f8b2c8b7a7183d5c1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 25 16:24:05 2009 +0200

    Use a temporary variable to hold the package timestamp.
    
    This avoids calling ntohl twice, with all the dereference and the rest, and
    should allow for the compiler to understand what's going on better.

commit 35d152c9b326261719c5f4c401511fe0ccfd793b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 25 16:21:18 2009 +0200

    Don't use the long type.
    
    Instead of using the long type, use uint32_t. The reason for this is that
    ntohl expects 32-bit parameters, and long on 64-bit machines is 64-bit.
    
    The long type should be avoided unless needed to pass pointers, or if the
    size of the type does not matter to the rest of the code.

commit 71cd4b9ba813a5108339ecf1b7ca797ee7ffd32e
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Sat Apr 25 16:14:46 2009 +0200

    Disable debugging messages

commit 3f236668456836cd9a9877bab94d269a0dda5237
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Sat Apr 25 16:12:33 2009 +0200

    Working Live

commit 4c918b166682fdc5764de049faa5430f17a9cd2c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 1 20:04:34 2009 +0200

    Add support for an AM_RAGELFLAGS to pass further flags like -I.

commit a998630f490317e647012d3f3a099a21da6c34bc
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 1 19:51:45 2009 +0200

    Even if it's unneeded always create ragel output directory.
    
    To avoid strange make syntax, always create the output directory for ragel
    before running it.

commit da7c50c83fff1ee55c3cd26a86b9ad4f42ddc5e5
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 24 21:28:16 2009 +0200

    Hacking on live still ongoing

commit 1436379957a58c44508c2718b9ec3468f5460375
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 24 16:48:14 2009 +0200

    Reindent

commit c4f20d45990a981fee42f07a3244266def5413ad
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 23 19:17:05 2009 +0200

    Live debug, overly verbose by default

commit c13baf8aed6bf149f43bf0aa9365d71651e7d347
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 23 11:25:03 2009 +0200

    the reader should not block

commit 4e5977803576737288659da17903708668d2d4c9
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 23 11:24:20 2009 +0200

    Cosmetics

commit 895d7e7d2c86f6e92f99d0df6c906ffed8a32010
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 23 01:21:21 2009 +0200

    Add a flag to know whether the resource is seekable or not.
    
    By allowing a per-resource flag on the ability to execute the seek, it's
    possible to properly handle ds and mpeg2ts streams where seek is not
    allowed, as well as hiding some details about the "live" property of the
    streams.

commit 817ed8b057bbf691b53eb6774c92f6fe6ba558f9
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 22 12:25:20 2009 +0200

    Make sure the timeout isn't triggered when there isn't an rtp session

commit 6b3f1df460be4845b4a9b0a9b3d267f4416397a6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 22 11:59:30 2009 +0200

    Implement timings over dts, bbb.mov plays smoothly on vlc

commit 389780c2f2896617c6064aeb140adf4f79c2331a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 22 00:39:17 2009 +0200

    Implement a proper workaround for the broken seeking in VLC.
    
    Only enable the workaround when the User-Agent reports VLC, not in any
    other case to avoid messing up the code for non-broken clients.

commit e586eaa8597d91cbce9092743a8db9add2302a92
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 22 00:08:42 2009 +0200

    Loosen up Range: header check to allow QuickTime and VLC to work.
    
    Since both clients send a “Range: 0-” header when the presentation is live,
    we are forced to accept it even if the RFC suggests it's not valid to begin
    with.

commit c8e133f62bbc9a8188f50e29f421181fd58d2408
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Apr 21 23:50:26 2009 +0200

    Respond with a Header Field Not Valid For Resource if needed.
    
    When a Range header is given in a PLAY request for a live streaming media,
    reject the request with the proper RTSP response.
    
    This actually happens with QuickTime right now so it might have to be
    loosened up in the future.

commit f102061bd870306cf8b29439741182b6314c9950
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Apr 21 23:35:18 2009 +0200

    Don't provide a range attribute when there is no duration available.
    
    For live streaming the value of duration is HUGE_VAL, we don't want that
    printed out and instead we directly omit the range attribute.

commit 2132a1739c9cdddf8319401645b99ef9adb03d27
Merge: d56188f... 339f7f3...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 21 18:08:04 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit d56188fd01f4cdd14291263c765eef4a6e27993c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 21 18:07:26 2009 +0200

    Initial work on quirk mode for seek (is Seek broken?)

commit 67ab8e2ac00e549e560860d535d12c4b578636dd
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 21 17:22:15 2009 +0200

    Workaround requests out of range
    
    Quicktime sometimes requests play range slightly outside end time.
    Reproducible with the dss testsuite.

commit 666658d86f5a4b23936b40f5b4d864d8c9b130b2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 21 17:14:33 2009 +0200

    Fix a crash on unstreamable resource request

commit 339f7f3378c0c748dfae0782855a5534519c13b0
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Tue Apr 21 16:33:53 2009 +0200

    Fix for broken rtsp interleaved

commit da2b57677d9d601a5bfa0f9e9986e29386d44edf
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 21 16:07:45 2009 +0200

    Make bbb.mov almost play on vlc

commit 5b5247cfe70c86d9792212bda8ce5ed4dd7edc01
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 21 16:07:20 2009 +0200

    correct order of parameters....

commit 326b0f0c184cef502dcec8ce5828a008a9e9afb3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 21 16:06:51 2009 +0200

    update deps in INSTALL, bufferpool isn't needed anymore

commit 1fa809120d5e8a52d462d85350c97b7c66f88dcd
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 21 15:37:29 2009 +0200

    Cosmetics

commit bb14a5a22b1bd53899fc549d6acf200f60cb604c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 17 18:29:02 2009 +0200

    Take internal delay in account

commit f6eb419174a87d99f3d990756a308926ad5dbfc7
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 17 16:27:01 2009 +0200

    Timings update
    
    Cleanup timings and start an hardcoded delay reduction.
    The next step is using rtcp feedbacks to adapt.

commit 32f4420233525240f42e8ed4a631dd9e00fa2b29
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 17 00:19:41 2009 +0200

    Improve support for PLAY/PAUSE and seek.
    
    Instead of just using the Range data internally, push it through the
    session; use the RTSP_Range data everywhere it matters, which also means
    introducing it in RTP sessions.
    
    With this should be possible to have much finer grained timing for the RTP
    packet send code, since we know _when_ we started and from which NPT.
    
    It also supports proper PAUSE/PLAY cycle if no Range header is provided
    with PLAY and puts on a foundation for the play requests edit list as
    defined by RFC 2326. Right now we don't check end_time so it does not
    matter to us.

commit ebdb6d387a0b1057a55ad87ed0dd10d7f234a466
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 16 19:19:20 2009 +0200

    More experiments

commit ed50344f8d1f7ed5f2e7ca5f662ee311f66ed32f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 16 13:10:36 2009 +0200

    change mparser_write proto

commit e12d9a8935c8cfd3495d6f412af6e649921d3c93
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 15 22:11:02 2009 +0200

    Add an interface to bufferqueue to count the unseen buffers.
    
    This actually allows to count how many buffers have yet to be seen, which
    is then used by the RTP code to decide whether to read new packages or not.
    
    With this change, the memory usage of feng does not skyrocket as soon as a
    big file is played on demand, since it won't be read as quickly as the
    system can, taking up gigabytes of memory.
    
    After this change, playing the 1080p HD (MSMPEG4) version of Big Buck
    Bunny (single client) tops at 10MB instead of 1GB.

commit 1aa6eb0442b9c45e3d530dd4e978527d222d5a5d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 15 18:17:16 2009 +0200

    Tentative live almost working

commit 7a8f30f30496cd0f72ddc212b1e1ebd1a7950da3
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 15:32:17 2009 +0200

    Disable assert, debug code and g_assert when disabling debug.

commit 3f1d5e3fb70634028f6bccb4c6ba2001bd290961
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 15:31:58 2009 +0200

    Add minimal cleanup to main.

commit 8bbb1015f3253f6191d8ca42704bacb54b0ddc0c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 15:09:47 2009 +0200

    Use the new define, and further remove data when not cleaning up.
    
    Since the listeners array is never used when not cleaning up, make it
    conditional and pass two pointers instead. This increases the code when
    doing cleanups but reduces it when not doing them so it should be okay.

commit a9f13673d06a86449b974818766bf688ff2d66f3
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 15:09:32 2009 +0200

    Hide the __attribute__ syntax to avoid confusing Doxygen.

commit 7dbfd6a524f86c04d7de42a5e7bd19f5a34f7fbe
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 14:51:19 2009 +0200

    Make sure sockets are closed on exit with cleanup destructors.

commit 75fdd0d27568ed81247b7b6a4656a61524ac188a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 14:37:36 2009 +0200

    Remove the feng::listeners array; instead make it static to incoming unit.
    
    By making it static to the incoming unit it's possible to clean it up with
    a simple destructor hook when building with debug enabled, and forget about
    it on production builds.
    
    This also avoids a few dereferences; even with the cleanup hook enabled,
    this actually reduces the executable code generated.

commit 0828d6e15aea60c2d750f968cfaccf25eddd0f19
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 14:37:22 2009 +0200

    Create a new CLEANUP_DESTRUCTORS preprocessor macro.

commit a1568ff484d8cd89e4ef22ae16c6be5f57491042
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 14:30:34 2009 +0200

    Check if the destructor attribute is supported.

commit 5597f5bb8daf890886408c63975f314bba7dd48c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 14:30:24 2009 +0200

    Fix test for constructor attribute and add one for destructor.

commit 0928b8aeaa3e9b899b9ba2587144d9c6b0aaba74
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 14:30:04 2009 +0200

    Pre-define the DOXYGEN macro when parsing.

commit 2e7cd8081ef5f538f4b386c172793bfd8a8125dd
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 11 14:29:42 2009 +0200

    Only index inside src/ subdirectory (avoids avroot).

commit c430dedf2254987db75f82e938f7245a9a8ef90c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 10 22:33:01 2009 +0200

    Make sure to cleanup resources properly.
    
    Re-use the now-unused feng_free() function, move it after feng_alloc() to
    have it nearer to where the stuff is allocated, make it free the whole feng
    structure too and document it.
    
    Please note that still this translates into a no-op for NDEBUG production
    builds since that is only useful to make sure the memory leak tools like
    valgrind don't go around bothering us about it.

commit 1bad0d43021021ec1d15d1c77a18e3cb5387e047
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 10 22:30:40 2009 +0200

    Make sure to stop the writing callback too.

commit f8432c322e64c3f04a08f9233069f2a677e0e527
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 10 00:05:26 2009 +0200

    Make sure to properly free resource at exit (with NDEBUG not defined).

commit da20dafc4a4200b7ad9421f2a76bb999437ec8fd
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 9 18:45:35 2009 +0200

    Make the object static.

commit b9d11fe5d6895a05ae8c5e945396ead53db2b4d4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 9 18:25:49 2009 +0200

    Yet another timing try

commit 345ae4c34ce3dde917d1306041e957a31a6bc9c2
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 9 15:32:35 2009 +0200

    Remove trailing whitespace.

commit 8fc66fb41885e031349ebc834adb5518532d1201
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 9 15:29:44 2009 +0200

    Fix guard.

commit d3a1fee903482d32b4e83648a3565d92fae257ee
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 9 15:29:21 2009 +0200

    Remove rtsp_request_get_path function, now unused.

commit 57a13f4966166976884bb5bb1e5206f3fcc9d8a5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 9 15:20:53 2009 +0200

    Rewrite the URL splitting for SETUP method.
    
    Instead of simply accepting anything between the last '/' and the '='
    symbols, and not checking on the second SETUP request for the URL to be the
    same, make sure the URL is always consistent, and with the correct
    separator.

commit bf8881153bded1b9b889154b6a2d07a94c7bf78d
Merge: b7b5d8b... 5f71964...
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Thu Apr 9 00:24:40 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit b7b5d8b54a47f1886fae1033c3650e057602f387
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Thu Apr 9 00:24:34 2009 +0200

    allocate precise buffer. When it works we should preallocate buffer and preopen mq

commit da0afba875967307aea34cc3a54d39ce1d42882f
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Thu Apr 9 00:16:41 2009 +0200

    Initial live support, not working

commit 15586e59de9095d2946932d28607ef080f224468
Author: Alessandro Molina <alessandro.molina@gmail.com>
Date:   Thu Apr 9 00:14:22 2009 +0200

    avcodec 51 should be enough for feng

commit 5f71964c68b93ec09352f7ad65acf65b2a78dd3d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 8 22:07:26 2009 +0200

    Avoid the SDP2 name (which is nothing useful).
    
    Replace sdp2.{c,h} with sdp.{c,h} and replace all the SDP2 occurrences with
    sdp.

commit fa814e61e75fb10bedb5691bd956d11b87db2ff7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 8 22:05:31 2009 +0200

    Remove unneeded sdp2.h include.

commit 626693948b1424d7f4f011aed70f12057fbd3425
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 8 21:58:08 2009 +0200

    Use a string table to find the right m= value for the media.

commit e4acbdc55611e52f55bd730c213ec9c93f0683a7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 8 21:18:46 2009 +0200

    Remove the SDP2_* public definitions.
    
    Since TrackID is used exactly once, set it where it should be used; also
    replace the first append to the SDP2 string with initialisation, since we
    know the version beforehand.

commit 17fc198ec5e30780f97b328e972e979a50515131
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 8 21:13:42 2009 +0200

    Pass a full URL structure to sdp_session_descr.

commit 0b0db59952237e7dfd2a2195a9843f8712614d99
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 8 20:52:54 2009 +0200

    Directly save the full URI for RTP sessions.
    
    Instead of just saving the filename in the RTP sessions, and then go a long
    way to find the correct value to send to the client once it's time to fill
    in the RTP-Info header, just save the full URI in the structure.
    
    Please note that the previous RTP_Session::sd_filename was only ever used
    to provide the full URI. If we really need the local filename, we can
    deduce it from the RTP's resource.
    
    This fixes bug #60.

commit b4f44a4a794bbb658297a5392896378936f15508
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Apr 8 20:50:14 2009 +0200

    Break up again the get and move methods for BQ_Consumer.
    
    This allows to "peek" the next buffer in line without introducing new
    primitives.

commit 0b6f694e5e3b4fbaed769765f3314756d92e820b
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Wed Apr 8 18:22:12 2009 +0200

    Report TrackID instead of codec id

commit d16995b045adc37abc3bad292b7bf3ecb07fb186
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 8 17:45:26 2009 +0200

    0 is a valid start time

commit e485256f3ce9e54e078da392f04c356c0629fbf3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 8 17:23:20 2009 +0200

    Eventually fix timings

commit afdb0d4b3a55503dd5a998c9479b94d5d70ffa45
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 8 02:02:52 2009 +0200

    Almost fix the timings for h264 and mp3 (at least)

commit a78ba1dc343f4c3bfa23a67fd8e533dba81f436f
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Apr 7 13:27:59 2009 +0200

    Replace the mediathread with a simple Resource interface.
    
    Instead of having a dedicated mediathread interface, reimplement the same
    features with simple Resource object-based interface. The r_read and
    r_close function work asynchronously thank to a per-resource thread pool
    for reading (which can be told to read more packets at once), and a global
    one for closing.

commit bda6b543dd09aaf567ded9c4b27fd5b069c740bb
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Apr 6 16:32:44 2009 +0200

    Fix padding count.

commit e50ca94cd3dc1c5c132040e8dd7b46ad85c58864
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Apr 6 16:08:42 2009 +0200

    Always read from the the resource instead of only reading after sending.
    
    When we don't have data to read, and yet we don't send more, it's obvious
    that we'll continue not have anything to send.
    
    Also don't count how many frames we send. If we send more than we require
    to have in cache is even a better reason for reading than having sent less
    then the total cache.

commit 056935bb7631eb1635d1db73413b0a94d6ecb6df
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 17:53:37 2009 +0200

    Remove unused includes.

commit 9a4822cc220802f8ff601b44fbd47445c6e08a17
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 6 13:28:20 2009 +0200

    Fix rtcp

commit 314e40bdcc9fdb1c4e724a559facc487a3cf0569
Merge: bf3db98... 148f478...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Apr 5 17:50:02 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit bf3db9846c1cf8bfe15ef2b9ce3d527005134a35
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Apr 5 17:49:51 2009 +0200

    Initial timing update, still broken

commit 148f478561b4ac231906bac5cfc5e178e42b84fe
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 17:48:10 2009 +0200

    Move feng_bind_ports in incoming, make feng_bind_port static.

commit 8effb3a99cbb6e0c431295a8d6fcc6d4959d93d6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 17:44:04 2009 +0200

    Merge also incoming connection handling in rtsp_client.c.

commit 58150427a5a3bc196825d1edf9ce745b440a9c30
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 17:38:04 2009 +0200

    Merge in a single function client_deregister_events and rtsp_client_free.
    
    Execute everything in the client_disconnect_handler.

commit 3099cc086e4606504e549a29ba6b8a6c3ec70268
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 17:25:40 2009 +0200

    Replace client_events unit with rtsp_client.
    
    The new translation unit merges in the RTSP_Client object handling with
    most of the events and the client_add() function.
    
    This results in two exported functions less than before, and better
    optimisation chances.

commit 078741bb7fce1373956f059ead992087f5475caf
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 17:08:24 2009 +0200

    Move incoming's add_client() to client_event as client_add.

commit 9a3f0738332847daa1f361e3d6aa7490eef691c3
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 17:02:01 2009 +0200

    Remove the list of connected clients, since we don't use it.
    
    The old code was probably using this for some polling or stuff like that,
    but the current check that a socket is not duplicated is of no interest to
    us, so we can just drop the whole code.

commit d5bc1b135e13cff6a8afb9c699ecaf9c673726d4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 16:44:19 2009 +0200

    Remove unused member.

commit 66fce3a26c007d2f7db74fa732f1f9fab1b012a1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 16:29:21 2009 +0200

    Merge num_coon and conn_count in a single connection_count value.

commit 0dab48088e6ce714e2ca5ed011c7fcc2a7f4276c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 16:14:15 2009 +0200

    Allow again multiple bound ports.
    
    Instead of creating a list of listeners, though, create an array that is
    allocated and freed as a single memory area, directly on the feng server
    object.

commit eb46ae9b025b35b0351b91663240ae7c17fcefec
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Apr 5 16:10:57 2009 +0200

    Update media parser to express packet duration
    
    Now the parser can express the effective duration of the rtp packet
    crafted, this information can be used to simplify the send time
    calculation.

commit 47710a2aaaf2cfdbe519fed00fcae1317d86df15
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 16:03:12 2009 +0200

    Rename the eventloop translation unit to incoming instead.

commit 6cc25d054e4be5a728dd3a1d4ba206321d04662d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 16:02:09 2009 +0200

    Cleanup docs.

commit a4eee94818a531d6de7982756d32159e9a38882d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 15:49:18 2009 +0200

    Remove the eventloop_* functions, inline in main.
    
    Since the eventloop_init() and eventloop() functions come down to be one
    function call (to libev) each, and eventloop_cleanup() is empty, move them
    directly inline in main and get rid of the outside interface.
    
    The eventloop.c and .h files should probably be renamed now.

commit 1d200c2b81dd2cad9efdfd5f47ec31134316da0a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 15:46:38 2009 +0200

    Remove the io_watchers list since it's now unused.

commit af1f6ba5e2ba1c1fc74c419598555743762744d4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 15:44:28 2009 +0200

    Don't add the RTSP_Client read listener to the list of io_watchers.
    
    The io_watchers list is used to free the ev_io objects, but since the ev_io
    in RTSP_Client are inline, they are stopped and freed together with the
    RTSP_Client object.

commit 99d7d58e05640a109504d586bc37bb76753d84f1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 15:43:21 2009 +0200

    Use a static ev_io object to bind the listening ports.
    
    Instead of creating the object in heap and then having to free it, create
    it directly as a static object (in .bss); this reduces the overhead
    required by allocation and deallocation.

commit 2dd92e4e5d431123b78f86c6c5d373997447a1a5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 15:43:00 2009 +0200

    Use memory slices for Resource and Track objects allocation.

commit 9584b76609b89d89faa81766d31c513dea5af593
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 15:32:04 2009 +0200

    Don't use dynamic-allocated objects for timeouts and async events.
    
    Since they are always allocated with the client, it makes sense to have
    them just inline in the structure to avoid the alloc/free overhead.

commit 8fc12c085e4b049318d38fec0c4478747e3ad9e5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 15:07:47 2009 +0200

    Improve RTCP documentation.

commit 692863990831582e96753c60913640479633f94f
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 14:59:15 2009 +0200

    Set the size of the output buffer, or it'll always report 0.
    
    And with this it stops sending 0-sized RTCP packets.

commit 61bc4f731d494b6c06e248b7cac6571e3d20d157
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 14:41:18 2009 +0200

    Update RTP documentation, there is no longer a lock on sessions.

commit 3ff3e7f20f210e771fab5137d374e459e2bbfb78
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 14:41:04 2009 +0200

    Document mediathread.

commit a54842e4dce256b0367977ead1d1ac3fff0e0919
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Apr 5 14:23:45 2009 +0200

    Remove end of stream flag from resources.
    
    If we really want to do this we have other ways to check for it.

commit 3c20298b686699e5bf2af762807b42b89e1df243
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 03:36:40 2009 +0200

    Header inclusion cleanup.

commit 1c00eab2e2e6df19b35496a796cb800fc572e8d6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 03:31:06 2009 +0200

    Merge rtcp.h in rtp.h and reduce to a single RTCP function.

commit dbf7a4ccdfd78df5c8fdf61ceeb86b701605a473
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 03:20:16 2009 +0200

    Don't use const in rtsp_bwrite.

commit cd3c886faba9b232efb0a135123f53f90e40a2de
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 03:17:36 2009 +0200

    Include mediathread.h only when actually used.

commit 5ae2ce2ed884f333ddd8595e22b476013658e23a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 03:13:10 2009 +0200

    Rewrite mediathread as two thread pools instead of an actual thread.
    
    The result is that now instead of always having a started thread, they are
    created and reused as needed for the tasks to complete.
    
    Also rename event_buffer_low to mt_resource_read so that it actually
    follows the interface.
    
    Cleanup the mediathread.h header so that it's very quick to include, too.

commit 100e12c9362a9fb9f2a0e0e619b81458defaebb9
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 03:12:51 2009 +0200

    Fix header inclusion (that will break otherwise with the next commit).

commit b19aa09e0e8018ff362650a0833fa195be4e92dc
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:45:18 2009 +0200

    Fix include to avoid implicit declaration of inet_ntoa.

commit 30a61cd327f0b0588f9905f925ef85cfc58a7ad1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:40:30 2009 +0200

    Use g_free, not free.

commit fbc6d213e912af0eece9821d05d68bef6dc7d4f6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:39:26 2009 +0200

    Remove unused parameter to calc_send_time, shorten it.

commit d2f17d3fcc756284af6ee79bd8f8ea9754063a95
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:38:06 2009 +0200

    Fix prototype.

commit d304988a4d1bf9a8d007f69666d989c2b4013235
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:35:30 2009 +0200

    Merge rtp_sessions.c with rtp_transport.c in rtp.c.
    
    The new code actually allows for better inlining since the two functions
    are only ever called there.

commit 5d7c8bf9e237ebd124085fdfb37f6e6f40367614
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:26:20 2009 +0200

    Replace rtp_session_free with a rtp_session_gslist_free.
    
    This puts the interface in line with the rest of the rtp_session_gslist
    functions.

commit 9e3c4e21ee2e9cdaf2f6c183743516bde8252eca
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:20:11 2009 +0200

    Remove unused variables from server_stats.
    
    This actually reduces to two unsigned counters: pkt_count and
    octet_count. By moving the RTP_Transport structure at the end, the
    executable code also reduces.

commit 531e7279b2029b1193785d56e191d57c10878c4a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:18:02 2009 +0200

    Remove RTCP reading code since the read data was never used.

commit 5ff6ac4e254ec33337524bcf480db225812a0e8b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:14:44 2009 +0200

    Remove the output buffer from RTP_session since we don't need it any longer.

commit 495d968f50c1fd2ac1f05b69009d4f9900c759f5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 02:14:21 2009 +0200

    Add missing 'static'.

commit f0dd8f0551642e166d550b87bb7e151237d5d6e4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Apr 4 01:24:09 2009 +0200

    Rewrite the RTCP generation functions.
    
    Use aliased structures for writing the data in (they are always 32-bit
    aligned); this actually allows for a single once-allocated area (beside the
    GByteArray structure), without overly-complicated memcpy().

commit b6cd0a4b1a9b989cda61104796fb2b83c331cc58
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 23:53:47 2009 +0200

    Queue up GByteArray objects instead of GString objects.
    
    While RTSP always writes GString objects, interleaved might want to write
    binary blobs; similarly would happen with HTTP encapsulation. So make sure
    GByteArrays are used instead.

commit e15ddcb4eaa07ac56533feee335c05d798a9ec5c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 21:17:27 2009 +0200

    Replace the output queue for clients with a standard queue.
    
    Since interleaved and rtsp parsing happen both in the same thread, there is
    no need to use a complex GAsyncQueue for the output.
    
    This assumption holds true also in the future worker threads design.

commit 68ddce2e543cdb43c3e0c1bc30a255e6bac30127
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 21:08:11 2009 +0200

    Remove locking from RTP sessions.
    
    The RTP sessions are always handled in the same thread at different
    eventloop callbacks, so it should be safe rot leave them unlocked.
    
    This assumption is also true for the future worker thread-based design.

commit 698017bb202a49f632f8f6d36aa8d789ca3027fb
Merge: 37401ae... 4541951...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 3 20:00:54 2009 +0200

    Merge branch 'master' of git@git.lscube.org:feng

commit 37401ae34a03049a139857bc14c7ba27a462a0ad
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 3 20:00:23 2009 +0200

    Free the rtp session again

commit 4541951825fc9db0ffb0f292bfd70cbd84b00b9d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 17:57:34 2009 +0200

    Avoid inclusion of further headers in eventloop.h.
    
    Predeclare structures and remove unneeded things.

commit 307e986771cfa6958f47370ee25cf084b8dcdbbe
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 17:57:18 2009 +0200

    Include rtp.h as needed for RTP_port_init_pool.

commit 580271aec2e3ab7501dae7867bd61da40eaaf184
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 17:53:57 2009 +0200

    Move include/fenice/server.g to src/feng.h .
    
    Update the source files and headers; don't include feng.h just if we need
    to declare a feng * pointer, just pre-define the structure. Add the feng.h
    include where needed. Move netinet/sctp.h include in the two source units
    that do actually use it.

commit 249aadd2da6a4072698c4562bd394caf2fce1db7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 17:32:30 2009 +0200

    Move include/fenice/utils.h to src/feng_utils.h

commit c4b2052446b88d33909e5fe5af66e4d5b17e7916
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 17:29:02 2009 +0200

    Fix including of fenice/utils.h to avoid including it more than needed.

commit 9a1de5de944ff3444a76bd3a8864dae3d0f1917d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 17:24:36 2009 +0200

    Remove WIN32 hacks.

commit b2b2e73d755b5bbeaaf79e9e7462ac0f030907aa
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 17:14:12 2009 +0200

    Move NTP_time inside sdp2.c since it's the only user.

commit 7b67fd9ba5748e7694b1bea7acb4b4e787067169
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 17:09:43 2009 +0200

    Remove the HDR_ constants since we're using the ones from eris anyway.

commit 1f650548acec922d8b861360ce12fed208edd827
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 17:02:00 2009 +0200

    Remove fenice/prefs.h
    
    Since prefs.h requires the definitions in server.h, and server.h already
    included prefs.h merge the two and just have one.

commit bf29838daae79b3fa10f34dcdc6556331b85fe5d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 16:57:44 2009 +0200

    Move sdp_grammar.h in src/mediathread/, and remove SDP_FIELD.

commit 72f46bb1b388a94cf1e3ea98cd695de5131cadfc
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 16:49:23 2009 +0200

    Move cpd.h inside src/mediathread/metadata, adapt sources and build system.

commit ef3b4c23a049ba04a39385549e3ae122777aa198
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 3 16:49:12 2009 +0200

    Cosmetics

commit 08951b3034e3efb974c3805ab21930e83d3a1e48
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 16:48:10 2009 +0200

    Don't mark sources as executable.

commit e846abd7081e8b46f72028e3a2562e9fb5e018b3
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 16:44:24 2009 +0200

    Move include/fenice/fnc_log.h to src/fnc_log.h.
    
    Also change the include to always just reference "fnc_log.h"; remove and
    add fnc_log.h inclusion where it's actually needed.

commit 3b4d013683770e74b2c3cf2ceb16a1d49535bcc0
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 16:37:11 2009 +0200

    Remove is_valid_mutlicast.c source unit and header.
    
    Move the function inside demuxer_sd.c where there's the only use; move
    DEFAULT_TTL inside sdp2.c where there's the only use.

commit 36cbdd219cbf8898d8f6c562f2af947e8fc7d62f
Merge: cb13f22... 4a911c6...
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Apr 3 16:21:37 2009 +0200

    Merge branch 'scheduler-removal'
    
    Conflicts:
    	configure.ac
    	src/Makefile.am

commit cb13f225cf0be355c3109fc6b4af1f14abb003b6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 2 17:28:12 2009 +0200

    Bump version to 2.0.99, this code is supposed to become feng 2.1.

commit 61bb335522d358f4a2218d355124867727a352e1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Apr 2 17:26:35 2009 +0200

    Copy the used liberis sources inside feng and use that instead of the
    external version.
    
    This is actually needed because we're not going to use liberis in the
    following version (2.2) and thus we shouldn't rely on that as an external
    shared library.

commit 4a911c698fd529b9c54a63b85098cd4dea8e3983
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 30 20:04:02 2009 +0200

    Move rtsp_read_cb to rtsp_lowlevel.c.

commit 33b66c87aa7c3c9b7b138830d9a03608e5b40238
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Mar 31 09:10:14 2009 +0200

    Make feng cleanly stop on sigterm

commit 913bc3ebbcf85a5f8435ed2e4141f27b4a7eebf1
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Mar 30 20:16:13 2009 +0200

    avoid calling the actual function from the callback

commit ca06e90576fbc77b036b4d36957db67b0753ec17
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 30 20:01:20 2009 +0200

    Merge rtsp_write_cb with rtsp_send and move it to rtsp_lowlevel.c
    
    Instead of having a simple static callback that calls the extern rtsp_send
    function, merge the two functions and move them extern to rtsp_lowlevel.c,
    this way the call overhead is avoided (static or not should matter very
    little given it's a callback).
    
    This also removes the returned “written bytes” value that was being ignored
    anyway.

commit 31ee1e2e45786787a10fb041956918a008a81404
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 30 19:27:03 2009 +0200

    Document rtsp_sock_read and change the first parameter to RTSP_Client.
    
    The reason for the change is just to keep the calls as opaque as possible,
    and just leave the function using it to dereference it.
    
    Also drop the “inline” keyword that we don't really care about (let's leave
    that to the compiler).

commit 0b9f461ee6ea2ef9e6fad1199e6eff762c039ee4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 30 19:16:59 2009 +0200

    Refactor rtsp_read_cb().
    
    Reduce the amount of indentation by using goto statements to jump a bit
    around in the code; the result is a basically identical logic but 22 bytes
    shorter in instructions.
    
    Also rename the variables n and m to read_size and channel respectively, so
    that they have some meaning when reading the code.

commit cef1a2c7836c64f3ee1f7a22962ea69017341824
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 30 18:54:39 2009 +0200

    Whitespace cleanup.

commit 3bb23e1cc3c71bc85888af7d40892df9cc0d5f61
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 28 02:13:00 2009 +0100

    Include glib.h before the system header files.
    
    This is needed for feng to build under OpenSolaris.

commit 0942840fe4698d4c67e50ae8cbb1d6e74c163778
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 22:42:48 2009 +0100

    Update SCTP check from netembryo.

commit 80ce044bfad6011483aafbd5441f6d0c9d3d9158
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 21:32:42 2009 +0100

    Add a few static keywords I forgot.

commit c39f275b61c11e43d32cb41afae526379dd3ef34
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 21:31:38 2009 +0100

    Save the value returned by inline description functions.

commit d10e7dcf376aba49195eca86b338b95a204cb25c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 21:25:57 2009 +0100

    Replace straight for loop with a g_ptr_array_foreach call.

commit 9a2bc5b870c205566ae555f325463d226c27da04
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 21:19:52 2009 +0100

    Decompose all the loops into foreach function calls.

commit 606739c9041428d2ef60a3fd0eae52be3ffc9c9e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 21:19:42 2009 +0100

    The assertion hits, no idea yet why, something is wrong.

commit 7ed1da6c17bac682df25c430730a43235993a1b9
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 21:19:30 2009 +0100

    Fix error.

commit 9f22f450c42bcd84ea1ebc55a823e751e7391d9a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 20:54:25 2009 +0100

    Remove GList wrapper macros (that foster bad habits).

commit ea141277c1f6bb895bfd9dfc248316db365293ab
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 20:54:02 2009 +0100

    Remove usage of MEDIA_DESCR.

commit 5c43fdf191ee510889d7797d0dad9c7752e6e4f6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 20:51:05 2009 +0100

    Remove use of TRACK(x) macro.

commit bfac39b0edd623aaaeecaf26cdf43c99ff8fedbe
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 19:10:13 2009 +0100

    Documentation cleanup.

commit dacd24caeceee8abc9cd0305c9d86e025475c27d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 19:09:07 2009 +0100

    Remove unused variable.

commit 0325efef0b0f5337d07d3e19c65cf05b494d93a5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 19:07:58 2009 +0100

    Append to the list instead of prepend, avoids having to revers it later.

commit 8fb2da2ef4354f85ee4a83ac2d7ca694cd4da99e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 18:59:29 2009 +0100

    Move r_changed right before r_descr_cache_update using it.
    
    Also document, return a boolean, and use g_assert instead of just checking
    that MRL is valid.

commit e1ebbfdf784e6fc015a163fbab15222b01cd975e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 18:35:15 2009 +0100

    Remove use of RESOURCE_DESCR() macro.

commit a71aa1630a82e46c4ec2989fa80f4e8b12188b72
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 18:28:00 2009 +0100

    Document the functions used for seek (and rename).

commit 4ec2637e95277f209528782c0d288f52dee34fb5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 18:20:29 2009 +0100

    Change the free_track logic to uncouple it from Resource.
    
    Let the Resource free function take care of resetting the list; also make
    sure that the num_tracks value is not decremented needlessly.

commit 25f283473e7622d7cf2716a3dee6541be2f70326
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 18:07:24 2009 +0100

    Use g_list_find_custom to find the track in a resource.

commit 44621f0a434020b432e7408b53566e2f23e3a03e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 18:01:27 2009 +0100

    Make r_descr_find a true function, and document.
    
    By making r_descr_find a true function it's easier to document it; we
    assume that we're using a compiler that knows how to inline this type of
    call (GCC does).

commit 893f53c4678f0a176a98b55cda2144be3c2bebe0
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 17:56:45 2009 +0100

    Move cache_cmp near r_descr_find.

commit 0b313ef3c0c69d79681e0412872430f50298d55e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 17:53:25 2009 +0100

    Cleanup logic.

commit 60d61757c4486f37f659a8ee4eb8bcebb2c7988b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 17:49:33 2009 +0100

    Use the foreach interface of GList instead of doing so manually.

commit 21fff8ef4a927586beb3038e0598ea5515b87b60
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 17:38:39 2009 +0100

    Remove useless check.

commit d67f1d232b009a7e2e0c96c32eeed924f86305a8
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 17:37:01 2009 +0100

    Cosmetics: fix indentation.

commit e7dd817a0389c7836d6ebacef37b632dcb7f3d81
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 17:36:11 2009 +0100

    Clean up old compatibility macros.

commit 549f5f523dacaa8e3491adf78c60b139013fa98c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 17:32:25 2009 +0100

    Fix interface.

commit aaf53429bb8ceff90b471adaa6b4675611c7c966
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 16:35:41 2009 +0100

    Replace nan() functions with negative values.
    
    Since the parser will reject negative values right away we can just use a
    generic negative value.

commit 5836d798b9984a02da49b2f0c6534e6da76b5233
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 15:31:14 2009 +0100

    Update the LSC_SCTP macro with FreeBSD 7 support, and update conditionals.

commit 61f88baaf1619f94642320b96ed542c73dbda994
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 14:44:54 2009 +0100

    Remove unused enum.

commit d2eb64e648232ae7a9016c1371735957bca3879f
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 14:43:43 2009 +0100

    Replace the RTCP_stats structure with an anonymous inline.

commit cde26decf370f6eac0b2fae803fdd424d297f914
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 14:25:47 2009 +0100

    Cleanup RTP_session, remove unused members and reorganise.
    
    This actually reduces the generated executable code since we've moved the
    cachelines a bit. All the compound objects have moved to the end of the
    structure, and nested anonymous structures will allow to have a more
    concise way to detail the information.

commit b54462180330b4ec3690ddb441dc16eb92967d8e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 13:46:34 2009 +0100

    Move r_descr_get_media inside demuxer.c
    
    This localises most of the resource-using functions inside the mediathread.

commit a70fca9b6106842c3bd32b0bece4aaa68851022f
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 13:40:08 2009 +0100

    Accept constant string as parameter.

commit daaea2b63297a2958ad01fb4e89614b6445c89b1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 13:37:33 2009 +0100

    Split the r_descr_get_media function to use g_list_foreach().

commit 353624ec8ba0645e8cb05621f9d6dbeb821889de
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 13:29:21 2009 +0100

    Move the variable down in the scope where they are used.
    
    Instead of just using the same variables in the whole function in multiple
    blocks, try to make the function more readable by creating new variable
    when needed.
    
    This is not going to change the generated code in negative way (it actually
    will reduce slightly the amount of generated code since we're saving the
    “->data” dereference to be executed multiple times), and makes the code
    much more readable.

commit af33f7a22a18db1fa946e22253a4b17011f7b085
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 13:22:30 2009 +0100

    Use g_free() to free encoded_media_name.

commit 868f4fabba01572f38f445c76880d0180c2b17d6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 13:19:49 2009 +0100

    Accept constant strings.

commit a13d188d0947f91571d7b078b329721759288a8d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 13:17:42 2009 +0100

    Remove old defines and unrelevant include files.

commit 813862fbecf1de7b5e39233bcbdb3a04bff548c3
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 27 13:14:30 2009 +0100

    Rename sdp_session_descr.c in sdp2.c.
    
    The old name was used because historically feng has a one-function-per-unit
    setup, which is no longer the case. Rename it so that the name of source
    and header files is the same "sdp2".

commit 49f96a26088474319e762b4eb31a80973b7590a1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 26 20:40:00 2009 +0100

    Fix prototype.

commit 507ef675b13725a1750c374781ec645c87070f42
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 26 20:38:48 2009 +0100

    Remove mt_resource_open().
    
    Move metadata handling inside r_open itself, and call that directly.

commit 0c4f1fcdf39f94cca0d11da0ccbd0ab03afcaf48
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 26 20:34:44 2009 +0100

    Remove mt_resource_seek().
    
    Call directly r_seek() since we don't hold the global mt lock any longer.

commit e9540de8b55c320710a0724f0223980efcf3008f
Merge: 38b6ee4... 17e0956...
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 26 20:33:10 2009 +0100

    Merge branch 'bufferqueue-experimental' into scheduler-removal

commit 17e0956b6e1f4ca10a3aa466f56bb6e558804dd6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 26 20:30:34 2009 +0100

    Replace the global mediathread lock with a per-resource lock.
    
    Please note that the resource lock should probably be locked in other
    situations as well, but for now should work fine as it is.

commit 38b6ee48a6906d7d3777636908850d441b3ece42
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 26 18:53:44 2009 +0100

    programname is used by the logger do not free it...

commit db506443b572cce2e3b910eb5a20d0d666ee6920
Merge: 8ac1e0b... 5e0b0a5...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 26 18:50:58 2009 +0100

    Merge branch 'bufferqueue-experimental' into scheduler-removal

commit 5e0b0a5416b107999753013d9f3c53e56e2a252b
Merge: 5210885... d14a7ae...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 26 03:22:45 2009 +0100

    Merge branch 'bufferqueue-experimental' of git@git.lscube.org:feng into bufferqueue-experimental

commit d14a7ae10f4ce422e2995aa6c59ad2c6abc12737
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 26 04:18:01 2009 +0100

    Simplify mediathread further.
    
    Instead of having a switch case on an event id, create two callbacks (the
    third is the already-present r_open function) and put directly the callback
    inside the mt_event_item structure that is added to the queue.

commit 8ac1e0b1acb5d5339bfb35adb392cf22c604df44
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 26 02:54:52 2009 +0100

    Removing scheduler part1

commit 96b5f7e03141fff850658d26d83df8b018a584f3
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 26 01:44:58 2009 +0100

    Fix ref/unref of GAsyncQueue

commit 69e5826b1669ee9a81fc7107cc1ade99de7a828c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 26 01:33:35 2009 +0100

    Remove pretty obvious typo.

commit 5210885791af1899972479e82fc2824ca25a2577
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 26 01:05:40 2009 +0100

    Todo

commit ddd6210a351826d19a76b9ee3ce81fd5e0a726d2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 26 01:02:29 2009 +0100

    Cosmetics

commit 2918ff98b53d75933cf60d9ba2d2234691d03f98
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 26 00:20:37 2009 +0100

    More proper way to address pause/play and session timeout

commit 8b3cee6a1c3f348d25eaea14acb262accbf05f34
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Mar 25 23:30:49 2009 +0100

    minimal fix for timeouts on pause

commit 4b62b68d364eff9fa2c73ee201e37a5f4917ce39
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 26 00:19:43 2009 +0100

    Simplify mediathread to silliness.
    
    This changeset removes all the extra cruft from the mediathread interface
    reducing it to being somewhat silly, this will be the basis for further
    expansion if anything is needed.

commit ff2866525ad2e903fc17a206d2ec28098817b8bf
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 22:52:20 2009 +0100

    Move RTP session pausing inside rtp_session.

commit 7b264d783632e6bf66216ccb62665fba07b395a7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 21:08:59 2009 +0100

    Fix doxygen.

commit 1c4431c3a39a5bfe19126c8ccef3bbca1428198e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 20:22:56 2009 +0100

    Rewrite almost entirely the play method implementation.
    
    Make the parser work on exactly three double values, begin, end and
    playback timestamps; the latter could also be replaced by time_t since
    that's the resolution we have right now, but it's currently unused anyway.
    
    The ParsedRange structure is moved inside the ragel_parsers.h header, and
    supersedes the old play_args structure.

commit fda7781e32e294333fa54e5b3bf1ecef0f009d3c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 20:22:26 2009 +0100

    Include the network directory in the search path for header files.

commit 2e6adc0a911d76f9c2e7ca42520ab49e7ff4f41b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 15:17:30 2009 +0100

    Create a single ragel_parsers.h header file for all ragel-related code.
    
    Rename the old rtsp_method_setup.h header into ragel_parsers.h; by having a
    single central header for all the Ragel parsers we don't risk to change the
    interface without GCC warning us.
    
    Also, this allows to reduce the scope of structures used to pass data
    around between parsers and users, without having to create one header per
    parser (which would be a huge overkill).

commit 016431ebbe326577829e635219a95062fa0f0dce
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 15:16:00 2009 +0100

    Remove unused typedef.

commit e3856064b6490fc6aa905c2e2d493e4b9cf20ba4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 03:36:24 2009 +0100

    Merge rtcp_handler.c and rtcp_send_packet.c in rtcp.c
    
    Also add an RTCP_send_bye() function to send the bye sequence.
    
    This way the RTCP interface is entirely opaque and almost entirely static.
    
    Functions that are no longer present have been removed from the rtcp.h
    header file.

commit 4cbad13fcee9bbf09b70739fb4b9c953b70b9f28
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 03:28:23 2009 +0100

    Move definition of RTCP structures in rtcp_send_packet.c

commit d9be847a3cad22c00e85f17f674a958d324112f6
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 03:25:13 2009 +0100

    Include client_events.h

commit e628d9b8f675100deac9b178f3a7d001c92d5f5a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 03:20:27 2009 +0100

    Rename RTSP_buffer in RTSP_Client.

commit f4aeab249046623e2266ca43bbfde288536d8741
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 03:19:51 2009 +0100

    Restore typedef.

commit 81c0546f145fd84e3148bae258ee516651ee57cc
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 03:12:42 2009 +0100

    Doxygen documentation cleanup and improvement.

commit 4017f1f99ab9c02b549a28da17dd911b8f3035a7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 03:12:15 2009 +0100

    Whitespace cleanup.

commit f3d1a76701fb0f4999644216a00f0ae88d353338
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 03:11:25 2009 +0100

    Remove unused definitions.

commit b9f0329d0598ad9c8c1b05f04e81ca7b18da9aa3
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 02:42:19 2009 +0100

    Group together the doxygen documentation of interleaved interface.

commit cbf75dcb0d7c1adc2c699191867004e89dee6eb7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 02:35:06 2009 +0100

    Make RTSP_interleaved an opaque type.
    
    Since now all the interleaved-handling functions are in rtsp_interleaved.c,
    the knowledge of the implementation details of the structure is unneeded by
    the rest of the code.

commit 5ff9bc29a62b631530e69d04bcc664891de444f9
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 02:31:59 2009 +0100

    Move the code to close and free interleaved structures.
    
    This should make all the interleaved RTSP functions reside in the
    rtsp_interleaved.c source file, instead of being scattered among many
    source files.

commit 4139b0c4e42ea09b9098ee1a21e22ec7e05090fa
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 02:09:50 2009 +0100

    Initialise the buffer right away, not with memset().

commit 642ceb865892fd33d42cc5ccdf246be49ff99bc4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 02:08:46 2009 +0100

    Remove definitions of interleaved callbacks that have been removed from eventloop.c

commit 601bd60c787b22c714b3ea84b36f485006783d28
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 02:06:58 2009 +0100

    Create a wrapper function to send RTCP data for interleaved RTSP.
    
    This merges the code used by TCP and SCTP interleaving in a single
    function; while the code was functionally identical before, it was in two
    different source files and with two different structures, the new one takes
    most of the structure from the TCP version that seemed much more
    sophisticated and safe.

commit 758983e1da6bfde2ce3bf03efe1afbc3b33de977
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 01:49:57 2009 +0100

    Start moving handling of interleaved RTSP in its own source file.
    
    Try to reduce the scope of all the interleaved handling code inside
    rtsp_interleaved.c so that required changes can be localised.
    
    This also allows to replace find_sctp_interleaved and find_tcp_interleaved
    into a single functions since they had the same code (but were declared
    static in two different source files).
    
    With enough work it should be possible to reduce the visibility of the
    structures, as well.

commit c518ec3f60c2842fbc160904030b5e0328467af7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 01:31:55 2009 +0100

    Restore the singly-linked list for RTSP_interleaved.
    
    Commits e53ac909d03c6134efd15413457e7308486bbc1d and
    f7041d50039939ba1ec86483223aa5bfd0838d9b broke interleaved support since
    they assumed a single interleaved stream per session, but we usually have
    more than that.
    
    The new code is a mix between the original and the updated one, and
    something new at the same time: the ev_io object is inlined in
    RTSP_interleaved_channel, and RTSP_interleaved is formed by two
    RTSP_interleaved_channel inline objects called rtp and rtcp, to make them
    self-explanatory.

commit 57022dd4fa14de4c74d68da5e1acdfdf06999731
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 00:42:37 2009 +0100

    Replace the static ~70K buffer in RTSP_buffer with a GByteArray.
    
    The GByteArray object grows as needed instead of having a fixed worst-case
    buffer always available; this makes the RTSP_buffer structure fit in a
    single page (it is now 280 bytes, of which 128 spent for the interleaved
    setup).

commit 9054694e975c4a03ff8b7d027b22edd90075b0e8
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 00:28:54 2009 +0100

    Reorder the RTSP_buffer structure to put all the big elements at the end.
    
    By doing this we save further code instructions, ensuring a better data access.

commit fb2f58f47a8b6db3a0f799a6d3873e0c69263b22
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 00:24:04 2009 +0100

    Move the in_buffer array at the end of RTSP_buffer.
    
    With this, all the remaining 300 or so bytes of data in the structure are
    actually present in the same page, rather than scattered between two.

commit 281ec91743bf2fb1c9af437b15699bdefebd2702
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 00:19:32 2009 +0100

    Remove schedule.h inclusion.

commit 73a4130f4e98162253d088d501a1057d686d8368
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 00:18:10 2009 +0100

    Move setup of interleaved callbacks inside rtsp_method_setup.c.

commit f7041d50039939ba1ec86483223aa5bfd0838d9b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 25 00:13:20 2009 +0100

    Simplify handling of interleaved transports.
    
    Move the ev_io_listen object inside RTSP_interleaved; replace the
    singly-linked list of RTSP_interleaved objects with a pair of inline
    objects.

commit e53ac909d03c6134efd15413457e7308486bbc1d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 23:53:47 2009 +0100

    Inline expand ev_io objects used for interleaved access.
    
    Instead of using a singly-linked list (which is likely to use more memory
    than just expanding the two objects), create a simple ev_io pair for the
    listen instances.
    
    Also note that the structure is already about 70KB, because of a single big
    buffer, so adding a few more bytes is unlikely to change much.

commit 1f711f0f9eedfff89d96b5b0842518eb4aca7c27
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 22:36:48 2009 +0100

    Update and expand documentation of RTSP_Request.

commit 5233130eec901cac4a49e3f10f392ccd6399b308
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 23:29:53 2009 +0100

    Make sure to save the pointer instead of always returning NULL.

commit 34cf52c685f671da6541cb75f60051156fb840f1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 23:17:52 2009 +0100

    Fix argument constantness.

commit a9e60ebf6992784cc37657c56307d8faf5e95400
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 23:17:37 2009 +0100

    Make sure to initialise ret to NULL.

commit bcffd2cccbf75beaf088d7c747d545e2a0d68097
Merge: 72615cf... fe40f60...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Mar 24 23:30:07 2009 +0100

    Merge branch 'bufferqueue-experimental' of git@git.lscube.org:feng into bufferqueue-experimental

commit 72615cfed4bc02e9a8d4e809f6c571aa79381e71
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Mar 24 23:29:58 2009 +0100

    Move the callback code where the callback is...

commit fe40f60ec6809c5f053a175c56815ae307b57ba0
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 22:26:07 2009 +0100

    Replace ev_io pointers with inline ev_io whenever makes sense.
    
    Since we always allocate them, they need not to be pointers, and their size
    is small enough that inlining them does not make the structures overly big.

commit cfb37eb5bcaa34d374def1dd7acabadd179e75ee
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 21:31:19 2009 +0100

    Use gboolean.

commit a01e0154f67b7815df87a3e86fceb1bd62a1ebc1
Merge: 5843b93... 6b52d1c...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Mar 24 21:28:28 2009 +0100

    Merge branch 'bufferqueue-experimental' of git@git.lscube.org:feng into bufferqueue-experimental

commit 6b52d1cf5b6f2f3546efe5c147a836f3ba45de3e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 21:27:05 2009 +0100

    Move RTP seeking functions inside rtp_session.c

commit 5843b93a6947e93f995795f18a4b47e7298fdc38
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 21:27:05 2009 +0100

    Move RTP seeking functions inside rtp_session.c

commit 05405d5abccfa3cafb57f0f12aba88aa6eecb4d5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 21:13:57 2009 +0100

    Move the foreach call for starting RTP sessions in rtp_session.c
    
    By moving the call in a wrapper function we can call a slightly modified
    rtp_session_resume() directly, which should avoid further indirection.

commit f09b0433fd1a6a77de5b9be8f31c966761046a9a
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 20:54:02 2009 +0100

    Make use of the new rtsp_request_get_path() function.
    
    Don't pass around the Url structure, use directly the string.

commit 34371c3c6cfe8bc44265aa89c6e31af94e616fd7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 20:53:32 2009 +0100

    Make sure that the Url structure is deallocated before exiting.
    
    Without these changes the Url structure would leak for each request
    received by the server.

commit 24f9bce1081e3a7c142e4edf894ea246b99172f1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 20:50:26 2009 +0100

    Improve the URL checking functions.
    
    Make rtsp_request_get_path() return the already-allocated string, avoiding
    one extra alloc and copy.
    
    Create an rtsp_request_check_url() that checks the URL and deallocates the
    Url structure already.

commit 37e4cf60a096960634eef5547b2a6f5a975168fa
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 20:31:44 2009 +0100

    Add a function returning directly a copy of the path from the Url.

commit aefb68eaadd7969975c0abf3d7de9cf8f81f9a89
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 20:21:56 2009 +0100

    Remove unused variables.

commit 7481087f9e26d3a774ba143fd0dccc6dfec3a8fa
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 20:20:56 2009 +0100

    Remove useless return statement.

commit 56f93a8c33ebb0a00659adfed720ce49c9a16ede
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 19:40:54 2009 +0100

    Make sure to declare rtp_session_new.

commit dd095d44952186a46811980da6952374eca66b67
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 17:20:07 2009 +0100

    Use the path instead of the url when splitting.

commit 6563f7af8f95507c711618fb6f17fc8d5b0a0023
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 17:15:54 2009 +0100

    Move the Transport header parsing before resources are opened.
    
    This should optimise the connection handling: if the client requests an
    unsupported transport, the resource is not opened (and thus the disk is not
    touched).

commit af22e8d7be4a198f378607e9049ba9e74d956597
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 17:14:04 2009 +0100

    Fix typo.

commit 2f86f02d4bce037e23d12eeea22dfcd0ea00d60c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 17:06:29 2009 +0100

    Remove the whole Selector object, create a simple lookup function.
    
    Instead of using an ephemeral Selector object during the SETUP phase of the
    streams, simply look up the track as needed. This not only simplifies the
    logic but also reduces the amount of code used.

commit e365efe7e19b33586c3889a0cf3d4b0c1da21d73
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 16:52:58 2009 +0100

    Store the Track rather than the Selector in RTP_session.
    
    Instead of saving a pointer to the Selector object (requiring further
    inspection each time it's used), save the Track directly in the
    RTP_session object.
    
    This allows faster access to the data, and the number of objects present in
    the process.

commit 3feb76b1ca377c043fe059acd6e31506684cf26b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 16:40:30 2009 +0100

    Further simplify handling of starting/resuming RTP sessions.
    
    Remove the started flag, and just finish setting up the session object
    when it's allocated.
    
    This also allows for the BufferQueue consumer to be created earlier in the
    process.

commit fbb012060625fb57ff528ecef62239f5941fe942
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 16:38:07 2009 +0100

    Lock and unlock the session mutex instead of simply pausing.

commit 5b28f65992997a1b7e30c6b6c06f3e7d6578a18b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 16:21:52 2009 +0100

    Merge rtp_session_start() and rtp_session_resume().
    
    This also kills rtp_session_resume_internal().
    
    Since the two functions are almost identical and are called just once in a
    branch of another function, create just a single function with a branch in
    it.

commit d8e691ea0870a8e99fab312b7b0d9520420d33a8
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 16:11:04 2009 +0100

    Set last_packet_send_time directly during internal resume.
    
    This avoids repeating the same code on different code paths.

commit 8e3f6b5f87537f59ca402af538b6618ba64a3213
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 16:06:55 2009 +0100

    Factor out the common code between start and resume of RTP_session.
    
    This should reduce the amount of generated code, as well as the amount of
    visible source code.

commit fba6f4f0272b3305a19e0927fac846fd13ef9fac
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 15:56:23 2009 +0100

    Replace the rtp_play_args object with a double value in start/resume.
    
    Since we only use the start_time attribute of the structure, just pass that
    and we should be done.

commit c8185e712cfc1f85689b060b73f7ba8fde032477
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 15:51:34 2009 +0100

    Move session start/resume inside rtp_session.c.
    
    Instead of having schedule_* functions to start and resume sessions, move
    them inside rtp_session.c, simplifying them a bit.
    
    Note: further simplification is going to happen in the next commits.

commit e24e0f62a96c9b39e9d5fa2ea4c396a275671b22
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 15:33:38 2009 +0100

    Use memory slices for RTP_session objects.

commit eb42b5f7642c613681a0d91f96439aebc8d4b613
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 15:31:59 2009 +0100

    Move the functions to create and free RTP_session in rtp_session.c
    
    This allows for the allocation and destruction functions to be close
    together, and reduces the presence of RTP_session handling functions from
    the various sources.

commit 26c3efbef78c31c1f111ad48ec131beb82d7d9d5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 15:05:14 2009 +0100

    Create a new unit for RTP session handling.
    
    Instead of scattering RTP session handling between many files, try to
    concentrate it in a single translation unit rtp_session.c.

commit 04433da9e764c7afa8a1c57f288070f47c3ac44c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 14:52:11 2009 +0100

    Move the handling of RTP sending out of the scheduler.
    
    Instead of executing all the logic inside schedule_do, make it just call a
    function (from rtp_transport.c) where the prerequisites are checked and
    then the actual packets are sent.
    
    This is the first step toward making the scheduler oblivious of the
    RTP_session structure internals.

commit 3564daca09f8543b1bfa26017329ae32353fa668
Merge: 5366c69... cb5ae5e...
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 14:49:44 2009 +0100

    Merge branch 'newlocking' into bufferqueue-experimental
    
    Conflicts:
    	src/schedule.c

commit 5366c6915c941eabff36adf3a6e4da9a35480bb0
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 14:46:57 2009 +0100

    Make bq_producer_get non-blocking.
    
    Since the function may be called from an event loop, it's better not to let
    it block waiting for new data. Since we need to know whether the producer
    is stopped or not, though, add a function that can tell us if that's the
    case.

commit 38022800197e0cf0417b468fc0c90302f8c492f3
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 14:43:42 2009 +0100

    Make use of the new bufferqueue reset interface on seek.

commit f1d98428a705ce0189d60fbc1826a20b927caa46
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 14:41:24 2009 +0100

    Add an interface to allow resetting the queue of a producer.
    
    By resetting the queue of the producer it's possible to discard at once a
    series of buffers that are no longer useful. This may happen, for instance,
    because of a seek in time or a request to change tracks.

commit 35d99cbf38929dfe3d8f30c3e3317093e01b5772
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 22:09:36 2009 +0100

    Remove bq_consumer_next(), merge it with bq_consumer_get().
    
    The new interface moves around directly during the _get() function, and
    allows to switch the queue around if needed.

commit cb5ae5e446366d07293b0f35d661b0e990859e8d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 14:13:42 2009 +0100

    Make sure the newly-created RTP_sessions are properly locked.

commit 33bade434d4ac97fd0b1d14e1ac296a17c0dfe92
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 23 22:45:54 2009 +0100

    Fine-grain lock sessions.
    
    Add a mutex to the RTP_session structure, make sure to lock and unlock it
    whenever the data in the structure is used in a way that require
    synchronisation.

commit ae8c0bb969e7c4d71a8b7d748e3315b48794bc1f
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 23 22:14:33 2009 +0100

    Simplify the schedule_do function of the scheduler.
    
    Use atomic operations wherever it makes sense since this stuff needs to be
    properly synchronised.

commit e64c0bf6762521c728eb72b6be305a59f3972d10
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 23 22:03:01 2009 +0100

    Replace the schedule_list with a simpler array of session pointers.
    
    Simplify the schedule, by removing the schedule_list structure altogether,
    and replacing it with an array of pointers to RTP_session objects. This is
    possible because of the old structure, the mutex is being replaced, the
    valid flag is always set/clear together with the session pointer, and the
    play_action function was always RTP_send_packet.
    
    Instead of having per-entry mutexes on the array, use (for now) a single
    R/W lock, which is accessed in read and write not much for the type of
    access to the session but just to the actual array.
    
    The resulting code should not only be much simpler but also much less
    likely to deadlock.

commit 3fc7e15a826b31ffae3f4723727b632b084253f7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 23 21:27:00 2009 +0100

    Clean up locking for mediathread events.
    
    Instead of creating the list as first thing in the mediathread runner
    (which might cause race conditions), add an initialisation function that
    takes care of starting the mediathread runner _after_ the initialisation is
    complete.
    
    With this,t he el_mutex can also be dropped in favour of using ref/unref on
    the queue itself.

commit bd3c863ebaa00905344c158d9f4c553c64c5f794
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 14:14:14 2009 +0100

    Remove useless check.

commit ec287ad511e7058f7b086763844e4fa0171b2170
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 24 14:11:22 2009 +0100

    Set RTP_session::metadata during session creation.
    
    Also reduces the amount of noise lines a lot.

commit fe720346c32a56b78ec17fc03e3bfe7de1a7f51e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 06:51:43 2009 +0100

    Since they are constant, remove rtp_time and seq_delta attributes.
    
    Assume a seq_delta of 1 for each package, and no rtp_time present.

commit ce01f0e241c79dc2efe783b1146e09bf6e9649ff
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 06:48:39 2009 +0100

    Remove seq_delta and rtp_time parameter from mparser_buffer_write.
    
    Since these two parameters are passed always with the same value, remove
    the parameters and just set them hardcoded. The attributes haven't gone
    away for now.
    
    This reduces the function arguments count to a reasonable four.

commit 1f071c88356c7addcb3724b6041ae0d016401b87
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 06:43:44 2009 +0100

    Make the mparser_buffer_write take a single Track parameter.
    
    Instead of passing the producer and the timestamp, use a single Track
    parameter from which the two are taken. This reduces by one count the
    number of arguments for the function (now it's down to six), which should
    reduce the call overhead.

commit e3818b7cb893b59b22e961fcb8a4aa427512e0bc
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 02:35:06 2009 +0100

    Move the last timestamp to the session.
    
    Previously the send_time calculation relied heavily on bufferpool doing the
    job. Since we don't use that any longer, save the last timestamp in the
    session and (for now) assume a packet per iteration.

commit 41aed95925a60f8052614f08fcf6a7e2b2e3fac9
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 09:03:52 2009 +0100

    Remove check for and requirement of bufferpool.
    
    All the bufferpool usage in feng has been replaced now.

commit ec2a9082000a90193644c7d7de9c57a9f894d434
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 20 19:51:30 2009 +0100

    Remove bp_log_init call.

commit a82c0611a8fe1b7476e99a01ae0f6a77f609143c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 09:01:08 2009 +0100

    Update all the parsers to use the new mparser_buffer_write().
    
    Instead of using directly the bufferpool API as before, or using the
    BufferQueue API, use the new addition to the mediaparser API.

commit 50420f53551e9f527b4dd9370f3174f2b80d855c
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 08:59:10 2009 +0100

    Update the RTP code to use BufferQueue instead of bufferpool.
    
    This updates the RTP_session structure, as well as the code using it, to
    BufferQueue using BufferQueue_Consumer instead of BPConsumer.

commit 242ee48b7dfdfb389431e70726c34d4489a679d7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 08:57:34 2009 +0100

    Use BufferQueue instead of bufferpool in struct Track.
    
    This replaces the BPBuffer pointer with a new BufferQueue_Producer, and
    also updates the code that used the old BPBuffer to use the new interfaces
    instead.

commit 90fd4a2123d15cc529207f81b2d91aeebed1fe62
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 08:50:21 2009 +0100

    Create a mparser_buffer_write() function to replace bp_write().
    
    The new function has almost the same interface, but seq_delta is 1-based
    rather than 0-based, and it takes a BufferQueue_Producer instance instead
    of a BPBuffer.

commit b8ec07c69b9cc6d1aee09ba6f3affc97497afa52
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 08:35:41 2009 +0100

    Add the new Buffer Queue structure mean to replace bufferpool.
    
    The new framework is a simplified version of bufferpool, with a simple
    producer/consumer multithreaded system, and opaque data types. The whole
    system deals with either opaque objects (producer and consumers) and a
    generic pointer to the actual data passed from producers to consumers.

commit 135dd22434375bf4f7b157709102f83cba4a15c5
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 23 20:24:46 2009 +0100

    Remove unused source file.
    
    The RTCP_recv_packet() function has been removed with commit
    c64483385d174727ac406b26933c4b36ddf6e5df, the source file is thus unneeded.

commit af8d33544c522626f44eca7d27b82490f1fc22f2
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 23 01:15:19 2009 +0100

    Add missing includes.
    
    Fix building under FreeBSD 7.

commit 75e73c2cc2bfc9fb1e5dcc27401275b0f3f496d4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 23 01:14:41 2009 +0100

    Enable the same extensions on OSX and FreeBSD 7.
    
    Similarly to netembryo, make sure to enable BSD-specific extensions
    otherwise things like MSG_DONTWAIT will be missing.

commit d9eecec38092dcf3342673ca7f0b3d3a01403282
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 23 01:10:35 2009 +0100

    Make sure the target directory is created before running ragel.

commit 98953f8d96cca50c2cc4987bba3c96e03dd74807
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 23 01:10:11 2009 +0100

    Use multiple sed statements rather than bash replacements.
    
    This makes the configure script POSIX-compatible so that it runs under
    FreeBSD's shell.

commit 257e9495880b14b537e8a5532de63af91d524a42
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 09:24:21 2009 +0100

    Replace unneeded higher-level string with C-string.

commit a238322720d374bb8471c176db84966b705d5b75
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 09:09:20 2009 +0100

    Remove obsoleted @todo.

commit 5bfa3823fe52aebf473fb79d66d04b61dce03f23
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 09:02:39 2009 +0100

    Whitespace cleanup.

commit d05584c400a1832c6be133816d3e7414bf4174a4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 08:43:21 2009 +0100

    Rename the buffer structure for the configuration file to conf_buffer.
    
    The reason for this rename is that having a too generic name, tied with
    Doxygen automatic reference generation, causes the generated documentation
    to have links about "buffer" that are totally misplaced.

commit d047b0584048ae62c56421400ebf079967bc7991
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 06:58:17 2009 +0100

    Avoid 4 bytes of padding on Resource objects.

commit 670a410176398a0e1b4015d7abaf4747e6018a0f
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 06:54:21 2009 +0100

    Remove 8 bytes of padding from RTSP_session.
    
    Interestingly, this also reduces the executable code on my system of 25
    bytes.

commit 4f8478244e6d8d34309eeb03a10d819d54e01110
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Mar 21 02:41:04 2009 +0100

    Make mt_add_event a void-returning function.

commit b6e93df95cccda21a1fd8eecbdad96d79becc295
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 19 13:25:41 2009 +0100

    Replace the RTP_header structure with a full variable-size RTP_packet.
    
    Instead of just creating the header structure and appending the data after
    that, make the structure variable-sized, and then access the data payload
    directly. This not only avoids one pointer arithmetic use, but should also
    make it easier for the compiler to know how the data is accessed.

commit 1d11ebb09c4a43175b79d7de598250b88b027bc2
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 19 13:21:25 2009 +0100

    Define the packet only for the block where it's used.
    
    Instead of allocating the header on the stack, and creating the packet
    pointer at the outermost block, create them directly inside the if block
    that is actually being used.
    
    Also, instead of accessing the RTP_header as a local variable, access
    it directly on the packet buffer, avoiding one 12 bytes memcpy later.
    
    Generated code is the same size as before.

commit 68055aac0d9db77efffb85281df86a7a55cbc71d
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 19 13:17:59 2009 +0100

    Move RTP_header structure definition inside rtp_transport.c.
    
    The RTP_header structure is only used directly in rtp_transport.c so having
    it in a header file is not required.

commit 5eb80379bb8e5f0f92bf71eb012ff330daa63e12
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 19 13:00:45 2009 +0100

    Comment out live streaming support.
    
    The live streaming support needs to be rewritten to not use bufferpool shm
    support, in the mean time just comment it out.

commit af868cc2cd4813ffd65903f9705524cab1ef18be
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 20 19:41:29 2009 +0100

    For the -uninstalled configuration file use 8554 as default port.
    
    The idea is that the -uninstalled configuration file is used for test and
    debug, and thus is run with an unprivileged user that cannot open ports <
    1024.

commit a437999f08fea56be37fc70b898d36d6c78cb630
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Mar 13 19:48:33 2009 +0100

    Remove DUMA build-time support.
    
    Since we're using glib for memory allocation, we cannot relay on DUMA at
    compile time any longer. There are numbers of memory debugging utilities at
    runtime though.

commit cc0c54b34212bb396369c3098765e9dd826bfe2c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 14 15:47:35 2009 +0100

    Remove unused prefs_* macro and simplify r_open

commit 69f289dc3cfbbfced4c838bf54596fe6949893f2
Merge: 745d1c4... c889f33...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 14 15:41:42 2009 +0100

    Merge branch 'master' of git@git.lscube.org:feng

commit 745d1c4485605baf8ed95cb089013d3004c55d90
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 14 15:41:29 2009 +0100

    Incomplete Interleaved packets aren't errors...

commit c889f3313fd130c41b92a5d188e465b02bc55d80
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 12 23:26:17 2009 +0100

    Make hdr_size a static constant value.

commit dcc69b0863297b2e8aa74a44773b03a5495dff8b
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 12 11:55:17 2009 +0100

    Update the ragel macro from liberis.

commit ffa26b39e203b737250f0e694b51ca838c04497e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Mar 12 11:53:08 2009 +0100

    Fix typo.

commit 3484958434b156a12b4a677e331b947c5c59cc36
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 11 18:59:11 2009 +0100

    Remove pointless file.

commit d040dc62e3b235544df780f55c0261394e2dcc37
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Mar 11 11:46:29 2009 +0100

    Use suffixes-based rules instead of pattern-based rules.
    
    By doing this, feng builds using NetBSD's bmake too, rather than just
    gmake.

commit 85ac387ee8b24704824690d1055a4fe995cff1aa
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Mar 11 00:19:52 2009 +0100

    Live streams have no end, the rest do

commit afcea10a2e7343e9e495610d67bb97eeef06b5d5
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Tue Mar 10 23:51:21 2009 +0100

    Fix seek on VLC

commit 5e6ddf56625452f4fddefb3bae66ea63a3f698fd
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 10 18:25:50 2009 +0100

    Fix sources list.

commit 386ab8eb170e6c7589dba54660a18182287e27e4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 10 18:22:12 2009 +0100

    Check for presence of the source file only if ragel is missing.

commit 7090bcec7d6c7bf76a364935e1e8d8c544a88e38
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 10 18:02:45 2009 +0100

    Distribute the source files.
    
    This way the ragel-generated source files will be released with the
    tarball.

commit 88a448c9510afde787a29825b238a17e87dc72b1
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 10 17:58:57 2009 +0100

    Write a macro to check for Ragel.
    
    Since we need Ragel when building out of GIT but we shouldn't require it on
    users when building it from tarball, check whether it is required or not.

commit e3157385eac8d5416f38593b8fd506fa55b81203
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 9 18:35:58 2009 +0100

    Replace bufferpool include with stdint.h (which is what gets used).

commit f9ceb4bb6780a1fecc7041d16974164fa7674e04
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 9 17:52:52 2009 +0100

    Avoid recursive make for building network-related source files.
    
    Try to reduce overhead of rebuilding feng incrementally. To do this, make
    the ragel parsers standalone, like it's already done for liberis.
    
    This should also improve dependency tracking.

commit 704d6915bfa5b5c4a50a10733dc6c3164f9eed58
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 9 17:11:47 2009 +0100

    Remove superflouous include.

commit 3454df6769e339545f0e92e2c966896e233817c9
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu Mar 5 22:10:47 2009 +0100

    Timeout tuning

commit 5dcbf787ac372df1e06dc8aa5fa702e89956a645
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu Mar 5 22:01:17 2009 +0100

    fix double free

commit 5dc57a5e4abede8444220e23389ded8866a918fc
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu Mar 5 21:47:09 2009 +0100

    ooops, client_destroy is now in rtsp.h

commit f77889bb7990c94d06adf79211337013ee815965
Merge: 1e00ca5... 4883ea2...
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu Mar 5 21:43:25 2009 +0100

    Merging client events and timeout support with liberis work

commit 1e00ca59c718870c592f0580a007cc110ff1a2ec
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu Mar 5 15:34:04 2009 +0100

    Timeout on ev_timer

commit 12e7dc113eaad956a861bfdd3ca4c1368ba87cea
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu Mar 5 02:21:51 2009 +0100

    Refactor timeout system and implement it also for normal streams as some clients (ffplay) ignore BYE packets

commit 244478ef1280ec98460a614f7d73a6b01f5b4ad9
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu Mar 5 02:21:26 2009 +0100

    Remove session closing from TEARDOWN as every client will close the connection by itself after TEARDOWN

commit 89b9930f9504055f48abc63b686ebd5e33fe6640
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Mar 4 01:22:38 2009 +0100

    Remove stray debug.h and related leftovers

commit 893dc828c40cb7ef0533444d0417c6eb6eff54aa
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Mar 4 01:16:15 2009 +0100

    Improve logger

commit f63366ea0168e018c52919915cff22eb93277455
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Tue Mar 3 23:03:55 2009 +0100

    Fix a freeze when streaming using interleaved

commit 4e87a256df6b0a02d7447c3675384882c04cc3f3
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Tue Mar 3 23:03:34 2009 +0100

    Prevent VLC from abandoning before switching to interleaved

commit 0133bd98ca47da7d22f3502ebadc267cca3951c4
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Tue Mar 3 17:53:32 2009 +0100

    VLC might want to switch transport so will need longer timeout for live (all of this must be converted to a ev timeout)

commit 4883ea28d94ddd8c594852e21264d8a6d59bce8e
Merge: ea6a561... 9f0f4b5...
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 3 17:37:31 2009 +0100

    Merge branch 'master' into liberis-2
    
    Conflicts:
    	src/eventloop.c
    	src/network/rtsp_describe.c
    	src/network/rtsp_method_options.c
    	src/network/rtsp_pause.c
    	src/network/rtsp_play.c
    	src/network/rtsp_set_parameter.c
    	src/network/rtsp_state_machine.c
    	src/network/rtsp_utils.c
    	src/network/rtsp_utils.h
    	src/network/sdp_session_descr.c

commit 9ea896d4926c3641ca7db3c034207ed976e9610f
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Tue Mar 3 17:35:59 2009 +0100

    fix for vlc plugin not closing after BYE

commit 9f0f4b521282f88199cfd9d0c0b61c04448d42c7
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 3 16:08:09 2009 +0100

    Remove all trailing whitespace from source and header files.

commit ea6a5616082fe41f7db2d3fdecdf7426650c5ec8
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 3 15:41:26 2009 +0100

    Move the request parameter at the end of the ragel parser function.
    
    This is just aesthetic to make it follow the liberis headers parser
    function.

commit dc971c02351c44eb49747f9367f1e4b22005bc51
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Mar 3 15:38:19 2009 +0100

    Update the request parser to make use of the new liberis interface.
    
    Since parsing of messages is being moved into liberis and made work in a
    more complex fashion, try to reduce the amount of work done by feng.
    
    With the new interface, feng just has to parse the request line, while the
    header are autonomously parsed by liberis. The new parsers have a very
    different interface as they return the number of characters consumed, or
    zero in case of error, rather than their parsing status.

commit 812081fed064e287adb88674fe395171d3300e42
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Mar 2 22:05:54 2009 +0100

    Not a nice clean up but at least it prevents clients from freezing on 404 and 500 errors

commit d699aa275c6738ec3f4996234c5868cbd0ddc5a6
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Mar 2 18:36:31 2009 +0100

    fix for crashes after quickly closing streams

commit c7d6dc0083c0c69adadd89af4ce88832804c26fa
Merge: ff9a5f3... 6a1b9da...
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Mar 2 18:20:03 2009 +0100

    Merge branch 'libev'

commit 6a1b9da97b3ae29d318f1071847a48e7039309a0
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Mar 2 18:18:55 2009 +0100

    Timeout for live streams when not receiving data from producer

commit 9379ce14a350cc370fe31b8d7546066528d83c62
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Nov 12 14:59:39 2008 +0100

    Use liberis-provided constants for the headers, rather than literals.
    
    Using constant names rather than literals helps avoiding typos since
    the compiler will see if the constant does not exist, but it would
    accept a mistyped literal just fine.

commit 1614b353b00acdd9e6c468f6f27c3bbe7624b0eb
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Nov 12 14:16:50 2008 +0100

    Simplify the state machine, let liberis take care of parsing headers.

commit 8bd1e13bdba4bccc9704fd4f9ea37fab6bdf684b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Nov 12 14:16:11 2008 +0100

    Check for and require the new liberis library.
    
    The new liberis library will provide protocol support for RTSP to
    feng. Since responses and replies can go both ways in the RTSP
    protocol, mkae sure that a single library can be used for both server
    and client.

commit b48befd3bc612d515e0ece89541543a8aa130413
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 18:18:52 2009 +0100

    Avoid encoding the file name, or it would over-encode it.
    
    Also remember that the client is expecting the same URL as it requested,
    otherwise it fails to accept th eplayback (with QuickTime at least).

commit 7072106fd5f00b167c86c15b8567078ec9eb8d9e
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:19:26 2009 +0100

    Make sure to destroy the client after everything is done with it.

commit fdbb1cadc45a1f9780c33dbaf82bd59fe9275c32
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:13:36 2009 +0100

    Don't try to send an InternalServerError reply when there is a read error.
    
    If we have an overflow or any other problem during in the read callback,
    assume the client is doing something wrong and don't try to communicate to
    it, simply close the connection.
    
    Also fix builds since rtsp_send_response has been removed.

commit 5a1276e5e9d5431ef0c290c853915fb3e109da03
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Use glib slice allocator for allocating and freeing RTSP-related
    objects.
    
    The glib slice support should make it much more efficent to create and
    delete objects, especially in time-constrained situations like
    requests handling or quick responses, also reducing memory
    fragmentation.

commit 1bcba4e481bd8e74d99ed9e4b2d0323000ec61f5
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Make sure the ragel-generated source code is cleaned out.

commit 0c98674b3d2d624c6c58917bb3fe1517f89c3863
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Parse the Range header using a Ragel state machine.
    
    Instead of scanning the Range header manually, parse it using a Ragel
    state machine. The new state machine will make it piece of cake to
    support new range formats, like clock and smtpe if we decide to go
    with them.

commit 1e5a2f3d7d842302021cb3bd953f1feb64b92d68
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Remove unused eof variables.

commit e40f51bdd7e4ca53c57dae45dd7bfbe14bbab103
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Set the method just when it has finished to parse.

commit 9f6fd9a8d1dbab8601286c6c4d287178eeb7ab0d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Mark pointers as constant strings.

commit 23b116182db1aa3be2982a2cf9a3df7929bb4086
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Kill some warnings.

commit dde63435351e2970eb554a08322c46c2eee5cec0
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Make sure we do return the newly created object.

commit 2bf63a71ded787d6fd80d22367b70473fb9c9aef
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Make return type warnings fail as errors.
    
    When we have functions returning a value but without a return
    statement we have a random return value that we certainly don't want
    to happen.
    
    Make these error with modern GCC.

commit 82a662f699caa770f0caa6c8e15447fc9b826039
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Fix typo.

commit 0775db91aaaa8bc4d2f41d02ef08dd2ebd22f241
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:36 2009 +0100

    Assign rtps_s when it's tested to make it more logical.

commit cef2af3bce2f3dfbf6ba7139e40000524e4d122f
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Mark check_parsed_transport static.

commit fdea9918ebaf37f52d84bf86a255228fc4152585
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Don't pass the full URL object pointer to select_requested_track().
    
    Since it only needs the path, just pass that.

commit 3537872d4a4f1d7ec7cacc150e4e9f3f9db41f14
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Don't use goto to send out the error response and return.
    
    Instead of doing jumps around the code in the sources, leave it to the
    compiler instead.

commit ee7a97bf420e8f503ac2f8b03b73fd1b58973aaf
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Move the session count check in SETUP rather than DESCRIBE.
    
    Since the client might require a description and then not proceed,
    there is no reason to refuse its request at DESCRIBE method, but do so
    during SETUP if we don't have any more space for new connections.
    
    Also, return a proper 453 (Not Enough Bandwidth) status rather than a
    500 (Internal Server Error).

commit 4679220430da711710de47056c046c84b06239b3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Update Makefile.am

commit 8e3682fe77037dfa535bd84bf548ece72e20605a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Re-use what the client requested as object to answer at DESCRIBE.
    
    Make then sure that PLAY reports the correct URLs since we're now
    embedding the port too, when it was given on the URL.
    
    Also, take the protocol specification from the URL itself, this will
    allow an eventual rtspu protocol support.

commit 979fe0ad3563ea0a2522e4055c38405d0d2013b4
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Change session ID handling.
    
    Instead of keeping a 64-bit session ID saved in quadword form, make it
    an arbitrary string of characters, which is made of two 32-bit random
    numbers concatenated in hexadecimal form.
    
    This way, the Session header coming from the client can be directly
    compared with the saved session_id without requiring any further
    processing and parsing (which is most likely more expensive in term of
    computing power than a straight string comparison).
    
    Also improve headers checking so that it can handle the situation when
    a client sends an unexpected session more properly.

commit c0f8a4210fbc3edef6e5c757d126a312abb1087c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Create RTSP_session objects during SETUP phase if needed.
    
    This way we'll have the session objects only when they are actually
    needed, and we can open a new session for a client after TEARDOWN
    (which destroy the session object).

commit 795b8132c71fd1012fb0fbb1199e12265305b328
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Remove more RTSP_buffer parameteres.

commit 78a675966d222c19b0e8695a51ffb308f59b50b8
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Drop RTSP_buffer parameter from check_required_options() and make it
    static.

commit 926d72eb6d59c2d6c76e648d390d4b0dad1d1f75
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:35 2009 +0100

    Drop RTSP_buffer parameter from rtsp_request_get_url().

commit cfb7d64e33ccbe544ef53592f5be2c77d1f1f3ae
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Properly log "-" if the response has no content, rather than 0.

commit cc08da226f9ab06d33385573b58492f1f305aea4
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Properly log the remote IP address in the access log.

commit 4b1252aeb264863a02822ba8968b0f2beb72622b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Move CLF logging code to its own function.
    
    Also make Referer and User-Agent report - if they are not present,
    rather than (null).

commit 84ebce3126b7ce53fc746b1475c59dec6c494cc0
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Properly log the RTSP version used.
    
    By using the RTSP version parsed in the request object, it is possible
    to know through the access log which clients requested RTSP versions
    that are not supported.

commit e69cc729136c862cc07fdc1dd89bef3e94870849
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Check for the RTSP version before the method.
    
    If a client sends a request for a method that comes from a different
    RTSP version, instead of answering 501 "Not Implement" we should
    answer 505 "RTSP Version not supported", so that the client knows not
    to use that protocol version at all.

commit d04e08c4a9376c7557b674ef9d31dfb5ab407bbb
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Replace the machine state enumeation with RTSP_Server_State.
    
    The new enum also has a Recording state (even though we don't support
    it), and use the names as defined by the RFC.
    
    It also explicitly refers to the Appendix A.2 of the RFC itself.

commit 6488875d02426307cfd6e07ccc4edd7999e6b863
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Remember to free the version string too.

commit dafba3b35ab026af83efad83cabd07ff1c59e734
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Doxygen improvements: create a rtsp_response group, and add to it.
    
    Also improve documentation of rtsp_timestamp() so that it explicitly
    gives information on where the format is specified.

commit 272d3efd9b34fbb64f303ef31d0f5336b20124eb
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Use a methods table array to choose which function to call, rather
    than a switch.

commit 388ce6bdca86d96a410e70033ae6e8fbefd1e7fe
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:34 2009 +0100

    Remove RTSP_handler declaration, and improve comments.

commit 3897ad76a603a6a6ca1b4ea97dce92ed03535aa2
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Refactor RTSP_handler, split it in two functions.
    
    This way it should be much easier to read, and the message discarding
    is present only once.
    
    The rtsp_handle_request() function now takes care of the parsing task
    too.

commit 8b308e2fe3176f546fd63aa010ad71d10a1b8455
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Remove some unused variables.

commit d3d6d693b341d680989508cdbdc46de757d1ac72
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Return void in the ragel request parser.

commit d88a71d2369b5689b469cbc24a8d27d4390fcb14
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Check for not implemented methods outside the ragel parser.
    
    Like for the protocol version, don't abort the parse if the method is
    not implemented by feng.
    
    By checking and responding outside the parser, it allows to properly
    log the client request with all its headers (most importantly the
    User-Agent).

commit 813acc976b401254d5cc5e0821b329d2cac6465f
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Check for valid protocol version outside of the Ragel parser.
    
    Although this might be a bit slower, it allows us to properly log and
    respond to the client if an unsupported RTSP version is used (like
    RTSP/2.0).

commit 5e5c34f773dabed3343652700c622cc910a09e19
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Rename the source files for methods so that they start with _method.

commit 0d74ef874c9dd385336562b4764746ae5ffeac6e
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Make the final methods return void rather than int, they were ignored
    already anyway so it's not doing any actual difference, beside
    reducing code.

commit ee0a0366ec73fcb78b65f94c74646b6c03cffb08
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Use a special function to check method validity in a given state.
    
    This way we can more easily build up the response, so that it contains
    the Allow header described in RFC 2326.

commit 967cf24aa167acbe6bc2c26030c6acaa9d483d41
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Return void in send_play_reply().

commit 26d9d0a3712e2c0085d0992c648326aa9750a004
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Remove SET_PARAMETER from the supported methods.

commit 15518cd0d6d69047e0785db007691c71cd51409e
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:33 2009 +0100

    Ignore Accept header during DESCRIBE.
    
    Since we only support application/sdp as description format, there is
    no reason to actually check if the client supports it. If it does not,
    it'll be discard our response.
    
    The Accept header is optional for both clients and servers (see
    RFC2326, Section 12), this means that the clients might not send it
    (but still support application/sdp) and servers might ignore it (and
    thus the client has to check Content-Type anyway).
    
    Once we'll support some alternative description we might parse Accept
    if present, possibly in a more proper way, like described by RFC2326
    Section 12.1 and by RFC2068 Section 14.1.

commit a832dbd139a7c2a1baea650f608dc3c9bc88669d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Return void on sdp_media_descr().

commit a98c1088c80831192a508c88f885741d50b22c4f
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Remove the parse_transport_header wrapper around the ragel parser.
    
    Instead of calling a function that just calls the ragel parser, do
    everything in the ragel parser.

commit fb47f10f322b7b45f55065db3bd53200721a2a41
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Make send_setup_reply() return void.
    
    Since no error condition is currently being handled.

commit 5673263ad0ef8e0d1950b31a9aaf2944d326e9a5
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Respond with 461 Unsupported Transport whenever the Transport header
    is not accepted.

commit 15f7c48c744b525666bb55e0ed1bda7ae05a9972
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Remove the "implementation" of SET_PARAMETER method.
    
    Since SET_PARAMETER was not implemented at all and only returned an
    error, remove the stub implementation, to avoid dead code.

commit 7d21dc431b45072f0ba64b549ab7778d6a419d4a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Remove debug instruction.

commit bdfc00d0d4f3012677675d55f7790eacae4c81ad
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Don't set the session state since we just destroyed the session.
    
    Maybe this is not even so right...

commit acd76f4b515801f476a26090ecd8e28680c07d54
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Don't parse and store the sequence number as number.
    
    Since the CSeq header has to be retransmitted identical to what the
    client sends, and RFC2326 does not seem to specify any particular
    format for it, there is no need to parse it, the response will just
    copy whatever the request had.

commit dab5f2471b458f65ca6a259c15226a5144d0c1b7
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Doxygen touchups.

commit bb06a93dbf1b0f40dd15c599be3d9afd68bdedee
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Create a new interface to create and send RTSP responses.
    
    Instead of always handling them as strings, handle RTSP responses as
    object, similarly to what is done with requests, with an hash table
    for headers.
    
    This way it's posssible to add, remove or replace headers as needed,
    and is also possible to have advanced logging capabilities when
    sending the responses out.
    
    Apply the new interface on all the methods so that it works as
    intended.

commit adc123ce6ebb0753f104e14dddde56e426ca0097
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:32 2009 +0100

    Save in the hash table also the headers that are recognised.
    
    This allow simpler access to them when copying them for responding.

commit a787ab53332a6f1729f4dcc1b41d8c9d17f4cc69
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Remove usage of protocol_* functions from netembryo.
    
    Those functions are deemed for removal, replaced by just the
    code/response map, remove their usage so that we don't depend on the
    any longer.

commit be6c7212bd9a56f66d9994edc4ab8a6df795af85
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Add a backreference from Request to client, replace rtsp_send_reply().
    
    The new rtsp_send_response() passes through rtsp_respond() which takes
    a request as parameter, add a backreference to the client so that it
    can be used as single parameter.
    
    This should really make simpler to handle responses since there is a
    single generation function.

commit 51b30f99fdcff14f797e1873006245626dc9a284
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Replace rtsp_generate_response() with rtsp_respond().
    
    The new function takes a RTSP_Request in input so that it can fetch
    CSeq by itself, and can also check for the Timestamp header.
    
    All responses, even negative, now get a Date and a Server header, and
    Session headers are added if the request had a Session header itself.

commit 5e82fbc1c518f686ebf0b9b990dc346a5169923a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Check for the Require: and Proxy-Require: headers as the RFC mandates.
    
    The check has to be done on each request, not only on DESCRIBE
    requests, and the response should contain the list of unsupported
    options.

commit 9b10de139bfb8dfb16dd077bafc2d8733b49df59
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Use Ragel for parsing the Transport header during SETUP.
    
    Instead of doing the parsing manually on a hydra-like function, use
    Ragel for the parsing. The new code is easily extensible for the
    future, it should also be able to report unknown parameters.

commit be9f3b5ec3ff37ad0fe23ee97982430b632aaf01
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Remove multicast support from SETUP method, as agreed with Luca.
    
    A new parser is coming in, and it will make it easier to add multicast
    back in the future, properly.

commit 299a6e064c9b2d914711be776e3cc66d2f1b3fad
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Remove checks for memory allocation, glib would abort.
    
    Make send_describe_reply return void, since the result was ignored,
    anyway.

commit 1fefdb8d9a313ef670ab3420eb0f5a04c0338e17
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Remove unused defines.

commit fd3279b2fa2875e2ed6f535831871b014751b827
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Replace RTSP_state_machine with a simpler rtsp_handle_request().
    
    Each method will take care of deciding whether the state machine is in
    a state where it is not allowed, and will move the state machine as
    needed.

commit e6d748ef53e251b3f3478bcaa9d266e4d1364834
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:31 2009 +0100

    Fix parameter.

commit 21180cd9027de4e9caff8a9341a16bb3b48f87aa
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Update the doxygen documentation for the recent API changes.

commit a80d89f2b27bfdcf2ebbdf8d29ab9a3b0d6bb550
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Get the Range header from RTSP_Request.

commit e461cbb516fcaa0855ec4676647db478abb79582
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Get the Accept: header from the RTSP_Request object.

commit 5ddc234385a1ac9a60621c59ba015d9766cb7f9e
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Make rtsp_generate_ok_response accept a RTSP_Request object.
    
    Since each response is a feedback from a response it make sense to
    merge the two. This will also allow in future to have proper
    access.log.

commit 72d6b79e4e7aeac83bf6eef3b0f893e9db834942
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Remove rtsp_cseq from RTSP_buffer, make the code use cseq in
    RTSP_Request.

commit ea2cd3c53548c139708f6612f3972aff4376e2a0
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Pass the RTSP_Request object to the method and use it.
    
    Replace the old URL extraction and validation function with a new one
    that don't need to extract it any longer (the Ragel-based parser
    already extracted it). Replace Transport and Require header checks use
    the hash table built during parsing rather than doing the scan
    themselves.

commit 3516c938cd7228957887783d8c848a75282af640
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Actually parse the Session header, fixes other headers parsing.

commit c70c69828847f39294ee531cd40a333d657bd9e4
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Centralise logging of method and user agent in the request parsing.

commit 6e84869d3d84c00f1f89d95753ed9175655eea5c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Parse all the provided headers and add them to an hash table.
    
    This way it'll be much easier to get data like User-Agent or check if
    a Request header was passed through.

commit e39d4ff1fb3214966f71f953055928561846b3aa
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Add a freeing function and avoid memory leaks.

commit 1687d5b505f7a7f22c30256efa90494da6fb6343
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:30 2009 +0100

    Handle the Session header in ragel, too.

commit b3e25efe0ff335b86f4772365595649c7ac4c8df
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Rename requestline.rl in ragel_request.rl.

commit 78da9ba8e1a471bfcf499042f6caaba45b4bfdf9
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Make the parser handle headers too, and make it find the CSeq header.
    
    This way we don't have to handle the parsing of that later on. The
    parser can be now extended to handle any other know and unknown
    header.

commit 5794ec60e5d91faa87da27141325cfff25dfb446
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Simplify and correct parser.

commit 04b48c0c90b82f1c13b4cb2088afa4e1f941aa10
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Remove the old parsing functions, since they are now unused.

commit bdda6507febeee3ecacab6b15fb9e9ba153c5b03
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Start implementing some basic request parsing in Ragel.
    
    Start using Ragel for parsing the requests, hopefully this will allow
    an easier extension of feng functionalities on the long term.

commit 0b1c41516ba9c2fe995aaf2d1d4d1138c3bd09ec
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Update to follow netembryo: ProtocolReply has been removed.
    
    Instead of using structures, netembryo now accepts the three-numbers
    code of responses, and defines constants with the same name, use them.
    
    The only notable change is that .error checks are now replaced with
    checks for RTSP_Ok (all the funtions where it was used handled it that
    way).

commit ed40afa8d43757fd5abea76c0005423f883143c9
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Use standard reply objects for the state machine.

commit e8d31ceecc1686ba5c81f968efd97d9279d732f0
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Replace rtsp_extract_validate_url() with rtsp_get_url().
    
    The new function already takes care of sending out the error replies
    if needed, and returns a boolean value.

commit 911123c58a646450b80538e7b0fbd6786b94b9a4
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Make tcp_transport and sctp_transport return boolean.
    
    The return Ok or InternalServerError depending on the result, but just
    in one single function rather than two.

commit 971ba45f7084296d21aec97c2b675cf073be6458
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Improve and update doxygen.

commit f81c46bdb61ea4880368bcb3b6b7fcf5225de7d7
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:29 2009 +0100

    Replace some internal server error message with preset
    RTSP_InternalServerError.

commit 4bf7322f920f7fcf92602caf71feae29386e6284
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:28 2009 +0100

    Mark function parameters constant following netembryo.

commit 6416de0683ee50242fe97d13c278189d884d8cc6
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:28 2009 +0100

    Replace Url_encode/Url_decode functions with glib's equivalents.
    
    Instead of reinventing the wheel, make use of the functions that come
    with glib. The nice part there is that they already take care of
    allocating the space and thus don't have the problems with length we
    have.

commit 70e0eae42cef7bc7a3ac713c95045733da968527
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:28 2009 +0100

    Replace the bwrite() function with the new rtsp_bwrite().
    
    The new function requires the RTSP_buffer pointer as first parameter
    rather than second, and returns void rather than integer.

commit 7d61177077120cf7053a1113c2ce4c5a26f7768e
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:02:26 2009 +0100

    Replace send_protocol_reply() by rtsp_send_reply().
    
    The new function inverts the parameters order so that rtsp is the
    first parameter, like for other rtsp functions.

commit b4751a62939d56b964a4239e626558e1f36d65f8
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 17:01:46 2009 +0100

    Rename RTSP_send into rtsp_send.

commit 77469604dd2ab246358288a056afb08d2c4ff712
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Nov 4 12:19:34 2008 +0100

    Remove rtsp_utils.h and merge its functions in rtsp.h.

commit ac6db19b3ad9f8d48353e61e6b2cd0e9bcec6447
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Nov 4 12:09:46 2008 +0100

    Make cseq signed to have -1 as special value. Remove repeated cseq
    handling.
    
    Instead of getting the cseq during method validation and then again in
    get_cseq, get it once, set it to -1 if missing, and be done with
    it. This avoids double parsing, and reduces code.

commit cc9f3b8540a770c7b04619ed1dbb4fda0eb4c733
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Nov 4 11:50:03 2008 +0100

    Remove session appending logic, since it's currently just rotting.
    
    Instead of making the code more complicated, try to make it simpler
    until we actually support multiple sessions.

commit 40172139acfa2293a282a10e74167c79ec2a1372
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Nov 4 11:47:30 2008 +0100

    Let RTSP_state_machine take care of identifying the method id.
    
    Instead of doing it before calling RTPS_state_machine and passing a
    further parameter, make it local to RTSP_state_machine that is the
    only part of the code making use of it.

commit 25ed671c45385d2554b83f8ae1d727abee53ad2c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Nov 4 11:45:10 2008 +0100

    Only initialise session id if empty.

commit 57c5f29eec133d302249d38e9cb2b5841323e1e2
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Nov 4 11:45:00 2008 +0100

    Don't initialise the session id to -1.

commit fab9a8a2dd1c71a636b40b09e054c779ffa23233
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:52:46 2008 +0100

    Make ProtocolReplies static and constant.

commit d87f67f5a3962d3c09146af22e74b442eec03fa7
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:47:52 2008 +0100

    Get rid of the extra "custom" attribute that is no longer in
    netembryo.

commit c066eb5bb4ba1c5e32c62d204bdc0c213e87eba4
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:42:13 2008 +0100

    Remove reply_free() call too.

commit 665cc403778ace9b33f28d8c81e69946c6da06a1
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:40:08 2008 +0100

    Define static constant ProtocolReply objects for custom replies.
    
    Instead of using the runtime-expanded reply_build_custom() function,
    build the objects directly at compile time, since they are always the
    same for each invocation.

commit 544bc39a15d769865bcbcdb13a1ce31e978edf97
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:33:50 2008 +0100

    Improve doxygen documentation and update it.

commit a703e8da4bff1e3912a129eb59935cfa3f206824
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:26:19 2008 +0100

    Update doxygen documentation to suit the new interfaces.

commit 1b914e4cf118d049a31b25928dc452ab195fe137
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:19:22 2008 +0100

    Require version 0.1.0 or later of netembryo, with the new interfaces.

commit 5ff36a3d0fa606b7ea23281154184a9d94dc00c0
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:14:17 2008 +0100

    Remove unused define.

commit 3f46ba896b446d0b993e0eda791a2cc9820261c0
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:11:09 2008 +0100

    Remove send_redirect_3xx() since it's not implemented and is bitrotting.

commit 8504c97f1b6a79e984535ecdd4bc45f86b3fdd36
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:08:00 2008 +0100

    Update for netembryo API change.

commit 1f60ae661b834cca38159688eab9af7eec778ae6
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 19:36:28 2008 +0100

    Make rtsp_generate_response() accept a ProtocolReply object.
    
    This way there won't be a lookup needed further on in netembryo to get
    the message.

commit 3d0830cbcd751be4590bcf42f15f3c64d3fcb1eb
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 19:33:24 2008 +0100

    Remove send_reply(), now unused in the code.

commit 088002565603a687e0ed34e5ab16be80cc2a8e5d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 19:28:35 2008 +0100

    Make send_protocol_reply() not request the reply's message twice.

commit af8e14124e5c5c4f896ce47bf4ee270323780146
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 19:25:39 2008 +0100

    Replace all the send_reply with send_protocol_reply where possible.

commit dd3bfa922e93038a58e9c6977e7f312b3fb6f22d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 19:03:08 2008 +0100

    Move some of the code used for response generation to a new interface.
    
    The new version of netembryo now has some code that can be used to
    manage response generation through GString.

commit 4210716e9d4933b338bf1da09723b9687f2a7db7
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 18:14:02 2008 +0100

    Start writing some more sophisticated generation of protocol replies.
    
    With these changes, reply_get_rtsp is *not* called for every 200 reply
    (OK) which should be _quite_ an improvement, even though the amount of
    code is now increasing.

commit 453ec8f6e9a870fae80aba4383bc7d636e6980cf
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:50:35 2008 +0100

    Remove extract_url() function.
    
    Since it contains basically no logic, manually inline it in
    rtsp_extract_validate_url(), so that it can have the temporary buffer
    as a local variable.

commit 62076407390bd9645f6315a21b316eaca2275e6a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:48:11 2008 +0100

    Move get_cseq() statically inside rtsp_state_machine.c .
    
    This is no longer shared among multiple translation units.

commit 17bb086bf283c299d7e993148334935afe5838ac
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:47:09 2008 +0100

    Remove get_cseq() calls in the RTSP methods.
    
    The CSeq header handling is now centralised in the state machine,
    there is no need to check for it in each and every method.

commit 9df9868821f4d17b80198c5203a7a1906a9aeb95
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:42:53 2008 +0100

    Move session checking in a different function. Add cseq handling.
    
    Split the session checking logic in its own function to make it nicer
    to look at; add the get_cseq function from rtsp_utils.c in the state
    machine so that it's done once for all methods.

commit 01831c948e7c157d8b07317bc6941ef93dec5cfb
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:35:21 2008 +0100

    Remove session_id from RTSP_buffer, it's enough in RTSP_session.

commit f2b4e862ab849f51427788236b23c7ea016b6e3b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:31:12 2008 +0100

    Remove checks for validity of sessions and sessions id.
    
    This flow is all handled by the RTSP state machine right now.

commit 6ff46c4bb33b78f8d8c7282d98f8d627ea0e87f1
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:29:58 2008 +0100

    Ensure that there is a sesion, or reply with error, and that it has
    the right ID.
    
    When the session associated to the stream has an ID that differs from
    the one of the session it has been paired with, reply with error to
    the client.
    
    This was already written to be done by the various methods, but is not
    centralised. Note that all the methods' handling of NULL sessions was
    moot because the state machine aborted first.

commit a73674dca885f3d72c4f807cdc5db373ee081956
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:21:46 2008 +0100

    Remove get_session_id function.

commit 4ff04436120e7dda80a132644d23f67c34df55fa
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:21:29 2008 +0100

    Rely on the state machine's parsing of Session-ID header.

commit b55b21af3bc60ff9e6e1d90ff5b0b9bbf1ded3ae
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:16:06 2008 +0100

    Parse Session-ID header in the state machine and save in RTPS_buffer.
    
    Instead of having to deal with the Session-ID on a per-method basis,
    handle this directly inside the state machine loop, since it was
    already checking for a valid Session ID header.

commit 9ff303fa53cd219a88f7a3982b368dee3daac183
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:02:27 2008 +0100

    Remove usage of the old set_RTSP_Error, replace with reply_build_custom().

commit eef53420b9c196f78f590ae39233bf9190b55b8e
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 17:02:24 2008 +0100

    Replace RTSP_Error return types and variables with ProtocolReply.
    
    Contextually, replace custom-prepared replies that have standard
    values with the RTSP_* reply constants.

commit 7d01961cedfceeee9c4e484a76517d4cfcbc8001
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 16:19:56 2008 +0100

    Make get_session_id() return a boolean.

commit fa893945f32fe56569ced56e7a63d9230e8064f2
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 16:19:54 2008 +0100

    Make get_cseq return a boolean result, and set the error in the
    caller.
    
    Note that it'd be a good idea to move get_cseq somewhere else, since
    it seems to be called for almost all methods.

commit 5ddad3c598db22e995cccd332758429938a751f3
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 16:10:07 2008 +0100

    Move check_require_header() function inside rtsp_describe.c
    
    Since this is only used for the DESCRIBE method, move it in its source
    file instead.

commit 8e389919b0b5c962652dde2cafe95914c93ac0ea
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 16:08:25 2008 +0100

    Adapt rtsp_extract_validate_url() to return ProtocolReply.
    
    Instead of returning ProtocolReply in all the functions called from
    there, make them return boolean true/false values, and then only
    return from the caller the structures. Avoids a temporary and quite a
    few copies around.

commit 77b30bf391297b468ade0ad951b18d4956945ae1
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 16:02:34 2008 +0100

    Make get_stat be just a wrapper around reply_get_rtsp().
    
    Now we know for sure the returned value is always valid.

commit 3fa9bbaf8e89e5d847cdc4b778425f1dacec867d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 16:02:19 2008 +0100

    Use the new protocol_replies.h header from netembryo.

commit 7615d62724d00559f374263123237ff97e2a974f
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 15:57:32 2008 +0100

    Remove the RTSP_ErrAlloc entry.

commit ff9a5f305651a4d7eec3051bd99c38403cd68edc
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Mar 1 16:45:45 2009 +0100

    Fix a warning

commit 6566ace97b16e1eeba150157c800dfe486ef7935
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 1 16:48:51 2009 +0100

    Kill some warnings.
    
    Partially cherry-picked from the ragelisation branch.

commit 8410fed1f7d6c450540afeabc97ad064d84fb994
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Feb 27 15:42:10 2009 +0100

    Enforce checking for libev

commit d2b34fd66e7abd3f4fbe775550fcd6753efe94d4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Feb 25 12:09:16 2009 +0100

    Update install instructions

commit e3c1bcec63aae2435cc47108cd9862ccd735e2ae
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Feb 23 16:24:00 2009 +0100

    Remove stray placeholder comments

commit c64483385d174727ac406b26933c4b36ddf6e5df
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Feb 23 15:49:11 2009 +0100

    RTCP now should be working on libev

commit 933bbc04013eec5295346749a399bf2a4d4362b7
Merge: a750494... ebc48b5...
Author: root <root@nyx.(none)>
Date:   Thu Feb 19 16:47:44 2009 +0100

    Merge branch 'master' into libev

commit ebc48b5cfb86610a8b9bfeeab41813533d5545ea
Author: root <root@nyx.(none)>
Date:   Thu Feb 19 16:47:34 2009 +0100

    Comment out port

commit a750494dacbb1c51923c22559baea4e973533a87
Merge: 039bd4e... 328653e...
Author: root <root@nyx.(none)>
Date:   Wed Feb 18 22:50:30 2009 +0100

    Merge branch 'master' into libev

commit 328653e13429a80ff8cdb9a683e7fbabd7582f81
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Wed Feb 18 15:17:35 2009 +0100

    Fix feng crash on invalid url in file_name field inside .sd

commit 4b9d1aec5ed324302ddae3c722786e93d1d0db9e
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Wed Feb 18 15:17:09 2009 +0100

    Fix wrong inclusion generated by license conversion process

commit e57246f0c5ae942c434e5b801930f64993acbf98
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Wed Feb 18 15:15:51 2009 +0100

    Appending more things to be ignored

commit 039bd4eac7adad4acccc18499c492838e79203ad
Merge: a973d7d... 83d94c8...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Feb 17 17:12:20 2009 +0100

    Merge branch 'master' into libev

commit 83d94c84bb238ae9d0ea2c2332f86bb989315bac
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Feb 17 17:12:01 2009 +0100

    Fix template misuse...

commit a973d7df910599515437dd1e55cd1c538db864a5
Merge: dab61ad... 94b4746...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Feb 17 17:09:41 2009 +0100

    Merge branch 'master' into libev
    
    Conflicts:
    	src/main.c

commit 94b47463b93e206d356db4f1fd5e86c373a76f7c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Feb 17 16:56:54 2009 +0100

    License and uri references changes
    
    live.polito.it -> lscube.org
    GPL -> LGPL
    team@streaming.polito.it -> team@lscube.org

commit 23101e152eaab7e60653573187f165db89fc7ccb
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Tue Feb 10 10:34:47 2009 +0100

    The metadata module is now distributed under the LGPL license.

commit eaf58b37256a38ea3622e74a0dcccb4dd3101caf
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Fri Feb 6 13:20:47 2009 +0100

    GNU Licence accepted.

commit dab61add6d9148b74b79c40013354d7dc5d4ad8a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Feb 5 16:57:23 2009 +0100

    We aren't using autoconf's endian check anymore

commit 10eba10411f1d0e8497864a8607ec8cd9bcf25c1
Author: Christian <chriz@mandragola.(none)>
Date:   Tue Feb 3 21:40:42 2009 +0100

    metadata waiting for acceptance

commit 85601bf383893cb616e8356f3e87882f12c23bad
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Tue Feb 3 16:36:45 2009 +0100

    lgpl

commit 4183f97453def4734fd8fc4813fb7471badcf235
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Tue Feb 3 14:49:44 2009 +0100

    Refactoring names and changing license

commit 68786d0d67860309fbab962698f79342685d6888
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Mon Feb 2 16:11:22 2009 +0100

    to include metadata support at compile time

commit 1bf50c6abf2a8b18d7d856dc47f0af5b2956144e
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Mon Feb 2 15:49:43 2009 +0100

    to include metadata support at compile time

commit c486d87a9d35d686d0abc660293aa8d23e78cf5c
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Fri Jan 30 17:46:39 2009 +0100

    Metadata code

commit cdcc73f87bbcffad69fbed5ad4f287096b0fcba8
Merge: c12ab14... 21497f2...
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Fri Jan 30 12:54:47 2009 +0100

    Merge branch 'master' into cpd
    
    Conflicts:
    
    	INSTALL
    	configure.ac
    	include/fenice/server.h
    	mediathread/Makefile.am
    	schedule/schedule_do.c
    	src/main.c
    	src/mediathread/mediathread.c

commit a2a907fc7965fd437355d389a8e20acb9af8d4de
Merge: 7d6d062... 21497f2...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 21 10:00:50 2009 +0100

    Merge branch 'master' into libev

commit 21497f274419c193aee4c9188d1c7c91f9c20230
Merge: 639155f... 9e14d36...
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Jan 12 19:21:20 2009 +0100

    Merge branch 'master' of git+ssh://live.polito.it/var/git/feng

commit 639155f8aaeb99cd99f826c2f5cfc0f84563f71d
Author: Jabin Yan <jyan@netspectrum.com>
Date:   Mon Jan 12 16:13:26 2009 +0100

    AMR Parser

commit 9e14d36add97a25581019517df4377018e60c36a
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Jan 12 14:06:32 2009 +0100

    Fix for mediatype inconsistency in AMR patch.

commit 5e967570e7d2d20bac0befe83bf48fa91ee5fa70
Author: Jabin Yan <jyan@netspectrum.com>
Date:   Mon Jan 12 13:11:11 2009 +0100

    AMR Streaming Support

commit 643c701f7aebe55879a67a5de1e063b6824e7e2d
Author: Jabin Yan <jyan@netspectrum.com>
Date:   Mon Jan 12 13:01:49 2009 +0100

    fix bug in log user agent

commit 7d6d0625b7beddfb14533ef444d7495c51ac598d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Jan 10 23:17:49 2009 +0100

    Cosmetics

commit 26bb54836cdfa6644412796d5f389d85e32ce0c8
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Jan 10 23:11:12 2009 +0100

    Make write event do not hog the cpu

commit 8cbdfe3decc5783c9c3a85f3f0f200269bb3fd92
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Jan 10 19:44:52 2009 +0100

    Cosmetics

commit ef3d866f582c824dcb6f2df5d6a1d95fcfcc325b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Jan 10 19:22:08 2009 +0100

    Unbreak interleaved

commit 2c93ae768286299ee07d07586ea6cc4af18058ca
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jan 8 12:01:37 2009 +0100

    rtp+udp almost working (dealloc failure to be fixed)

commit 468bd30073dfc80a668ead245be0b230d0ad1b3c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Dec 27 11:25:24 2008 +0100

    rtsp/tcp + rtp/udp working with libev

commit 8632224ab89136763d998bf4d4a61bec45e61eaf
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Dec 19 12:44:28 2008 +0100

    Fix NULL deference

commit 741cef31e1e18f15ce533b50ab62cac5fe9abe59
Merge: e9b5e13... b9c024f...
Author: root <root@nyx.(none)>
Date:   Fri Dec 19 11:37:26 2008 +0100

    Merge branch 'master' of ssh://lu_zero@live.polito.it/var/git/feng

commit b9c024fae3e23edd1d3f966c7a6da131b8539933
Author: amol <amol@quasar.(none)>
Date:   Thu Dec 11 13:58:06 2008 +0100

    Autoprobing support for live sources

commit e9b5e13e62a6d8d507a3ab59ed32e5952af797b7
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Dec 5 15:50:48 2008 +0100

    cosmetics

commit d61126a2094d63acbd24464b1e030bca27c32ccf
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Dec 5 14:03:36 2008 +0100

    Hard to spot small typo eventually fixed

commit 71ef4b9f68df18385e547163d1e8d7230ca271a7
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Dec 4 14:39:35 2008 +0100

    missing break...

commit b81f0054158bdd36ab76c8f8193292314641301e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Dec 4 11:56:10 2008 +0100

    Initial fix for the interleaved mode (still broken)

commit 92d0a85968c32b64d0f77b549aa86153d08c56dc
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Dec 2 10:01:57 2008 +0100

    Cleanup INSTALL thanks to Haitao Zhang <hzhang@netspectrum.com> for reminding me

commit 6dd8210d92bf6f4f28bc3f921537373dbcf7eb2f
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Thu Nov 6 22:58:27 2008 +0100

    Move startcode to begin of packet instead of end

commit 69bbc74581928d7b3e36552ae30b6ce680ff6997
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Nov 5 14:24:54 2008 +0100

    Remove DETAILS_AT_TOP since it's deprecated on latest Doxygen.

commit 0f1bced15160d50037c22e3ced4c3ea9453887d7
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:59:21 2008 +0100

    More doxygen fixes.
    
    Use @retval rather than multiple @return to explain the various return
    values.

commit 59f7cff82b03a60b102db6bd70714426287f21ca
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Nov 3 20:30:22 2008 +0100

    Improve doxygen documentation.

commit 6cc0d10d179456f4a3eba82b18a8368d800229c4
Merge: 5284162... 5cee447...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Nov 3 15:58:23 2008 +0100

    Merge branch 'source-reshuffle'

commit 5cee4473ad776bb3d53a442c35bf61596b83ea99
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Nov 3 15:57:50 2008 +0100

    Kill some warnings

commit 528416217640ec79fa7b772bd05ebe4b4ef3655d
Merge: 1219d7c... d0208d7...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Oct 30 13:00:18 2008 +0100

    Merge branch 'source-reshuffle'

commit be8172acd9ae670d63cf1ef97feefe6226834f60
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 27 22:52:20 2008 +0100

    Move configuration file parser into src/, merge with headers.

commit 1219d7cbd2720dcd970732f57a9ae151fae9a35e
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 27 22:23:08 2008 +0100

    Try reducing warnings thrown out by -Wconversion.
    
    Errors in type conversions might cause security issues, so it's a good
    idea to take care of them as soon as possible.

commit d0208d710334b3d63aee0881d0d8e6dacff50747
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 16:08:41 2008 +0200

    Move mediathread headers inside src/mediathread and update #include.

commit ec6a8c8bb2d291421f52c98976c91510141619d8
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 15:51:49 2008 +0200

    Transform the states into an enum, remove a FIXME.

commit fefa3b535eb6fd8ce4ee306b0e03b8bab7a5b340
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 15:47:37 2008 +0200

    Improve doxygen grouping of documentation.

commit 7bf7a13b50f587a26af898bc0884f0d752d26c63
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 15:39:02 2008 +0200

    Finally add the Makefile...

commit 0302645461da09b7e5afcfa7ac266ff5a307417f
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 15:38:48 2008 +0200

    Avoid giving a parameter to @file for doxygen.

commit 208f81d5df92d2c85e019c3c7984f77d4b0a3de6
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 15:35:14 2008 +0200

    Move RTSP_discard_msg() and RTSP_full_msg_rcvd() in rtsp_state_machine.h
    
    These two functions are never used outside there, so move them there
    and make them static.

commit 1d8641e6469e27b1277eb317205805135b343e6c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 15:27:26 2008 +0200

    Remove stray define.

commit cc1dd3398b2747e395bf955370ce3ea7fc4ce5af
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 15:24:12 2008 +0200

    Move RTSP methods functions out of the rtsp.h header.

commit 2a45c9d86175f4a0809eb4f60b69622e26fb63ec
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 14:51:56 2008 +0200

    Move sdp support inside src/network.
    
    Move the sdp2.h header and the sdp_session_descr.c source file.

commit 079bf52d50085bfaeab9576ed397ad24ce6e161a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 14:43:16 2008 +0200

    Move rtp, rtcp and rtsp headers inside src/network.

commit 3cdd2891004792773c564716194c89eef9f35f6a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 14:22:32 2008 +0200

    Reorganise sources.
    
    Move mediathread inside src/ subdirectory.
    
    Merge rtcp, rtsp and rtp inside src/network, remove unused RTCP_*
    sources, replace upper-case prefixes with lower-case ones.

commit 9182d4977ed4fc38cb055225ba4c484dd1538654
Author: amol <amol@quasar.(none)>
Date:   Fri Oct 24 15:43:20 2008 +0200

    revert broken demuxer_sd.c and fix it

commit 8a14d47200c3281b09ea9aca0e7b803b0464860a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Oct 24 15:21:27 2008 +0200

    Ignore more

commit 2f9d3bbd9f698b3b65e053b2e5b57976e79e4b41
Author: Tim Kersten <tim@io41.com>
Date:   Fri Oct 24 15:03:27 2008 +0200

    Typo fixes in the readme
    
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

commit 54fcdef5a024dbe2e20e9dde1af1749400175096
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 14:01:48 2008 +0200

    Check for presence of malloc attribute an use it for rtsp_client_new().

commit ae73fabb589622f14419d86cab7fe92615ecf383
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 13:58:48 2008 +0200

    Move RTSP_buffer allocation and free into RTSP_utils.c.

commit abe2af71e1299081885a1a8542ade3ac11b775fa
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 13:12:07 2008 +0200

    Avoid recursive make calls for docs, etc and avroot that build nothing.
    
    Instead of using recursive makefiles, declare the installed files in
    the top level makefile, like it's being done for header files.
    
    Avoiding recursive make calls reduce the overhead that automake adds
    to the build process.

commit 43b8e97be29c7ee3b99de4285c3f9cdb071c541a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 13:06:59 2008 +0200

    Use variable instead of substitutions in Makefile.am.

commit 71fcb611bd654ca4dc85273873b77e2f5e68b41b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 13:06:29 2008 +0200

    Don't split SUBDIRS in two definitions.

commit d319dcee563333b3b65f0cba63bb5c11385e13e0
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 24 12:56:16 2008 +0200

    Move is_valid_multicast_address.c and sdp_session_descr.c in src/.
    
    Instead of splitting the sources over multiple small directories, try
    to compact them to make it take less time to build.

commit e5d8dfae16efbcc504f968500468932d476c570a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 23 19:06:46 2008 +0200

    Avoid g_memdup() since its parameter is guint rather than gsize.

commit 708adef57babf532abbe38b1aad6cd4bca976e0a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 23 18:58:22 2008 +0200

    Change include to glib.h for compatibility with newer versions.

commit cc5e3281b3bcf27fff7a26060d63d455d615f4fe
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 23 18:43:43 2008 +0200

    Avoid warning, don't return a pointer if the function returns int.

commit a3341f4ad11af36ca5e2544eee0bb86a6c2a3849
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 23 18:26:06 2008 +0200

    Check and append further warning flags.
    
    This includes -Wwrite-strings to make sure we have our const keywords
    where they are needed, and -Wformat=2 to make sure that we know if a
    format string is wrong.
    
    Also error out when implicit declarations or return types are used.

commit 987beab1e3fd4822808c2ce23c8175825625ac4b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 23 18:11:55 2008 +0200

    Make sure that string literals are not written to by marking constant.

commit b33b30847f5808ff9d31d5ced047d103ee875a70
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 23 17:16:14 2008 +0200

    Don't check whether g_new0 succeeded or not, for now just let glib abort.
    
    Since there are some cases when we don't want to handle gracefully an
    OOM condition, for now just ignore all the return values of g_new0 (it
    will never be NULL).
    
    Where we can expect the OOM not to act it'll be handled differently in
    the future, for now simplify code.

commit f3efbc4f0a1bfb9edcb04d41be218af8df6ddd6c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 23 17:16:06 2008 +0200

    Clear the queued replies when the socket is closed.

commit 99a964c7842e87b717f88a9532f4f46c734cf650
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 23 17:14:37 2008 +0200

    Don't free the reply string, the sending loop will take care of it.

commit ddeaa3e94e1cce7198e864007af56a21d8e2911d
Author: amol <amol@quasar.(none)>
Date:   Thu Oct 23 17:26:53 2008 +0200

    Removed useless header

commit 0754c617d076714cf15b55420093c03131d6135e
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 23 02:43:37 2008 +0200

    Make sure to send the final RTSP_EL when sending replies with empty bodies.
    
    This is one more argument for generalising reply generation.

commit fd070b2b09fac26eb863e198549255ef49db3e9d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 15:10:33 2008 +0200

    Also move clients static to eventloop.c.

commit 051c83cf32410dd04406ea8f9534418f09ac3bb6
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 15:08:02 2008 +0200

    Make start_port and port_pool static to RTP_port.c.

commit 62cca38eca1773756d0d53475bf5c7b590e4b44b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 15:04:48 2008 +0200

    Make schedule_list array static to schedule.c.

commit 49abcda8647d45b302e36bb5a6f3b535523202c1
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 15:00:16 2008 +0200

    Remove stray return.

commit d1d00dbb2415c2c4a920082ebcad4936ba246428
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 14:59:41 2008 +0200

    Move multicast connection identification in schedule.c.
    
    This allows for srv->sched to be _only_ accessed through schedule.c, which allows for it to be factored out.

commit a8bc7accc49955a4c5d7c778f9857f6976370b75
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 14:50:09 2008 +0200

    Mark schedule_do and schedule_remove static, make schedule_init return void.
    
    This is cleaning up the schedule support so that it's self-contained.

commit 78e96441ec9cfd3ad62314f0f1925b865ccb2143
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 14:39:24 2008 +0200

    Mark rtp_session_pause() static.

commit cdcb16ffd05f32351983e5655e27bfcb51ff2a57
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 14:35:48 2008 +0200

    Merge all the schedule/schedule_*.c files in a single src/schedule.c file.
    
    This is useful since all the schedule functions are tightly related,
    and by merging them in a single file it's possible to mark some of
    them static or in general to improve locality of the symbols used.

commit 5b8d5f790c641990ea07bf06140f0e9eb603d15c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 14:22:14 2008 +0200

    Move some of the feng structure attributes in eventloop.c.
    
    The descriptor sets and the array of listening sockets are only ever
    used by the main event loop, which can be just one per process, so
    there is no reason to store them in the feng structure; instead move
    them in eventloop.c so that they are emitted in the .bss section.
    
    This is useful because it improves locality of symbols, avoids
    indirections to reach them, and makes it possible to ignore most user
    parameters for the _foreach functions.
    
    This required some shuffling around of functions and adding
    init/cleanup functions for the eventloop, but in general reduced the
    size of the code, and the heap usage.

commit 587019b1a60a72ba11f32f85b108ecad97a9d375
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 13:51:59 2008 +0200

    Remove some attribute from the server instance that are never used.

commit 69fcc1fa7d2764412545b3d80478e440b63aa984
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 13:49:25 2008 +0200

    Move eventloop.c and eventloop.h in src/.
    
    Since the eventloop is only ever used starting from main.c, move it in
    the src/ directory, with its include file (which is not generic at
    all).

commit b229fa838d29b0fee04af16ff57c3dedbe8a3f80
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 13:18:54 2008 +0200

    Merge all the source files in eventloop/ in eventloop.c.
    
    This way all the functions beside eventloop() itself are static and
    can be better optimised.
    
    Note that now the size of the source file is quite huge, but it should
    be slimmed down once feng is ported to use libev.

commit ae038b44c1053024b88a38eadea9ca7b4ce1fca7
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 13:11:12 2008 +0200

    Avoid duplicating rset/wset definition, always use &srv->[rw]set.
    
    This allows to reduce the size of the code since rtsp_server only
    accepts one parameter now, and all the structures follow that.

commit 9b71043394befaac1a748548e2f424be70744736
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 13:03:52 2008 +0200

    Move RTSP method strings to RTSP_state_machine.c.
    
    Also document them Doxygen-style.

commit e6f65e5ef9f14da05591471d02b47e2135251edf
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 12:58:27 2008 +0200

    Move RTSP method tokens into RTSP_state_machine.c and make them an enum.
    
    Also update RTSP_state_machine.c functions so that they use the enum
    type rather than just int, this allows for better heuristics from the
    compiler.

commit 443ee6437ae16d21fbae4c49496fbf8586b1e050
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 12:52:02 2008 +0200

    Move SD tags into demuxer_sd.c instead of keeping them separated.
    
    They are never used outside that particular unit.

commit f9e6e6a63e394f9adb98d34920925aec7ab43c51
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 12:48:37 2008 +0200

    Get rid of (g_ascii_)strcasecmp() in demuxer_sd.c
    
    Instead of doing N case-insensitive comparisons per each keyword that
    will result in K*N*2 (g_ascii_)tolower() calls, ensure that the tested
    keywords are all downcase, then execute _one_ g_ascii_strdown() per
    keyword, resulting in K calls.

commit 7fb697413652bb2052ffc3bcbb522c22fb3a00f1
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Oct 20 12:16:28 2008 +0200

    Replace strn?casecmp() with locale-independent g_ascii_strn?casecmp().
    
    This also reduces the need for Windows-specific hacks since glib will
    take care of that, too.

commit 5dd14ba616d5209c1746cf1d14433ad1216ce521
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Oct 18 05:14:21 2008 +0200

    Replace the RTSP output buffer with an asynchronous queue.
    
    For RTSP buffers, instead of using an actual memory buffer (of huge
    size) as output buffer, use an asynchronous queue from glib, with
    GString pointers in it.
    
    This makes not only possible to reduce the memory occupation at any
    time, but also reduces the amount of work that is involved in both
    appending a reply to be sent.
    
    Additionally, asynchronous queue will work well in a multithreaded
    environment to keep a thread to send data for each connection, while a
    single parser prepares the replies.

commit 69495b5c596360e4ecb223fff39deb1adf74f4ac
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Oct 18 05:13:38 2008 +0200

    Fix output logging.

commit a97606b30a88665105bf59a217fe676f55202995
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Oct 18 00:53:20 2008 +0200

    Make bwrite() accept GString directly.
    
    Since all (in-use) calls to bwrite() were passing the str and len
    attributes of GStrings, make bwrite() handle those directly, included
    freeing them.
    
    Note this might require rework since there was and there still is no
    way to handle space exhaustion in the output buffer.

commit d15e52369b3d28d1092175f7b071575e489eda87
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sat Oct 18 00:26:01 2008 +0200

    Create two new functions to prepare the starting point for the responses.
    
    Since all the RTSP responses have a similar line header, create two
    functions that allow for creating such an header:
    rtsp_generate_response() and rtsp_generate_ok_response().
    
    The first creates a response heading with the given response number
    and the given cseq value; the latter uses the code 200, and accepts
    together with the cseq an optional session_id (ignored if zero), and
    appends Server, Date and eventually Session-Id headers.
    
    These functions let append_time_stamp() and get_stat() function be
    marked static to RTSP_utils.c as they are no longer called by outside
    that.

commit 455772949a9d630f16c8c208671621b0ec351e01
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 20:14:06 2008 +0200

    Replace add_time_stamp_g() with append_time_stamp().
    
    This solves quite a bit of TODO items at once:
    
     - there is now only one function for appending a time stamp, and it
       only works on GStrings;
     - the crlf parameter is gone, since it was always passed as false;
     - the function is now called append_time_stamp.

commit 727c36576c2c00ab0e0fa7953ab7d9b790c3d229
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 20:06:48 2008 +0200

    Document file.

commit cb1e9c9228a87f5dd28d9fc588c995f81a4b7aa2
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 20:03:39 2008 +0200

    Remove TODO about returning a character pointer.
    
    This should be avoided since otherwise two strlen() calls should be
    issued further on.

commit f323313bd006f6116409026e0b468d6c52220a06
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 20:01:22 2008 +0200

    Remove one TODO that was just added: move sdp_media_descr().
    
    This reduces the total size since inline functions are emitted just
    once.

commit c4b710f23061b0528fa7a4324f5066a492bbac65
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 19:56:25 2008 +0200

    Start cleaning up and extending doxygen documentation.
    
    Make good use of the @TODO command too so that it's possible to
    document the things that have to be done in the future.

commit c2daf11bec54c7e17f9a8a2691b1ed362e83359c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 17:32:42 2008 +0200

    Create alias for @TODO so that it can be more easily spotted.

commit e82ef663919de4136546e48f0f82222d3b37c84b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 17:31:51 2008 +0200

    Update and improve doxygen configuration.

commit d387d613e2ae116b56299160ca1b42620497b3d6
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 17:17:27 2008 +0200

    Make it easier to generate doxygen documentation, generate Doxyfile.

commit 6d95ae614c039c5646ce5168b049f94390c1b265
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 17:05:57 2008 +0200

    Combine extract_url(), validate_url() and check_forbidden_path() functions.
    
    Since these three functions are always called in series by all the
    RTSP source files, make them static and create a new function,
    rtsp_extract_validate_url() that takes care of the three of them,
    returning the final Url structure.
    
    This way the raw url string is also hidden to its final users.

commit 7b5f366f04f1ae043700b6deab8bca12b80b7ff3
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 17:00:50 2008 +0200

    Include strings.h for strcasecmp().

commit a22492fd29f13f19f0671bb4c9c6b2a1355dba12
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 16:50:23 2008 +0200

    Remove unreachable code.

commit 09042545b4b90b9f8354b273b5268a7d03dfbb8c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 16:43:43 2008 +0200

    Fix incompatible pointer warnings.

commit 06a8121d85cc1ca24b81ee8b5cebeee14336c544
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 16:40:34 2008 +0200

    Comment out checks for the configuration parser.

commit 6ccb6dc66dcac5840abfc6dd872627628a664b6a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 16:19:38 2008 +0200

    Replace boilerplate checks with accurate checks.
    
    Remove all the unused checks for headers and library functions, only
    check for what is actually needed.
    
    Divide checks so that it can be more clear which ones are used by feng
    proper and which ones are used by the configuration parsing code.

commit af008a2a35da7246249d2efd570356a328a685d9
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 16:07:53 2008 +0200

    Simplify Makefiles, remove Makefile for mediathread/{parser,demuxer}.
    
    Avoid recursive make for mediathread parsers and demuxers, build all
    the sources in a single libmediath.a commodity library.
    
    Cleanup the Makefile for src/ by removing liblog and just building
    fnc_log.c in the feng binary.

commit f0583e5dbb21d6636829fd6fe68b1d3bdcaafecc
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 15:58:13 2008 +0200

    Remove libtool usage: feng does not build libraries.
    
    Since feng does not build libraries, and all its dependencies are
    fully taken care of via pkg-config, there is no reason to use libtool
    here.
    
    Interesting to note: by doing this the total size of the code section
    for feng was reduced by 2KB.

commit 311602215492f2706225b879bb7e9935dc97a708
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 15:43:19 2008 +0200

    Remove stray tabs.

commit bf148ca0e38ce8626eb6e268a3024a8bfcbb91e6
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 15:10:55 2008 +0200

    Move extradata2config() to mediautils.
    
    Since the extradata2config() function is only ever used by mediathread
    parsers, move it out of pure feng sources into mediautils.
    
    This removes the libutils commodity library at once.

commit 0d6d3813953f7d48d6a72dd1a039c4d32a226246
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 14:56:58 2008 +0200

    Remove nested ifs when checking for errors.
    
    When the if body is a goto to an error-handling part of the code,
    there's no need to put an "else" in front of the next if
    statement. Remove the else keywords so that the flow of the code gets
    more readable.

commit 585dea4ff7efc4f92ed4f5f6c44012ab546061a4
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 14:54:34 2008 +0200

    Simplify more the description code.
    
    Remove the ConnectionInfo structure entirely, use three variables
    instead, that are passed as parameters to the only static function.
    
    Make get_description_format return the enum value for the format.

commit 16513d194b25f524b5d3f0bcc3fa8e2478bc94c6
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 14:53:55 2008 +0200

    Rename description_format and add Unkwnown and Unsupported enums.

commit 2a7c992869c04c7c0feb4ffbbe048100b9b3cb39
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 14:39:51 2008 +0200

    Move get_description_format() static to RTSP_describe.c .
    
    With this change, ConnectionInfo becomes a private structure in
    RTSP_describe.c too.

commit ef854b8db9e2dce2a90eba22c2b09214d0ce74da
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 14:35:09 2008 +0200

    Make validate_url and check_forbidden_path accept an Url pointer.
    
    Instead of accepting ConnectionInfo and just using its Url member,
    accept Url directly, so that ConnectionInfo is not used outside
    RTSP_describe.c and RTSP_utils.c

commit 5fa36f6f5636438d071ae8fa7fbfc1deb51f4c90
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 14:35:07 2008 +0200

    Remove file added by mistake.

commit 82dd7615c8b0ec96c3ad3c948ae8c52dba5f761a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 14:20:13 2008 +0200

    Simplify SDP session description generation.
    
    Remove get_session_description() function from RTSP_utils.c, handle
    sdp_session_descr() directly in RTSP_describe(), since it's the only
    user of it. This also avoids a memory leak on cinfo.descr.
    
    Make sdp_session_descr return a GString pointer (or NULL in case of
    error), instead of having one passed from outside.

commit eec512577fe19124d0ae107e8f3bd8865e6e1887
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 14:07:07 2008 +0200

    Remove descr array from RTSP_buffer, unused.
    
    This cuts the size of the struct by over 60KB.

commit c43665ee24e202ec9635f627f5f735394b8a1e14
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 13:48:03 2008 +0200

    Use GString for SDP description generation.
    
    Instead of using a static buffer, use GString for composing the SDP
    descriptions. This involves some low-level changes:
    
    - in ConnectionInfo, descr is no longer a 63KB characters array, but a
      GString pointer; considering the structure is only ever allocated on
      stack, this should make it an improvement;
    
    - the DESCRCAT() macros in both sdp_session_descr.c and
      sdp_media_descr.c are gone, with their use of fnc_log() since there
      is no more need to check for overflow (GString adapts its size);
    
    - to avoid multiple printf()-like statements, sdp_get_version() and
      sdp_session_id() functions are gone; the orphan sdp_get_version.c
      file (that was not built before) is also removed.
    
    The resulting code is around half the size it was before, more
    optimised, and certainly less memory-hungry.

commit 39d3b62a76e39941718c89dca361fbb24d5b93f4
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 12:44:02 2008 +0200

    Remove fncheader.c by moving the one-line fncheader() statically in main.c.

commit c9eb73701f8e97112d57f64f52b7dfcee5e94021
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 12:39:04 2008 +0200

    Stop serialisation for building feng binary, fix parallel-make.
    
    Instead of disabling parallel make, make it work properly as it
    should.

commit 48f8d5be79f24d8d8a9669ed1277a867a33c00dd
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 12:34:46 2008 +0200

    Remove spurious whitespace.

commit 0c1f8836262d5ec001419af84a80b4a9834f99fc
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Fri Oct 17 12:07:34 2008 +0200

    Don't check and warn if allocation fails.
    
    Since we're now using glib, a failed allocation will abort the whole
    program. While this might not be optimal in some situation is the
    correct approach for the data structures needed by the software.

commit f2a0fbf2960d39b9d19f596ec49cbdcf604bcab1
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 17:04:53 2008 +0200

    Remove double AC_CANONICAL_HOST, it's only used by the Darwin check.

commit 0a865f949177fe57ac2c2cba8c55908a41fc4733
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:34 2008 +0200

    Don't check for endianness of the system, rely on what glib says.

commit 3c57843611dda6ec382019bca349ab419140b673
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:33 2008 +0200

    Stop using libgcrypt in favour of glib PRNG, make session_id always 64-bit.
    
    The latter is part of the conversion since it's generated by PRNG now.
    
    The three-steps generation is just safer, and shouldn't be slower.

commit dfe05f4137430f279ff5f738c853773f7d09a631
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:33 2008 +0200

    Update include directives so that they comply with glib 3 requirements.
    
    Starting from version 3, glib will only allows including glib.h rather
    than the single includes by themselves. Although I disagree with that
    choice, this makes it possible for feng to be more transparently
    ported to version 3.

commit 1c1f154d6785da0bc201ebeec4279cec60ac937b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:33 2008 +0200

    Remove parse_url() function and its use.
    
    Make ConnectionInfo keep the Url instance directly, instead of copying
    its data around after validating it. This also reduces the amount of
    work needed (for instance the port value is never used throughout the
    code).

commit a987bc930c2948f40b7ece22f65d406baea23426
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:28 2008 +0200

    Remove pointless usage of parse_url() function.

commit 9165c3c34ec7b387cbf2a800a5b7e06026f1482a
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:27 2008 +0200

    Remove superfluous includes.

commit b9c5c51447c61a4e38ca0f6a90a3078835c196c3
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:27 2008 +0200

    Make the include file self-sufficient.

commit ba21243ab6c20f66427661770aa91e083162f9e7
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:27 2008 +0200

    Remove safe-ctype.
    
    Instead of re-inventing a safe ctype-like interface, use the one
    already provided by glib.

commit 679fc43c24e647e354bc43edca336c919c003aba
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:27 2008 +0200

    Remove min and max macro, use system or glib provided MIN/MAX.

commit 4e7aadd324974d63c92e1177e5911abd0d1d746b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:26 2008 +0200

    Use glib facilities to parse commandline options.

commit 9cd8316b7e3303a5d249c62c4aa9f2aa68f14998
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:21 2008 +0200

    Use GString to compose filename rather than temporary buffers.

commit b43fad384978a2210b11287894b40ab92b11defc
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:21 2008 +0200

    Make sd_filename a pointer rather than an array.

commit b874b0671de2bc56bfa196faad583f53b90b7846
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:21 2008 +0200

    Replace strncpy usage with g_strlcpy.

commit 4c079b82bb828a33cf0f998326ba80d2b4dda8e8
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:03:18 2008 +0200

    Use GString to prepare RTSP replies.

commit 17a48ad381f73c66ee698a46ba2f1607a768a4c9
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Oct 16 16:02:19 2008 +0200

    Use GSList also to replace RTP_session lists.

commit 69772b662ba493a66f085fa03a86befd86cdda20
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Oct 15 21:54:43 2008 +0200

    Remove RTSP_buffer.next, unused.

commit 7bd4b417e6a669c6a224cea80b97db675e4a0e41
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Oct 15 21:54:43 2008 +0200

    Replace the interleaved "home-made" list with glib single-linked list.

commit e28c987d4f4f60c12d7913a6d1b9bd0ae5caa944
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Oct 15 21:54:43 2008 +0200

    Use glib single-linked lists for client connections.
    
    Instead of creating a rough list of client connections, make use of
    glib's support for single-linked lists and its foreach functions.

commit fa3245bb5b51394f6b24077d8de8e839d8554404
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Oct 15 21:54:42 2008 +0200

    Remove unimplemented cruft about multiple sessions.
    
    Instead of "faking" half-availability of multiple sessions, simplify
    the code by removing the cruft about multiple sessions per socket for
    now.
    
    This because when multiple session will be implemented, they should
    use GList rather than a custom-made single linked list.

commit 5c96d4c1d639414e5a4f235d590f8d0c7d4dc8f3
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Oct 15 21:54:39 2008 +0200

    Switch all allocation/freeing to glib.
    
    Replace calloc/malloc usage with g_malloc and variants.
    Replace free usage with g_free.

commit 6500eb7ba11b664df500e53c3c8a9fd006fb1478
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Sep 23 18:06:02 2008 +0200

    Port all the threading support from pthread to glib thread.
    
    At this point, glib is a mandatory requirement for feng so there's no
    reason not to use glib support for threading, which is more portable
    and theorically faster.

commit e7f8b350f76d418e67441d8f985ad9674fb723af
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Sep 23 18:05:34 2008 +0200

    Remove undefinition of TRUE/FALSE as glib needs them.

commit 649928a2eceada0289774b4ce07054234aba5859
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Sep 23 16:25:19 2008 +0200

    Make use of glib routines for base64 encoding.
    
    Since verison 2.12 glib provides support for encoding and decoding
    base64. As feng already makes use of glib, there is no compelling
    reason to re-implement base64 in itself.

commit 2bca838d55884bf39e7845ac22e44fce9e3aeb5d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Oct 15 12:14:54 2008 +0200

    Fix Darwin workaround.
    
    Add a comment on why we're doing this, and make sure that we use the
    canonicalised host rather than uname.

commit e5e5902ff9a6dffa6b443fb9127727a3d8aa53a3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Oct 15 01:19:51 2008 +0200

    Fix Darwin

commit 0979e7aa3c0b8afbdd6f9c956c57c480f3f7dcb9
Author: Jun Sun <jsun@junsun.net>
Date:   Fri Oct 10 12:30:37 2008 +0200

    Do not set buffer to 0 from the end of the already discarded message.
    
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

commit 29e0eb06155b5430a711ffbfe3d5482323840516
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Oct 1 20:02:03 2008 +0200

    Leftover r_open_tracks in RTSP_setup

commit 5e6116ca73a31851334eafba4bc5d1f5d228dd33
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Oct 1 18:21:05 2008 +0200

    Remove Capabilities (empty structure).

commit c636b30d33b528f85023e93847ff81311bf2516d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Oct 1 18:20:36 2008 +0200

    Remove inline specification for non-static functions.

commit 921b415553e39f0ddd220a63efd1a062ab18906b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Sep 30 13:55:15 2008 +0200

    Import bufferpool commit 54d0701 (fix building with Sun Studio Express).

commit cfe788db03410a56e18a67a596f94e8f9ed966cf
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 19:10:26 2008 +0200

    Fix order of includes so that extensions are enabled for all includes.

commit 4e6c03faf77d1e4cbd6b986fd78b9dd33276ba04
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 19:09:47 2008 +0200

    Fix build on Solaris, the IP6_IS_MULTICAST_ADDRESS macro has a different interface.

commit 91ae16687f863b257c1ae8e759ea992b9bb40e27
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:47:47 2008 +0200

    Include strings.h where strncasecmp() is used to make sure it's visible.

commit 3ba1462f4aac56ac65c2e9e37fde157bc6ccc323
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:46:02 2008 +0200

    Fix includes to make sure inet_ntoa() is visible.

commit 112b5d22bb40c1c3ba002d512c551d8e1063748f
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:44:39 2008 +0200

    Fix includes to make sure usleep() is visible.

commit 11e087b7f6d5de0c86f543a1b0dcdc2e1a54b894
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:42:59 2008 +0200

    Fix includes to make sure vsyslog() is visible.

commit d0f01767f90c440f326ccf150ba6064ad71f44e1
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:42:36 2008 +0200

    Make sure to enable system extensions (now that C99/POSIX.1-2001 is used).

commit 262710509e22d03aa819e896e8440fdfcd82d8e9
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:39:08 2008 +0200

    Remove check for shm_open library (not used).

commit 52f9eb37f199c36129ecd4e74ebb57a3eab0f2e3
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:38:16 2008 +0200

    Remove pointless lround() definition (not used).

commit 75a19e889614f67ac7237b07454159fda513ffa3
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:35:37 2008 +0200

    Don't declare undefined functions as inline (for C99).
    
    Now that C99 is used, and inline has a meaning, don't declare
    undefined functions as inline.

commit 6988b54ce768050684b7b19feeb79a4650388b8e
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:34:27 2008 +0200

    Include proper files for POSIX.1-2001.

commit ecd7fd9a7579a3baf4f9a568f824cdd12db14d77
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:30:45 2008 +0200

    Request POSIX.1-2001 explicitly, change the check for clock_gettime.
    
    Now check for clock_gettime during configure, so that if it's present
    it will be used.

commit ca7352efefd5a3e26ffc9681683ce9972e06dd29
Merge: ea575fb... 7051e77...
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:04:07 2008 +0200

    Merge branch 'master' into autotools-fixes

commit ea575fb05d1e1d65e0270b91bcb2fc84dbe4ff7b
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:03:57 2008 +0200

    Require a C99-compatible compiler to build feng.

commit 7051e77601511705ea29b2f6956591e8505dd2fc
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 18:02:09 2008 +0200

    Add missing unistd.h include (for lseek() and close()).

commit e0be608d3d5e794a2cea9c0a71baf057f0658ea7
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 11:44:25 2008 +0200

    Don't include glibc-specific features.h.

commit bd3cb2c3c227de8584961cc3c222eb529a7fa9ea
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Sep 28 11:43:48 2008 +0200

    Now that automake developers seems to have changed their minds about
    it, make use of maintainer mode support, so that it can be disabled as
    needed.

commit fbaa84c82410dd276f9a9bd411081941471fe810
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Sep 25 20:50:18 2008 +0200

    Add an extra configuration file to run feng "uninstalled".

commit dc354cd52b2edc7eeb40cdf345b5f1f8312c6761
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Sep 23 16:04:46 2008 +0200

    Don't check for unused libm.

commit 2f102e02446cc4da2121888ea5faab7ced3f8023
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Sep 23 16:03:14 2008 +0200

    Use one AS_HELP_STRING more.

commit 31729faac2981c0d2ee97453c40708d7e190a3e8
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Sep 23 15:59:56 2008 +0200

    Use pkg-config for glib discovery rather than AM_PATH_GLIB.

commit 6ab385048d418594d1af4aa6917dc6cde3b48a63
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Sep 23 15:53:01 2008 +0200

    Make use of the new shared macros for IPv6 and SCTP support check.

commit a69bd86b2cf7cbae95894dbc4a5e12e913b1ec15
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Sep 23 10:02:13 2008 +0200

    Update interface to the API of libavcodec 52.

commit 71759771fa61ebaf4f3b910e5c470e028889267e
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Mon Sep 1 11:54:47 2008 +0200

    Remove useless checks for alloca() and vprintf().

commit 01fc68b2f7103bb6d0873df426da503e8fdaa8c3
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Thu Aug 7 17:41:13 2008 +0200

    Use the common lscube debug macros for debug, mudflap and error flags.

commit c12ab142660438e67ed3a6828d4040dea0fd782d
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Wed Sep 10 16:49:54 2008 +0200

    Changes in socket creation.

commit 509eb1e4570c32eb2bfab1933e3e13fa4ec6a72e
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Thu Jul 24 17:37:08 2008 +0200

    Mysql m4 file added.

commit d0751f2cae6e22ba2f13b193357d70714f7261b0
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Thu Jul 24 17:20:36 2008 +0200

    Configure file modified.

commit 7c63cd40bb2828fb1ccd4845f4247c1d3e2408e5
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Wed Jul 23 12:42:30 2008 +0200

    Config parameters added.

commit 9aa3b0f6fed5564f00ee7e60abdb90f1ef4e4df6
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Mon Jul 21 18:43:30 2008 +0200

    Printing of configuration parameters has been removed (for now).

commit bbf1286290ceb321db7ff778faf52c4abb23f7b9
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Mon Jul 21 18:30:11 2008 +0200

    Now the metadata server sends out the length before sending the packet
    itself.

commit 04085c3f220847d6266acc61e606e07856c878ff
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Wed Jul 16 19:03:22 2008 +0200

    ...e ancora!

commit 970ebe8e66a1b9a5c466aa660013e3a5aa5e87bb
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Tue Jul 15 19:11:06 2008 +0200

    Streaming dei metadati funzionante

commit c9e7ce8299982a78c1d667e4fc296ac75db63a4e
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Mon Jul 14 18:41:18 2008 +0200

    intercetto streaming in mediathread e controllo la presenza di canale di
    metadati aperto

commit bc26f384d05bebc8e2fed68149fd9fe76ffa456c
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Fri Jul 11 19:17:27 2008 +0200

    ok

commit 11d68c25287d28a98885bf9ae2e062e1a2432086
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Thu Jul 10 18:49:36 2008 +0200

    File principali CPD

commit 87d59a6ef45a12d73db3c82ef118e4b5cf910626
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Thu Jul 10 18:47:55 2008 +0200

    Aggiunta parte del CPD

commit 958313524ea4a56a35435a8360e001b8990c0c8a
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Wed Jul 9 13:11:45 2008 +0200

    Revert autotools changes to help people with old libtool to still compile feng

commit 43832146c6b683ee615c65b06cdb5540ba944c36
Author: N.C. Barbieri <chriz@chriz-desktop.(none)>
Date:   Fri Jun 27 18:55:14 2008 +0200

    Lavoro di venerdì

commit 69a534275f8f7deb85b11dc00a8b285c49261fa6
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Wed Jun 18 15:37:32 2008 +0200

    Stop libtool from trying to build PIC and shared object versions of the code.
    
    felix is a daemon that install no shared libraries, there is no reason
    to actually build shared and PIC versions of the objects. If the user
    is using PIE, it will be handled by the compiler already.

commit fc4896e60c6410fbd7d20274a976462860c5aa7f
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 23:25:22 2008 +0200

    Add Doxyfile and RELEASE to dist tarball.

commit a59ce7876040717d63d141822273ab36a3a9fc7c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 23:23:34 2008 +0200

    Disable building of tar.gz distribution.

commit 019c06032cad4fd3beebf97a10409c1d7e4619d8
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 23:23:22 2008 +0200

    Add all the header files for convenience libraries are part of the sources.
    
    This way the headers are included in the dist tarball.

commit 1c6062907e46997e9320a1f39de9ca62dc4ab250
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 23:13:07 2008 +0200

    Add all the common header files as non-installed headers.
    
    Instead of adding include/ directory to EXTRA_DIST (that breaks "make
    dist"), list all the common include files as non-installed headers of
    the project.

commit a9c40db62c1c7f17edfeb0cecb3812160fd95f05
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 22:45:18 2008 +0200

    Don't put config/ directory in EXTRA_DIST.
    
    The config/ directory is used for autoconf auxiliary files, those gets
    distributed automatically, there is no reason to include it
    explicitly.

commit fe5b0e55c9b59d24ce90c8af5875d28b9a2168f8
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 22:45:04 2008 +0200

    Stop checking if NEWS file updated.
    
    The NEWS file is currently used as a ChangeLog and doesn't look like
    it's going to be updated for each and every release soon. Instead of
    requesting an updated copy of it, leave it alone entirely by switching
    to foreign (non-GNU) automake system.

commit b9b7ce7e2056a5cf4d0b5681969fb180a711dc15
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:55:23 2008 +0200

    Remove INSTALL-FAST file from EXTRA_DIST.
    
    The INSTALL-FAST file was removed in commit
    d6401a7a2a7e860d0c9c02fdb5bfa0d8b7119c02, but kept make dist from
    working.

commit e9eeca3526571d31215dfd7e860734d25ca3c48d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:54:48 2008 +0200

    Remove debian directory from EXTRA_DIST.
    
    The debian directory was removed with commit
    1e4f4813c5b1511b7df96449d1c5471ea48d9161 as "stable files" (probably
    still referencing fenice), but having it referenced in EXTRA_DIST
    keeps make dist from wroking.

commit d4b22dd84c749424f3f9a2ac8570c2106c8202ac
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:38:13 2008 +0200

    Ignore the macro files copied over by libtool 2.2.

commit 9390eaf9c48ee93b84d2fd378e3eca949702e88f
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:30:52 2008 +0200

    Require autoconf 2.62 (better safe than sorry).

commit b3eb2920875da14c9f64a37e65eff7175764b21d
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:29:09 2008 +0200

    Update libtool macro for libtool 2.2.
    
    Also require at least version 2.2.4 (current version).

commit 2e6142a8973b59f3a23876fff3a06df2a922c0de
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:25:46 2008 +0200

    Remove the hack to avoid C++ and F77 tests with libtool (1.4).

commit ae98bd11ebc36fb03d0febefbae74667cfa1b3f3
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:22:06 2008 +0200

    Replace deprecated AM_CONFIG_HEADER with AC_CONFIG_HEADER.
    
    As reported by autoupdate.

commit 9e4df1ca7953b01c3a8f34abb91e85f85ae8ed81
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:21:40 2008 +0200

    Fix quoting as reported by autoupdate.

commit 3f44591e9efd8d03e3be6d2ad9130ea0565c9b83
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:21:22 2008 +0200

    Use AC_CANONICAL_HOST rather than AC_CANONICAL_SYSTEM.
    
    The AC_CANONICAL_SYSTEM macro (deprecated in favour of
    AC_CANONICAL_TARGET in recent versions of autoconf) is used for
    packages that have both an host (system they run on) and a target
    (system they run for), like (cross-)compilers, analysers, debuggers,
    and pkg-config.
    
    User applications and libraries usually only have an host.

commit a916f68cadba5a1b8f2830c27c7277175779cd98
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:18:24 2008 +0200

    Use AS_HELP_STRING for AC_ARG_*.
    
    Instead of padding with whitespace that makes it difficult to read and
    can't adapt to the width of the terminal, use the AS_HELP_STRING
    macro, which will take care of adding the proper amount of whitespace.

commit 4f2be3d8a8aafd2e92a30fec0d6b5cbba4117a1c
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 21:18:22 2008 +0200

    Mark functions only ever used in their own translation units as static.

commit e906a80ef573ee46774d9a60c889fea2b4e30ff7
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 19:55:34 2008 +0200

    Remove functions that are not used anywhere in the project.

commit 00aa35ce90c6beeb0a9304c3a7f466a31da9b3c1
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 19:55:33 2008 +0200

    Make functions static when they are not used outside their unit.

commit a391c453f8aedf96ea2a9c0061dc4dd4c8d1f3b9
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Tue Jun 17 19:55:32 2008 +0200

    Fix the parser not to generate COW for code.

commit abf44fa7a9a36fe9bcbb80c7d64fac4163048003
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jun 17 12:34:41 2008 +0200

    Make the new libtool happier

commit a211e80b203e51daeda1f2b073a430b7eb516765
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jun 17 12:34:24 2008 +0200

    Kill a warning

commit be9f6ffb74c9f8a5663c54f4de3cf9ec1b888bd3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jun 17 12:00:58 2008 +0200

    Stray destdir

commit 6d08b604b827b0b4dcb9cf6fa628e6bf5d37fc8b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jun 17 11:42:59 2008 +0200

    Fix localstatedir

commit ce55022d00e355837c1e85e68de3212000cf6666
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 11 11:08:48 2008 +0200

    Update Copyright

commit ddf20d674eda5351c1c54a12d3961598ba6f2bda
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Jun 8 12:42:08 2008 +0200

    Fix send_reply

commit 76c11b0d5106930d213010244e8b3ce5c13b3682
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Jun 8 11:52:37 2008 +0200

    Remove casts

commit d8a1e9cbe998bb3f9c719dab28a930646003cac4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 6 16:37:56 2008 +0200

    100l missing makefile change...

commit 427a59827cec21ab591d2deaa40488649ace01bf
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 6 12:41:07 2008 +0200

    Comment misleading modules section, they aren't present yet

commit 4037796390856f94eed94ccf596061c891496b69
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 5 12:43:18 2008 +0200

    Really enable speex...

commit cff1f5dbf928bbb24832377e0fbdb4aa4de437d9
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 5 12:15:42 2008 +0200

    Enable speex

commit 3dfccbc755c669e189cd74373904968002b031f7
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 5 12:09:51 2008 +0200

    Cosmetics

commit 44bcac3ea8560503f232022b7377cbf7604d47f5
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 23 15:00:09 2008 +0200

    Cosmetics

commit 3134754ce3c1a1199095ff9bb1a02fee2a0fc9a2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 23 14:59:51 2008 +0200

    Factor out sctp conditional code

commit 3fdbc85a1706d14b9580d2ec33ee06fd6021ddad
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 23 14:58:14 2008 +0200

    Remove verbose

commit 102ecdc82c79b48043f7863236a73319df96ef23
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 23 14:57:44 2008 +0200

    100L Fix ugly typo

commit 90ccf1e389a9a78f3cd9fca03a0a5268668e0f0a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 20 15:12:56 2008 +0200

    Expose trace capabilities

commit ddeb5a7f2b75ea893472697e7815a95a6fa256a6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 20 15:12:33 2008 +0200

    Fix a memory leak and a spurious write

commit 0b4ba29423016cdf35955db76b1a09f8d2d962f0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 16 18:32:45 2008 +0200

    simplify send_reply, should be simpler

commit 43ea2eb058a2947958f30af33be2508e13891d26
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 15 11:23:15 2008 +0200

    Initial trace capability

commit 1805e7a7cf65dba7963b1366a3e66e6d449970c1
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 15 09:10:23 2008 +0200

    Cosmetics

commit 10ed1e86c867f194e4971fe0e8020cfa48d80271
Author: Diego Pettenò <flameeyes@gmail.com>
Date:   Sat May 3 16:00:56 2008 +0200

    Remove two warnings.
    
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

commit dc62bbe3c6c371f09b4c47623de612ae499ee4f9
Author: Diego Pettenò <flameeyes@gmail.com>
Date:   Sat May 3 16:00:28 2008 +0200

    Remove warnings for unused variables
    
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

commit 2572a9a8a574d95bc0b54412d38836a27c7d35dc
Author: Diego Pettenò <flameeyes@gmail.com>
Date:   Sat May 3 15:56:29 2008 +0200

    Support building out of the source tree.
    
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

commit f6af81158f602cbf6530d3446ea96467bc443212
Author: Diego Pettenò <flameeyes@gmail.com>
Date:   Sat May 3 15:55:25 2008 +0200

    e .bss section (default backed by the zero page) for switch variables.
    
    When initialising to zero, variables are created in .bss; almost every
    process will trigger a copy on write of .bss at certain point, so it's
    simpler to switch those variables to .bss rather than having them cause
    a copy-on-write of .data.
    
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

commit 19fc3b136814fd1a294db176a012c22e47d7ba53
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Apr 27 09:58:42 2008 +0200

    Remove stale and unused code

commit a5147a5c38a50359bf4edd986e825d1a630a5205
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 18 14:50:08 2008 +0200

    Reshape dir layout a bit

commit 92cbb1518c65835c6d8e5385e0a8fd4cfd42c953
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 14 23:34:56 2008 +0200

    Fix rtcp interleaved

commit c001017bc588013b3ad4b0e6d74421eaf7ff8f9e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 11 10:21:13 2008 +0200

    reindent

commit 99660e467db0b2602223527dd89e27f5af50d934
Author: Martin Florent <florent@netqost.net>
Date:   Fri Apr 11 10:18:16 2008 +0200

    Fix memory leak
    
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

commit 32aa6c79053e2a806e0d67d2aff99c796ba60626
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 10 17:28:42 2008 +0200

    Initial broken and incomplete mpegts feeder

commit 88dd183c23dd1a9fcd5f28abc1d13c8603d4fd7c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 10 17:07:18 2008 +0200

    Fix avf demuxer

commit 6d44a2c45578a7930b3bd0375feaa186d109deb0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 10 15:24:44 2008 +0200

    Make naming consistent part 1

commit bf790ebd7c89ca0a4c939ea2f1a6c6327ccfb6fe
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 9 15:44:08 2008 +0200

    Remove old parser api

commit 83914cf664d8d4d7e928fc84ffccfed625317e01
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 9 13:33:02 2008 +0200

    Doxy update

commit a9015495f45448c01570c4babddff960538c383c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 7 18:22:37 2008 +0200

    Restructure mediathread

commit 6b4bc2988498c36b2322b57ea36e83fc9a969560
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 7 18:08:10 2008 +0200

    Remove unused include

commit 733b522862b5354f793f0942e7cbb7fff3203010
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 7 18:04:33 2008 +0200

    remove old payload switcher

commit e8482ffb67972698f96dbe82ab55fc97f181bd2c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 7 17:59:32 2008 +0200

    Remove stray files

commit 9b2e879b3dc38fafe6eb38eb50572efc14b84748
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 3 23:32:51 2008 +0200

    Make sure we exit if we do not have any stream to map to a track, thank to Martin Florent <florent@netqost.net> for pointing out the issue

commit 4306a9550642695ba51b2ff6924130b51ff5150d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 3 18:34:45 2008 +0200

    update

commit 079dbb622f62103a8a6ef44b66004bd1b2d00c63
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 3 18:32:48 2008 +0200

    Typo

commit 3e71b0e58f923b492c11317b5abd8f26b9917b64
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 3 18:29:00 2008 +0200

    Update release notes so far

commit ab2f1305d79edfc3929eb19af9d2b0cc389f869d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 3 18:20:23 2008 +0200

    Reshape eventloop

commit a89d2bb03188601aa63e9a0bff689e7dc73df45b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 3 10:03:51 2008 +0200

    Ignore unknown tracks

commit 698eb8e45a4636efa98e3f93843ccc4ba1b18daf
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 2 14:07:11 2008 +0200

    More doxy stuff

commit 1adbb7bc2bceac7a9e62c81f0cbe18fe22d59667
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 2 14:02:54 2008 +0200

    Minor refactor

commit 1027b1003a4afcb0bb75ec30eb5496f3690d91ab
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 1 20:10:20 2008 +0200

    Listen to multiple socket

commit 92c7dfdb1eb0fcb10ea8a65645bd8cd8cb353a74
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Mar 21 16:14:54 2008 +0100

    Unbreak any host case

commit c2e619b8635009234a020d75fb6e1f089e0442be
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 15 16:10:04 2008 +0100

    fix log paths

commit 341e0d21995135f8a42a22eb0be7c62826330231
Merge: e0b46a9... c423b6c...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 15 15:53:27 2008 +0100

    Merge lemon back in master

commit c423b6cc7bbbc3e5dfa085184ec1f9d78cb739bc
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 15 12:17:43 2008 +0100

    Update manpage

commit a7a04e3ecc2c5e505c9f36dea1ec43e94eccc7ff
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 15 10:57:24 2008 +0100

    Avoid a fishy issue

commit 2a431dba635625a2a9073b61d7e517e0912ade03
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 15 10:28:54 2008 +0100

    Cosmetics

commit 8b60e3957c18c535fa6cde41bf385aedbb8fa854
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 15 10:14:15 2008 +0100

    Release target 0.2.0

commit ef516d92c46ac28a9f7f87925ce7e2ac353bc180
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 15 10:13:34 2008 +0100

    Update default conf

commit af70739718b8aaf78191339fe2707a5192a0f210
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 15 10:13:01 2008 +0100

    Unbreak bind to host

commit 03d97374b4c646f4e8594b130fadb14133c5eb43
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 6 15:04:33 2008 +0100

    step one to support multiple listening sockets

commit 272cd31918bb65ff3c800abce7ee31a68896e547
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 6 10:52:24 2008 +0100

    Improve the new configuration integration

commit d844262d6ff6f78c4ae9175421def1bcd29868f4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Mar 6 10:05:20 2008 +0100

    update to use the new netembryo

commit 4f65a7ac08763c83f75833efbec0a6643686b0f5
Merge: bc8c871... 27d95aa...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Mar 5 10:08:29 2008 +0100

    Merge branch 'lemon' of ssh+git://live.polito.it/var/git/feng into lemon

commit bc8c871f6e560bfb4ae431d205937aac2db3b0e8
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Mar 5 10:07:00 2008 +0100

    Use appropriate free for av_mallocz. It should change nothing, but it may not work anymore in the future.

commit e0b46a99a051144ae49c079522970b3fe04da698
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Mar 5 08:51:57 2008 +0100

    Update install instructions as well

commit ec23cf17531971e441d39529c0ba7bf34d75a2d0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Mar 5 08:51:11 2008 +0100

    Update requirements

commit 27d95aa5b6161a5e9a5770c8f7c65ccaf7e777da
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Mar 4 17:54:59 2008 +0100

    update to the latest ffmpeg

commit 66a135c89d2079959d861d98d90b91d0952f8319
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Tue Mar 4 17:25:19 2008 +0100

    get in sync with ffmpeg and netembryo

commit f8b6e7b28a56d83a2a586890b8503197368f0a1d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Mar 4 13:50:13 2008 +0100

    Update configuration

commit 9a838e7d15b5ef83fc8a16c339f5a204eac4ea80
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Mar 4 13:47:47 2008 +0100

    update todo

commit 300b6b85ea94f7a4a85d47d09ca0a929f447cc90
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 2 17:13:58 2008 +0100

    Mark as many variable as possible as constant whenever they are not touched.
    
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

commit 508ebdd768d42092ab6c3d3acd433e62d0fabdbb
Author: Diego 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   Sun Mar 2 17:08:44 2008 +0100

    Fix handling of builddir != srcdir builds.
    
    Signed-off-by: Luca Barbato <lu_zero@gentoo.org>

commit c26deaa21868f73d929c1b4b997adf9b3c654900
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Mar 2 17:05:07 2008 +0100

    cosmetics

commit 6db7d8c2b18db9bdba1b2f5d3eb1ea97a8754200
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Mar 2 17:04:53 2008 +0100

    cosmetics

commit e8178217e135e376daf98f302d1720680af06164
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Mar 2 11:31:32 2008 +0100

    remove rfc mirror, not useful

commit 39c75bc2d1813f597a0a2d19215b1b51cdb335d4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Mar 2 11:16:07 2008 +0100

    doxy+cosmetics

commit f9b963ee6659d7bc02d22731918ba47c5d4975f3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Mar 1 18:02:37 2008 +0100

    Start segregating fd and network code, pending overhaul

commit 42b9f1dc37409f2c72515ccc618454c718b606d6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Feb 28 13:48:45 2008 +0100

    Cleanup inline functions

commit 051c0f4a137718785b113f38aa030cda94ae9c6a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Feb 24 12:06:09 2008 +0100

    Make doxy quiet

commit ba0dded640dfc49a9aacfdccb1a5fd01945ef4af
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Feb 23 14:38:09 2008 +0100

    Update deps: netembryo && bufferpool

commit 433b688cbe9c952ad65facbb7a75a98f67c5c08a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Feb 22 20:34:45 2008 +0100

    Update changelog

commit e4ab171af1dcff497449a2f8b2e42ea8d5b14cc5
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Feb 22 20:33:39 2008 +0100

    Move to lemon parser part I (huge already)

commit e232a84a2402c4fb1759146d2b249d441268fe86
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Feb 22 08:48:01 2008 +0100

    doxy comments here and there

commit ec5bade0db3193a4af9c9f373c6be1b41b078433
Merge: 0ea8813... d8e10ef...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 18 09:50:53 2008 +0100

    Merge branch 'master' into lemon

commit d8e10efdd6f53448fdc46400d6dd4f77b6bc0048
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 18 09:50:37 2008 +0100

    make thread check sane - unbreak freebsd and solaris hopefully

commit 0ea88134498eb1dac06b16286f66029c14a10bcc
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 18 09:46:22 2008 +0100

    include limits.h to get PATH_MAX, unbreak freebsd

commit 2fbe13bee543b8fa020f0dce7e53968f17e3d835
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Feb 13 16:48:41 2008 +0100

    configfile global parser unbroken

commit ed5a8580527bb5d121090e6b10773a8eab7cf1af
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Feb 13 16:39:59 2008 +0100

    Add proc_open

commit de4e8963da8067ae1262702ebf9786a7c2c28bdd
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 11 12:08:06 2008 +0100

    Close on limit reached

commit 1fea1a17e5fa2f9a314590556ac6e567c5526e70
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Feb 6 14:50:10 2008 +0100

    fold stop_schedule inside the instance var

commit 5cadba7683d19e694ddc78b35496aee1808ae877
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Feb 6 14:49:45 2008 +0100

    unbreak building feng

commit d93a5d3cc6f99b976d90d01fa1d4d620421e93bf
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Feb 5 11:32:20 2008 +0100

    lighttpd array, buffer and stream imported, configration parsing halfway

commit 129ba70b08daee137ae56d585a5bc0cfcd6e169a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 17:06:21 2008 +0100

    move args parsing in main

commit 0c14437446c40afce0968f10d8a274a0f5f1fd9c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 16:25:56 2008 +0100

    Importing from lighttpd

commit 79600c80a70c43fe06a8337086f320505cc8798d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 12:25:24 2008 +0100

    Reformat parameters

commit c036d3c55ce668f05825d6bb4f51414636fdc709
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 04:55:21 2008 +0100

    Remove portpool globals

commit fd28afdb32c121514b903c4e4de1b1c4e600123d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 04:27:33 2008 +0100

    bogus type

commit b39ae8e326ec664b403efd6ee776fd5469d686ee
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 04:27:05 2008 +0100

    exception fd_set unused, removing from parameters

commit 73c120306234f53367a07fffae6f183ac567be99
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 04:19:28 2008 +0100

    Reformat parameters

commit 7e6f2d0b4f057f7497f824b3dc47cd61dd81e35e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 04:06:57 2008 +0100

    Doxyfy instance structure

commit c65bb4a4cab16f5f2fb81cf33298bf4d8380c4b3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 03:21:42 2008 +0100

    Restructure main() part 2

commit 0a6961a65fcd02673d31eee758223aa6208be4b0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Feb 4 03:06:38 2008 +0100

    Restructure main() part 1 - priv drop

commit 1c501675330d5bda7885bf5ef43edc50031446e0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 30 10:35:46 2008 +0100

    Cosmetics: uniform struct definition

commit 0d71a8590749a14ee44d7d0885e18012338093c6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 30 09:53:05 2008 +0100

    Update changelog

commit 6f68b2330e950afc4a4eaa95e2900884adfd6527
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 30 09:52:43 2008 +0100

    Move eventloop static stuff into server instance variable

commit ee83d9caeaec6c273252ce26d859890252ac8547
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jan 29 16:45:00 2008 +0100

    Instance variable, part I

commit 0a48db6b53e5ffeb7956c5154d30ca2d17396c04
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 23 14:08:17 2008 +0100

    Introduce server instance

commit 511937836fd8172a026f90bb67fd5bb123de924f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jan 29 11:45:50 2008 +0100

    Cosmetics

commit c1a52ca1a51f17684d279e092c3b8f6b0a9582a5
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jan 29 11:09:31 2008 +0100

    Stored h264 streams unsupported in sd right now

commit 20cb58db0d97a246c69d708d6fc5cf6bac252a48
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Jan 28 18:15:06 2008 +0100

    fixing problem when using h264 from a .sd

commit 0ee9cb9105d97347fbcd26780abcd4fd8eeffaf2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 23 13:31:53 2008 +0100

    get_field removed

commit 7c916d5540366415a931455d6e0f8e59c46c9917
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 23 11:58:36 2008 +0100

    Cleanup part3 move prefs away

commit 348ab8b62077a45dc2055b7caca31127388c2e45
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 23 11:55:36 2008 +0100

    remove leftovers

commit 994c3a426dd860db340ae6ddebf7a1492e628e58
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 23 11:55:19 2008 +0100

    Cleanup utils part2

commit 743d824f157b33dd78a540b03045cb049e37a79b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 23 11:44:39 2008 +0100

    command_environment -> conf

commit c25579f23747f8c66fbb4b72cd26f6d3ada0d916
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jan 23 11:43:46 2008 +0100

    Cleanup utils part1

commit 37d274a75c80eb2b63f9258a4cd300b15a28bd43
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Jan 11 23:00:05 2008 +0100

    Fix typo in schedule_stop.

commit 99e84ee0dc5d0c6e76b741bc089dd58cf25096d9
Merge: edabbb7... 1868e59...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jan 10 16:43:32 2008 +0100

    Merge branch 'master' of ssh+git://lu_zero@live.polito.it/var/git/feng

commit edabbb718abb7539a05b9eebc453feec695746c0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jan 10 16:43:07 2008 +0100

    Make sure the rtcp BYE gets sent

commit 1868e594f7123f223e5cb589e1d99d60fe4e82b1
Merge: c535faf... 7864e66...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jan 10 16:18:00 2008 +0100

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit c535faf15c43a6e8f866ac829255f9fbc96f005b
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jan 10 16:17:45 2008 +0100

    Fixed incompatibility with real player.

commit 7bcdebe39677878067cfdfb8c3d4792c481ba0aa
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jan 10 16:17:11 2008 +0100

    Removed unused code.

commit 7864e66c4671742904982a54b61dc8b942cbec9f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jan 10 15:19:32 2008 +0100

    100l missing common header size

commit 55bfa6482659c0a8fb64cda494bbd460886fb1fa
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jan 10 10:49:12 2008 +0100

    Backport srtp fix

commit a9438188a8d85291194258f3da0dfe69f51fa058
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jan 10 09:49:49 2008 +0100

    Reorder rtcp recv

commit 8e632ac3fc6d3a8b49c6cf6eb8326803c2bed57f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jan 8 18:45:50 2008 +0100

    Cleanup headers

commit 04c2d49ced5975ff28b6dca04b5907264ea5fcdb
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jan 8 15:38:34 2008 +0100

    Factorize the common header memcpy

commit fefac587c405d7c9f7ef517e4440e2b0898c4326
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jan 7 22:52:12 2008 +0100

    Cosmetics

commit 9baed787675c8091147a67855680d925cbb8168e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jan 7 22:44:18 2008 +0100

    Cosmetics

commit 621f02daf548c33d52fe87da4ddcda6a936a3a46
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jan 7 22:16:38 2008 +0100

    Factor rtcp_sock

commit 72ea7bf291f7396700ef1d586431fd1ae85d061e
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Dec 29 14:57:39 2007 +0100

    If we do not understand the client we should close the connection.

commit d72ea0c8adda4532dcd401f23748aa134c94c489
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Dec 29 14:44:17 2007 +0100

    Missing header size in interleaved message length calculation.

commit d28679b55f6be9cd86975219055028428254c42e
Merge: b7ad18d... e2267f7...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Dec 29 14:41:56 2007 +0100

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit e2267f75e6e7f2fa411926b8c800dbbce17fe84c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Dec 28 14:58:52 2007 +0100

    Version bump

commit 89f5595010246f6ab84ae8d4b97777c23dc60303
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Dec 28 14:58:42 2007 +0100

    Update

commit 36f0a2639fc9e7773bb1e0b5ae0ad0c4160adc60
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Dec 28 14:57:59 2007 +0100

    Update changelog

commit 819f1a99732c056fc21e1c33f9d2d425807043c7
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Dec 28 13:01:54 2007 +0100

    release notes

commit b7ad18dc28e55e78734a1ffa217a94b094c48f91
Merge: 1b59298... cb8b028...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Dec 24 18:29:22 2007 +0100

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit cb8b028b75c7fe6d3d870830aefa8b9f0bf6148a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Dec 24 05:43:56 2007 +0100

    Make sure we report errors to the state machine
    That fix some interesting impossible state conditions

commit f494142bf47c0bab51106778cf7e8821c2af2887
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Dec 24 05:20:29 2007 +0100

    Cosmetics

commit 74223f051fa303d92a7746d4d9692cc28d77df2f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Dec 24 04:54:51 2007 +0100

    Fix yet another NULL pointer unhandled (Thanks again for the report to L. Auriemma)

commit 8653a4c3088c982e81be2aff756787528f808694
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Dec 22 20:32:55 2007 +0100

    Missing NULL checks fixed. (Thanks again for the report to L. Auriemma)

commit 47cbb91667aa52a4e2ac06926b7835e4e65f115c
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Dec 22 20:02:50 2007 +0100

    Use appropriate buffer sizes in rtsp (Bug discovery by L. Auriemma).

commit 9692f85eac5deb218c7de06737aa2bae125a5468
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Dec 20 20:18:02 2007 +0100

    add packetization-mode=1, we are using fu-a

commit 9a29884661483f04f032f5a961aff251506f9a95
Merge: b15a7b0... a3cd612...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Dec 13 15:52:58 2007 +0100

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit b15a7b016f6e360e1fd389c4145cb2cd1fd79a71
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Dec 13 15:52:34 2007 +0100

    Block SIGPIPE and remove MSG_NOSIGNAL. This should make feng compatible with Solaris.

commit 1b59298d77a010df3e4a97966462e2cd770409ae
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Dec 12 09:58:27 2007 +0100

    Updated dependencies

commit a3cd61265b68f10bf0cd4a288cc1b411b9e2bd0c
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Dec 11 22:19:43 2007 +0100

    This workaround was not needed.

commit aef067ceea3c6fd1f10e68c35baef55caa7e718c
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Dec 11 11:20:53 2007 +0100

    Keep resource error space separated from feng generic error space.

commit 59debbbe02bd3d65855ad32c14af7750667c2f08
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Dec 10 14:06:19 2007 +0100

    make usleep time in scheduler unsigned.

commit cf61bc47ac24cd416ac337d097b42192744fa61b
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Dec 9 20:59:17 2007 +0100

    Handle better error propagation from RTP to scheduler.

commit 9b25c145c4aa3b09df9de820ba10540fee23b596
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Dec 9 13:11:27 2007 +0100

    Small fix on bufferpool frames count.

commit 18dd4792a9b6ae1327f6a9bb466abe76ca685d33
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Dec 7 21:33:35 2007 +0100

    Handle live streams correctly in new scheduler.

commit e26beb76717ba0a3f5eccb6f47218b1825384b01
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Dec 7 17:53:22 2007 +0100

    Assure sleep time is always positive.

commit 09442f29bb26410c8e6fd751c650bfba8837ca2a
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Dec 7 17:35:54 2007 +0100

    Never use copy&paste without reading the code.

commit acfc08625f0b469699487e2425e7462eae248ed5
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Dec 7 17:31:47 2007 +0100

    Missing default initialization for some preferences.

commit 1a8376b0554ef96380a5d462a652613dbdb66509
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Dec 7 17:26:27 2007 +0100

    Refactor schedule_do sleep to use an appropriate sleep time, in order to avoid the rate limeiter effect.

commit f7045784e1166d609516c9334e2e2ebdc25909f3
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Dec 7 16:47:20 2007 +0100

    Defined preload size as a preference in config file.

commit 95a7c7faf348f4908ea6045924054e611efcffc9
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Dec 7 11:49:09 2007 +0100

    Upgraded smoothing with new way of calculate send time, no more fixup needed.

commit 44b77c95a85339b0aa730fa99603a57bf6fbcd76
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Dec 6 18:15:06 2007 +0100

    Double needs fabs not abs.

commit 495e3a8b6a789a1a02b708cf01f1b422d50c494e
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Dec 6 16:51:14 2007 +0100

    frame_rate is correctly float now.

commit 50cedca0e21b0007abed870bcc5b8829470bb138
Merge: e019e87... b792d0e...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Dec 6 16:39:06 2007 +0100

    Merge branch 'smooth'

commit b792d0e0715e0c0067243ddf62391a6e4f1882b2
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Dec 6 16:07:50 2007 +0100

    Initial implementation of traffic smoothing

commit f84658d1d9a68b8282ecbc2f89b1adef9459a1d7
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Dec 6 12:19:38 2007 +0100

    Add preference for ssl port

commit e019e87df107a7e127d4d1c681e56591b528f08d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Dec 6 00:31:50 2007 +0100

    Introduce attribute framerate

commit d67c233d686d4f4c3efe66610e021aa228651577
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Dec 5 23:58:31 2007 +0100

    Cleanup

commit 15a5fd8d8cbf3f7401a5016684afffa2118b9210
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Dec 5 23:51:50 2007 +0100

    Cleanup description accessors

commit 2a3d38a688b574df7d9fae11f11dce88ac49bda4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Dec 5 23:13:17 2007 +0100

    Cleanup

commit 8d523818039c61ab558b933f4b6be0be57a08e39
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Dec 5 22:45:29 2007 +0100

    Cleanup

commit 145813f3bcf7685d4f44361bcba271da88b20983
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Dec 5 22:09:44 2007 +0100

    Cleanup

commit 8696bc1d11ec13c73f38b0720a69730c3c3f8ac0
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Dec 2 21:21:54 2007 +0100

    OK... I missed something in demuxer_sd.

commit c0e32a4ba9b3f380ef6f4958f410c8dd1c1fc198
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Dec 2 19:09:05 2007 +0100

    Enforce limit to max string size in demuxer_sd.

commit e5d233a3e645c77eb6c72f5cdc96d904e9562c0f
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Dec 2 18:59:46 2007 +0100

    Changes in demuxer_sd in order to make it compile without _GNU_SOURCE.

commit f6d51a7c8e381abdc601a3afdeb32f4b8c36b721
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Nov 30 17:37:58 2007 +0100

    Use fixed size types instead of generic in binary RTCP structs.

commit 70fa73ab0a8b3d2d6cd42a7ddf028e28dae45423
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Nov 30 17:14:45 2007 +0100

    Use gcry_randomize for initialization of RTP timestamp and sequence number.

commit 13f8121be3d7ce026f5d6510ea475a269288ff37
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Nov 29 12:56:39 2007 +0100

    Slow down buffer fill requests.

commit ee7d485e85a46539b7f4c3b4e8ff9bf77c3d5f1a
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Nov 28 00:15:16 2007 +0100

    Workaround for early BYE RTCP packet. Better fix will come with new bufferpool.

commit 9d10a5f7d8c95258291d2534e154300dae71ee33
Merge: 7c5a91b... bc52615...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Nov 26 23:47:05 2007 +0100

    Merge changes

commit bc52615c47067210d9dfa0bd06a2cfae43e7d53a
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Nov 26 17:02:59 2007 +0100

    Improve scheduler fairness

commit b7b5441510eb3c4e029ac213178e3543d49ea348
Merge: 711fbe7... afde8d2...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Nov 26 16:00:26 2007 +0100

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng
    
    Conflicts:
    
    	schedule/schedule_resume.c

commit 711fbe77829a1ea786a6a83bb4a61a53ef55d287
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 22:03:17 2007 +0100

    Disable delayed start. It's unused and it conflicts with QuickTime.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit 92f7c4fd02de0c8467bb3af6aacd11c87b05d083
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 20:19:28 2007 +0100

    Use a common start_time for all rtp sessions. Use different name for seek time (begin_time) in scheduler args.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit a70611002a7105c0bd033f68f9f956abd64c24e1
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 18:06:29 2007 +0100

    Tune up RTCP send ratio.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit b64093a2096b4b9c9af6697c52408de6c035d786
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 17:52:58 2007 +0100

    Use SDP2_TRACK_ID instead of resource name in sdp description. Use correct field in sdp description for promo. Revert the ip_address patch in sdp.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit afbd146e0f1701eaca18933aa1d5716e441a087d
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 16:58:42 2007 +0100

    Don't flood with RTCP Reports.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit 4f6301a783bbca58d27cb186a3648a0ba42a9841
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 16:52:11 2007 +0100

    Another missing piece in session_id conversion
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit 5bff8895d3db2b9d61649ab1d86187f1191dc6e6
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 16:49:27 2007 +0100

    ssrc must always be 8 hex digits long
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit f113d7d5a28f5a8337aa2145176436b7c0fcc068
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 16:40:19 2007 +0100

    Missing in session_id transition.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit e20f6f396c3813a5223a837ba7a3459caf2cdfd3
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 16:30:11 2007 +0100

    Generate RTSP session id with gcrypt as unsigned long, use value 0 as not valid.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit 90801129de7ed6cd8aec0fc719bb67394091a29e
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Nov 25 16:12:22 2007 +0100

    Modified gettimeinseconds to use clock_gettime where available. Fixes for endianess in RTCP packets. Fixes for RTCP time calculation.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit a065d989f29d48588bc46ebbb9c10c90bba01f0a
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Nov 24 17:13:15 2007 +0100

    SSRC is 8-byte Hex. See RFC 2326.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit 0928c1155482575caec2d3f1828f174eabf27dfa
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Nov 24 15:26:23 2007 +0100

    Fix some issues with SDP. Ensure compatibility with RealPlayer 11.
    
    Signed-off-by: Dario Gallucci <dario.gallucci@polito.it>

commit 7c5a91b6f449aee6df50bbe632eb1d8b679e3a88
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Nov 24 20:29:53 2007 +0100

    removing some trash[]

commit 65a003d6e403e20d9156fae8eec34f8c71d17b8a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Nov 24 20:10:56 2007 +0100

    feng in line with current ffmpeg, libavformat => 52

commit 2e3daf134f6b047b2b777836a26a99889824ee3c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Nov 24 17:35:20 2007 +0100

    Cleanup

commit afde8d23c1eb8a1ace85fe831f6da3ad7ab67160
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Nov 19 14:45:03 2007 +0100

    Rename duration in MediaProperties, in preparation to scheduler changes.

commit c5e265bed854cd543c3f0e9a7620ebb6a6609d2e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Nov 7 19:52:52 2007 +0100

    New release

commit 938eb4b3968dcce66f4d3ed6cafb16fa03a48ff5
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Nov 7 15:02:06 2007 +0100

    Update status

commit 2dae2a72ebc1dca1b0878209d393f478dcc9e167
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Oct 22 12:37:56 2007 +0200

    Update readme

commit b9621e2157240bdcd66796f22ac554bbdbde8260
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Oct 17 09:19:23 2007 +0200

    Cleanup mediathread even on dirty exit

commit d667c703baa0d64c0ed3b1ae46463778e7525baa
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Oct 16 14:45:35 2007 +0200

    Live content will not send a not valid rtptime field in play reply.

commit 65333e21cc77d695fc6d2b7cb71d6963f791019b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Oct 16 13:07:10 2007 +0200

    100L: stray code left from the polling implementation

commit f7e49592024fe941009aeed80b675b9321708498
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Oct 16 06:42:36 2007 +0200

    Fix doxyfile

commit e86f283da8ca15626ae416da7b7200dfd23b48f2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Oct 16 06:34:00 2007 +0200

    Update

commit 64ca7fd4ffb3161d24bec735d1f09e1d62925cb7
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Oct 16 06:33:07 2007 +0200

    New worthy item added

commit e070738300931ec7273f7b78c68ae712397c5ba9
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Oct 16 06:32:43 2007 +0200

    Update

commit 91d2ac6ac1f732257fd1b38ae11ceb78cbe1f630
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Oct 16 06:28:31 2007 +0200

    Enable again GAsyncQueue

commit 121148d8a2e50e4f2252c92f9d9b860f317f4902
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Oct 16 06:21:33 2007 +0200

    remove unused code

commit 5b481d5e72126b7338ac8d61f665661a23ec862d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Oct 15 19:21:44 2007 +0200

    Cosmetics: Avoid misusing __

commit f42e42b5009e55d0a086f0cebc69be5161db8728
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Oct 15 18:57:08 2007 +0200

    remove mt_disable_event*, make mt_resource_close generate an EV_CLOSE event
    This should avoid race conditions between closing a resource while the rtp
    queue is empty.

commit 5642b02ed11284b2c055eb44d84f29ce01499e89
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Oct 11 18:27:23 2007 +0200

    This is a very sad thing! Bufferpool still has race conditions!!!

commit ee0a438b5960adf5fe8f8967f65eed3b7310df45
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Oct 11 18:16:19 2007 +0200

    Another fix required for live pause

commit 150679a66c1ce6d9be06eb4bc72148a877fa9156
Merge: 540e637... 5f61241...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Oct 11 18:08:50 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit 540e63752934aeb638f07f5a1a4df63a9fbb1914
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Oct 11 18:02:08 2007 +0200

    Handle pause with live content

commit 5f612418a2b8a5620194467c00a0e509464b2845
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Oct 6 20:33:48 2007 +0200

    Fix copyright header

commit 44979b71903078f554b8368ebb8bd8890164513b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Oct 6 20:12:31 2007 +0200

    Update Changelog - real support

commit 85581b8fa7394d43da5373d96a389009ec2a2425
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Oct 1 00:54:28 2007 +0200

    Add missing set_parametr file

commit 0d2691a8c7e9d2967c8659824c55220b17e26a1e
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Oct 1 00:31:12 2007 +0200

    Implemented SET_PARAMETER in dumb mode. This solves 1m24s syndrome in realplayer!

commit 487e9d73f9e5dece8de85bdedec99c401107ad2d
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Sep 28 13:33:59 2007 +0200

    Removed no more useful debug messages.

commit 3bbcc16037b3d56beb10b3fa16aa3b541705419c
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Sep 28 13:25:17 2007 +0200

    Fixed h263 packet lenght

commit 5f5658c4c82d7d866b52645712f1277130dcdecc
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Sep 27 23:24:46 2007 +0200

    Add range to PLAY reply.

commit 09c60f988b267ce7be66341e2ebd92189e356103
Merge: 71d054a... 004471e...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Sep 27 18:11:03 2007 +0200

    Merge branch 'master' of git+ssh://live.polito.it/var/git/feng

commit 71d054a1d2956dfcd7ed39540812f84a1ba1678e
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Sep 27 18:10:53 2007 +0200

    Last parameters in mpeg video header came from the wrong byte.

commit 004471e5a08785fe42043a86127e066e8e380036
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Sep 27 11:24:55 2007 +0200

    Fix copyright header

commit 86d67f89e884358827dd0a66637e80f6b691a7ff
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Sep 26 12:47:14 2007 +0200

    H263 MediaParser working.

commit 037aab643601ec2ccedd369e6a98b79a916c5a2e
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Sep 25 18:29:20 2007 +0200

    Add mediaparsers skeleton for speex and h263

commit 78aea935ff4ee3dc544ef81fda910bdd908fac1b
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Sep 25 11:33:51 2007 +0200

    This commit completes implementation of rfc 2250, now also B frames are correctly supported.

commit 785173cdfe5ba85376976b009a88978c35f1ea5f
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Sep 25 10:16:54 2007 +0200

    Better logic for Sequence Header flag in mpegvideo.

commit 9846f8886d782d47312d472b929544726e0436d6
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Sep 25 08:40:10 2007 +0200

    Another small fix to mpegvideo from the original code.

commit 54e0df47ca49700efcf8c7649bff33c74e0b005b
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Sep 25 00:04:59 2007 +0200

    This really fix mpegvideo, headers were wrong for frames small enough for single packets

commit 7bd66a0c652223dfb8cdc554e09f1253d11b0bb2
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Sep 24 22:39:50 2007 +0200

    It wasn't an endianess problem, but wrong side rotation

commit 00eb91c50b30105c6b2b2b3c984d2a288bc069e4
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Sep 24 18:38:00 2007 +0200

    Missing endianess conversion from original code.

commit 171da6ce00666796bfc451386b2738b3ac37375f
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Sep 22 19:21:32 2007 +0200

    Increase interleaved buffer to 64K in order to mitigate tcp slowstart effects.

commit 12ae669393117e10dde35878b5d05db573ff7199
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Sep 22 15:04:12 2007 +0200

    Do not change sequence number after seek, in order to improve compatibility with VLC and realplayer

commit 548ad0ff3738815fc45a5afd3aa47721bbc63bf1
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Sep 21 10:04:11 2007 +0200

    Revert unintended commit

commit 51e5615091381e0f4ab101572ee8da98c55aea9c
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Sep 21 09:41:42 2007 +0200

    Remove also channel information or gstreamer will complain. All the needed informations is in config parameter.

commit 5c7eb0ef6bd5e9620d53933f679a3c12ec44ebd9
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Sep 21 09:31:02 2007 +0200

    Set aac clock_rate to 90kHz, this makes live555 happy when playing a video together.

commit 4e5f11db8911ca76c9929b6276fff2f6620a8989
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Sep 21 08:42:21 2007 +0200

    Factorized code for config string in aac and mpv4-es

commit 038b0363391dbdd277a29373cd3999026a0e1a12
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Sep 20 22:06:40 2007 +0200

    Factorized common code from aac and mp4v-es.

commit 1ac485809141db9542e664da9a655126dfd06afa
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Sep 20 20:39:47 2007 +0200

    Added support for MP4V-ES. Extradata hex dump code is same as aac, it should be moved in a better place.

commit 1ca1795d881de0ed2498d395ef9a647f0eb2747e
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Sep 20 18:54:16 2007 +0200

    MPEG Audio fragmentation fixed

commit 134983a1a434613be6d37a29faa7f214ec7837a3
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Sep 19 15:09:10 2007 +0200

    Removed a pair of warning about parenthesis

commit 0299dba8cc7cbec9f3451ab1fe87777bef64562a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Sep 19 15:00:18 2007 +0200

    sync with ffmpeg implementation since it's better

commit 60160ba9721d98a798be3c0badbd5b4ae0d6ed59
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Sep 19 14:42:44 2007 +0200

    Remove profileid from aac, add 1 to hex string size for terminator

commit 91af985b45a07260f4179b3b1120fc45124c0c54
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Sep 19 13:16:47 2007 +0200

    AAC support almost complete
    ripped the configuration encoding from ffmpeg.

commit 16cd2f8a8f0ed0230eab2a457e2515892b2bc84e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Sep 18 00:59:09 2007 +0200

    Cleanup

commit d864456e07ab4f5db871fb163c8a2537174a9304
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Sep 1 18:27:45 2007 +0200

    Fix initialization of rtp timestamp and sequence number.

commit 8524483e94c32dced5807cb0845668e84a7caf30
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Sep 1 18:17:02 2007 +0200

    Multiple Fixes for AAC
    - remove config MIME parameter (is broken)
    - add required MIME parameters
    - set marker bit correctly
    - remove AAC_EXTRA (aac content is fine as it is)

commit cae09f1d85965cafe037db39c010be6dc6835b8b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Aug 31 15:01:21 2007 +0200

    AAC elementary has the extradata in the first frame...

commit fb7b51d12efc7df0ee8f03449052e2450419e98f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Aug 31 15:00:12 2007 +0200

    Cosmetics

commit 7c171a6f1cbb49acb8278551623aa21e9b49a974
Merge: 9e67678... 45a7a6a...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Aug 28 13:35:41 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit 45a7a6a1bb6814357fede3a1294b545b6fa18894
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Aug 28 12:50:25 2007 +0200

    Hide range information if negative (to avoid problems with broken containers)

commit 3f9bec87b8318833c83c0b5e115720c0999e8145
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Aug 28 12:41:08 2007 +0200

    More clean version of MPEG1/2 RTP packetizer from ffmpeg with a simple fix.
    Works fine with all players except ffplay using mpeg2video.

commit 9a24c0850a1c7421f8ad6944fd19b32b743607e4
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Aug 28 12:07:49 2007 +0200

    Mpeg I part of mpeg12.c works now

commit a2c2703d2367d75b5cb232e3a3312353cd033fcf
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Aug 27 16:04:45 2007 +0200

    MPEG Video preliminary support a la ffmpeg way.
    Not working with live555 or libnemesi.

commit 7f879a2a83d3414a2ff6ff14ad21ba1ee4cdae2a
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Aug 27 13:51:29 2007 +0200

    Correctly handle MPEG Audio Layer 2. Thanks to Attilio for the fix.

commit 9e676782f307912c66163f3718c3c70c2abfac8c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Aug 23 19:08:52 2007 +0200

    We consume the first byte...

commit 6f1d2ecbe6fa785e169b432e7ad30b1b075169b6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Aug 12 19:40:17 2007 +0200

    trim away the top of aac packets as suggested by Kevin Wu, aac plain files now can be streamed

commit 0665b79092538d8735f9091ad1b06e67d2965f0b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Aug 12 19:36:01 2007 +0200

    Cosmetics

commit 6101c1037875cc4b861b31a629bd1ef5541317f1
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sun Aug 5 10:09:01 2007 +0200

    Reverting mediathread to previous code to fix memory leak on TEARDOWN.
    Added however 250Hz tickness when idle to avoid 100% CPU usage.

commit 8370a93fb60a0a045605603561fe17d3aa01558d
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Aug 4 11:41:26 2007 +0200

    Fix seek error propagation to the client.

commit 87c28cf2a1c0f1d4b14f6d87ec513f1caf8c735a
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Mon Jul 30 17:57:25 2007 +0200

    Handle Url encoding and decoding correctly. This allow to handle filenames with spaces and some special chars.

commit 8aba3e2d268eaceea5579a9cd8b1f095fe60afc1
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Jul 27 13:17:48 2007 +0200

    Removed unuseful nanosleep

commit a5d88ba4ffdc6755c7832b30c6dca8cb2f50afa9
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Jul 27 13:04:30 2007 +0200

    Workaround for 100% CPU usage in scheduler when linux kernel >= 2.6.22

commit f40500af53c5c9a8e6342a37036ccafdd7f8f9b1
Author: Austin Foxley <austinf@cetoncorp.com>
Date:   Wed Jul 25 20:29:14 2007 +0200

    use a g_async_queue instead of nanosleep
    Makes linux-2.6.22 (tickless) not account 100% cpu

commit 468effae0fc938da2979d48238f7834fc9e2bf49
Author: Austin Foxley <austinf@cetoncorp.com>
Date:   Wed Jul 25 19:55:21 2007 +0200

    fix some stray tabs

commit 3d0be41143c33ad314afa6da53571f920e76d35a
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Jul 25 09:12:46 2007 +0200

    Return correct error for unseekable streams

commit 55553458cc318b2ba994d226e7d2f9844db31082
Author: Austin Foxley <austinf@cetoncorp.com>
Date:   Sat Jul 21 12:16:47 2007 +0200

    mpeg ts parser (enabling it)

commit 574c49aa3eead730ae357cc72e9eb8b9a9766387
Author: Austin Foxley <austinf@cetoncorp.com>
Date:   Sat Jul 21 12:16:24 2007 +0200

    mpeg ts parser (initial commit)

commit 22b7c72c1bd35f52f9773e8d9a67628a6a15438a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Jul 21 12:07:45 2007 +0200

    move gettimeinseconds in utils.h

commit 1252991f4acb329b5f43718fc66838b0140c7174
Author: Austin Foxley <austinf@cetoncorp.com>
Date:   Sat Jul 21 11:33:15 2007 +0200

    comments

commit 77c5fe5198c8b1c6e3e2fe229ec759cba6aa05e4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 18 13:12:02 2007 +0200

    Initial aac, broken as usual

commit 9ed09a4824c109b0105f107a78fbdd35193bbc67
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jul 17 14:15:24 2007 +0200

    kill some warnings

commit b6ba99e2d449fcd32c717619311c6e3efb775cab
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jul 17 14:15:03 2007 +0200

    100l avoid possible memory leak

commit cfa119da66e489ff3012360d5e3ec54fa9adbe76
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jul 16 10:12:37 2007 +0200

    License header cleanup

commit 22257761b119fa348d3f9eeb586943ed7ce57871
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 11 12:15:01 2007 +0200

    Re-release

commit 393aec12264aa2c309d3f3f41f80d9c3fd97afdb
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 11 10:37:14 2007 +0200

    Unbreaking multicast partIII

commit b1850cd7aae9edbd1daa97c3684945687eff62e0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 11 10:31:30 2007 +0200

    make legacy code quiet

commit fa740c693653c490dbad74299bcbbd25591ca548
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 11 10:03:28 2007 +0200

    Unbreak multicast - part II

commit 21555dc8173e1cbcbdece063b259488809ccbbf4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 11 09:51:39 2007 +0200

    Unbreak multicast

commit f637385bf90192cb573ee8d922406fca79b035e8
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 11 09:44:14 2007 +0200

    make mpegaudio 64bit safe (sort of)

commit 3ebee14bd2bd8a0911978fc41c74664a22cb8c98
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 11 09:32:06 2007 +0200

    Cosmetics

commit 2c150b24f4e2137180601cdfc1b8f48209a4281c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jul 10 22:32:28 2007 +0200

    Releasing

commit 1a6a1f593d1cc7c026edb2b9c5ee06311c89ee77
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jul 10 16:42:35 2007 +0200

    Multicast - baseline

commit 986d4153bc2bd0ea0eee3758c6d7cdb67555a822
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jul 10 02:24:48 2007 +0200

    Updated copyright notices

commit 2798c75e6a902c42b1f3099b59252cab49c610b1
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jul 9 15:22:51 2007 +0200

    Remove old non MT code and other cosmetic cleanup

commit 8e5768244eba2e79b11cabc672a3b527713d9e92
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jul 6 13:40:42 2007 +0200

    Fix also udp unicast

commit 5da174874b5c2f782d067b150406021d7c054af8
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jul 6 13:26:37 2007 +0200

    Minor fix

commit 7c15c664ffd9ea85dc9be52de50b5a86c374f0ab
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jul 6 13:05:48 2007 +0200

    sctp interleaved refactored

commit 7bba7392047e15ffe47a6c68e4a3e6a7f54c5376
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jul 6 12:38:09 2007 +0200

    tcp interleaved refactored

commit b557fc95d155f2e051688fcba83eff03e9b6a514
Merge: 4558109... dfd8f96...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jul 6 11:06:40 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit 4558109726813fbcb581147fe82e135c49ada6ef
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jul 6 11:06:26 2007 +0200

    Multicast fixes - still non functional
    Now it takes the ports from the sd and instantiates the first stream more or
    less properly, what is missing is complete the transport changes and fix the
    teardown.

commit dfd8f96bb8cdb4e14007e388fd7fea008a845e55
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Jul 6 10:01:25 2007 +0200

    Fixed warnings.

commit 58a75762186b51edba32d15d4e3b64f8afab016c
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Jul 6 09:46:42 2007 +0200

    Initialization during setup is required when no range header is given.

commit fbd4f49164292d2b3722fbcfba11062f66ca081d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jul 5 21:17:26 2007 +0200

    Typo

commit 699e041fd961006cf50639be333a655901ebeaa6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jul 5 19:23:21 2007 +0200

    slightly better

commit fe953282d3efd56d509cd2aacd0ad6f6a64ebd9a
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jul 5 18:41:06 2007 +0200

    Init seek_time_valid

commit ac4e2d09dd964980c051d894b2ac33d23ad66b96
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jul 5 18:37:42 2007 +0200

    Do seek only one time per request and catch seek to 0

commit 7a58da36a113d49d4aec73468d9ce00a85da9e5c
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jul 5 16:07:00 2007 +0200

    Fix the way to propagate drifts in trp sequence numbers (used in felix)

commit 61dea129ac61314110ca5f81373f0f93c6c0f368
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jul 5 15:57:18 2007 +0200

    RTP sequence numbers and RTP timestamps are now initialized in RTSP_play.c

commit d6ec19c06d32f2df03289de8475f7d8d736f3d05
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jul 5 15:49:07 2007 +0200

    Improve robustness when seeking

commit fe293a2be4479cf31664650f963404c704780254
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jul 5 15:27:14 2007 +0200

    Seek implementation complete

commit 9f9aa444eeb104b84f5c6524783ca38c57357cfa
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jul 5 14:28:46 2007 +0200

    RTP modifications to correctly support seek

commit cf761ec592651971f9bb925dfa98dde32a65d1cb
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 4 19:29:53 2007 +0200

    Initial multicast, ugly&broken

commit 491cf10270e7f00a3189ff5a404e580457a1c2ba
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 4 15:21:32 2007 +0200

    Goodbye types

commit 96945c2e975e4c85620a7951ec6fbf454340b1c0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 4 14:52:26 2007 +0200

    Cosmetics

commit d383ac61ac1d686d001d2a761ca17064bbaf94b9
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 4 14:49:04 2007 +0200

    Cleanup stray types

commit 5abbaff1b2186c817e2f390ea0d4e66fcfdaaa2f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 4 14:36:55 2007 +0200

    Cosmetics

commit ed98c3c566ea04f549283109ecaf6678004280ab
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 4 13:18:52 2007 +0200

    Ignore vim swaps

commit de53ef2dae439f5b6c85fecb536da3124776e15b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jul 4 01:32:49 2007 +0200

    multicast bits, RTSP_setup must be reshaped

commit b61abada0004a05c806dfc41a19fcac6d0408baa
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jul 3 23:23:51 2007 +0200

    Clarify

commit 2106c479b20dd1b78a28d57abed1a97cf0b12baf
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jul 3 23:09:29 2007 +0200

    Cleanup

commit 97c68a3a4f700ab3f34cf22d006fe83b85ac7360
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jul 3 12:28:39 2007 +0200

    stray sed fixed

commit 06a7da1e1128eb2b8f5ce0ea5356082cd89f2d3d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jul 2 14:48:06 2007 +0200

    Remove old multicast code

commit a1ce3a2cea978e6f14b339172dbefc023ada6a2a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jul 2 14:47:33 2007 +0200

    cleanup

commit 3f47e59a8a52f6f9481347748152c0f4edf9d296
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jul 2 14:47:18 2007 +0200

    cosmetics

commit facbd973c88076fef22cbd085bdfb0d5b14b2daf
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Thu Jun 28 17:03:29 2007 +0200

    fix for ligcrypt check not reporting errors on missing lib

commit a5228b6164f636d93af63d4a1789776101afbdf2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 28 16:48:39 2007 +0200

    Stray line, it doesn't belong here

commit 197b2e494549b92a3e59d3bbfa41a3ea2c2bc4b1
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jun 28 12:25:51 2007 +0200

    Some seek fixes

commit 12434a0dfeadcfd1fa919a3d70ef48ff6a19550c
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Jun 28 12:00:11 2007 +0200

    Stream duration is correctly transmitted via sdp

commit 5c06d226137887d1868ed42bd702c469bf2dd084
Merge: 8483d2b... 50d2736...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 27 14:57:53 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit 8483d2b2d4eb97cd33553da20faa48601b09f412
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 27 14:57:40 2007 +0200

    Move to external bufferpool

commit 1e4f4813c5b1511b7df96449d1c5471ea48d9161
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 27 11:06:52 2007 +0200

    Stale files

commit 50d273615e6a419c41884695a4d46ca943811b06
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Jun 26 12:53:32 2007 +0200

    Preliminary seek support

commit bd40f3c01a0e7ed0997316a80c6b5704cdf0ec02
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jun 25 22:34:06 2007 +0200

    update the log facility a bit, more will come

commit 14ee39785909eca1dba15892a5a7c9808a70d07a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 21 19:23:33 2007 +0200

    Cosmetics...

commit 2bad384f50b89dc6bcc2fa8c70e5a9ed75118bb6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 21 17:53:33 2007 +0200

    Tag BYE

commit a8b6c385c4bbf02a75d6c96dce647f50c560ad62
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 21 17:10:45 2007 +0200

    remove stale implementation

commit 0aad75e6bcd80126639befc6cbb73da2fb2b21db
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 21 17:09:30 2007 +0200

    switch random implementation to be rfc compliant

commit 370658f8634e976a76929fb3ab7550ccf1888c4d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Jun 21 17:08:55 2007 +0200

    switch md5 implementation

commit 64068d349b9bf285abc147f079d840f104512159
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Wed Jun 20 16:12:11 2007 +0200

    Updated feng to use RTSP error reporting from netembryo

commit 4724e0a536340e3cba28d280d182e00406b8faf0
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Wed Jun 20 15:26:04 2007 +0200

    Quick update to configure.ac to use at least netembryo 0.0.2 for rtsp
    errors support

commit 8f24a1a45e23a75255650c889bd494e95764ccc2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jun 18 16:50:13 2007 +0200

    removed old and deprecated code

commit 8229e38f8a9f0c9add6294e14632dcbb26d55b4b
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jun 18 16:30:55 2007 +0200

    First batch of fixes

commit 44c795eabffdab25f9bc701206b6cd7185d239b8
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jun 18 15:07:12 2007 +0200

    Simplify

commit e91ea272a0a6bc32ea04c2624b7f674eac936588
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jun 18 15:05:56 2007 +0200

    Avoid a cast

commit 5e99dfe61c001ac8b783a3b028b0cc78e050b494
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jun 18 15:05:26 2007 +0200

    Cosmetics

commit 4ddc3b0e27cee9d3ba1bb1a6227e6e71a1bb6edd
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jun 18 14:10:11 2007 +0200

    Cosmetics

commit 69cdb9c9eba0e94078257bd41f4f6777d46fa61e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jun 18 12:32:22 2007 +0200

    Make doxy uniform

commit d0cff6a8475aeafe3dec5e30ba9edaca3c227cc4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Jun 18 12:02:06 2007 +0200

    Make linking to debug libs saner

commit c5acb244a8399fd7d1a01c25461dbec1dcbf8dae
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 15 14:30:40 2007 +0200

    Minor fix

commit 42b23988b435d25f2f2fcc71bca7fe6122f60d41
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 15 14:03:21 2007 +0200

    Overhaul debugging facilities

commit 320b5c33c8fe12d784dbb47747c50997e8930b57
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 13 15:54:54 2007 +0200

    Add duration

commit 42e11e60ce3ea2f64e6713dc848c282b6577143d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Jun 12 11:40:21 2007 +0200

    add rtpmap facility

commit e3551cba154e58a6fa6974e6a81de09a53c13c96
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 8 11:55:53 2007 +0200

    Add support for fmtp in feng sd too...

commit 6d8d27b07615eca0d77e6651251ff33da199fbf1
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 8 11:09:56 2007 +0200

    strncpy instead of strcpy, temp fix

commit 15490d25882ff62f3db27e829e271049229fe684
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 8 11:08:51 2007 +0200

    comments

commit 719fdceae3fd557c0da984bbf69d3ebcda49387c
Merge: 5f5f1c8... e36d7ab...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 6 17:57:35 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit 5f5f1c8c9503e6c1a58c78a26bf6a37057ced735
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Jun 6 17:57:28 2007 +0200

    Cosmetics Cosmetics Cosmetics!

commit e36d7abdd359abecd321c2f86caae081ef42cc7f
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Jun 6 16:23:09 2007 +0200

    Some log improvements in mediathread (annoying LF removed)

commit 26631f80a071b10e0e756044b46dd1989b802371
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Jun 6 15:53:25 2007 +0200

    Switch verbose h264 messages to VERBOSE log level

commit fa73c7cf4d8b6d8b9a61d119fe05a24ebaf805d5
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Jun 6 15:36:47 2007 +0200

    Switch verbose mp3 messages to VERBOSE log level

commit 36af6757821cf5e5f6d95f290aed8997e4180184
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue Jun 5 13:00:36 2007 +0200

    Now RTP ports are configurable via fenice.conf as first_rtp_port (issue 16)

commit c1f69250789d85b0e97545a37391f78d8eb13663
Merge: 8c3a40e... 8f89921...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 1 16:44:01 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit 8c3a40e6f3de1012b617b41ccfab4012a8c078d8
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Jun 1 16:43:33 2007 +0200

    Fix port pool depletion (Issue17)

commit 8f8992136a43f2f06dc926c17d06c3c7e987eb82
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Fri Jun 1 16:24:46 2007 +0200

    removed dynamic allocation of buffer for ports in RTSP_setup

commit 4df059f27820a3200b7a303c22f667911048ea91
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 31 16:35:32 2007 +0200

    Ready for the release?

commit 4f80b1ac6a6d317d3b6dc000d121f088c304f2e1
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 31 15:43:37 2007 +0200

    Minor touches before tagging the release

commit a266826d83ca8910d995095207931023727c551d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 31 15:18:10 2007 +0200

    Man updated

commit 986a9e4f9073b52ed6abb34c32909a1a05cb18b2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 31 14:45:46 2007 +0200

    Cleanup again

commit 1c7cc122ee14b50583e980b958d6b3f51383940d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 31 14:45:32 2007 +0200

    minor output changes

commit c145ec40ff713661c2943d3d73a453625ee4e1b4
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 31 10:37:40 2007 +0200

    Update todo

commit 18a4e79a5dce9e8b42ad15bae6843cf299fea484
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 31 09:50:49 2007 +0200

    remove other leftovers

commit c4b93272775e0fd5828576ad5ff98fa9212dce58
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 31 09:50:32 2007 +0200

    Cleanup

commit d76fcf45f9e00d9f1fb1c39710c7552ac371462c
Merge: a3db0cd... 4dbc710...
Author: Alessandro Molina <amol@pulsar.(none)>
Date:   Wed May 30 19:01:12 2007 +0200

    Merge branch 'master' of git+ssh://live.polito.it/var/git/feng

commit a3db0cdf26e8c191fb3be3e36aded659b8e3ec1b
Author: Alessandro Molina <amol@pulsar.(none)>
Date:   Wed May 30 18:58:55 2007 +0200

    Adding support to use netembryo url parsing

commit 4dbc710e11cb86cb9be4dab5037c51e1d944a9c9
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 30 18:55:28 2007 +0200

    make sure / are single

commit 6bc5abece5a65bd4351aef0749165efa4f6f6014
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 30 18:55:07 2007 +0200

    minor retouches

commit 77863f6f18eefda163423da66c27c08ecbec2f2e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 30 16:30:54 2007 +0200

    Fix localstatedir path management and other minor inconsistencies with the default configuration file generation, see Issue 13

commit df650b170923d8a5de92d77d6f65aeb6d96122e0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 30 16:25:49 2007 +0200

    More or less proper INSTALL file, do not autogenerate it

commit d6401a7a2a7e860d0c9c02fdb5bfa0d8b7119c02
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 30 16:25:09 2007 +0200

    Cleanup stale files

commit c271a625aa8345af009dda3596bfcba75138a461
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 30 14:50:16 2007 +0200

    Updated README, should be more informative

commit ddaaa57509f0288ff55f8b97b01a12654fdf021f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed May 30 09:30:33 2007 +0200

    stun server removed

commit a0ee243111387a20dd8bbc84634eddfd351b7412
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 29 16:33:32 2007 +0200

    Update example files and readme instructions

commit b00c6a1e7b32f085ff27d483283dfa02b6b70ba5
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 29 11:58:36 2007 +0200

    Copyright headers updated

commit d4dbcbc165fc323bf36eab555fb55b72fe32cb96
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 29 10:41:21 2007 +0200

    purge xml from headers too

commit 62a91f3a6861f1c98f7ba2bd6413276e551b2eb8
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 29 09:51:04 2007 +0200

    purge svnrev logic from configure too

commit e85f8c9da33df803b2616a2f755f52fadbca794d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 29 09:50:13 2007 +0200

    purge svnrev logic

commit eeba99e4186dcbac20c538188c0419410a8781ca
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 29 09:48:58 2007 +0200

    Implement quiet mode

commit 26e2d861fd50d0f5fd17152fd17c4b49934d3d06
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 29 09:22:15 2007 +0200

    Remove actual xmlparser files

commit 7778041d008a19ad13fa29fd2deed82bcc275277
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 29 09:21:30 2007 +0200

    Remove stale code, if required xml parsing will be done using either expat or libxml2

commit fdb964dd05867da95c1558d6d671e9102dedc878
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon May 28 18:24:15 2007 +0200

    item added and removed

commit 4df237f83755aba531ba41578d5513df956f32c0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon May 28 17:19:52 2007 +0200

    Update

commit bb281f23b7d79efa71200446c9a2cf10cce6b4b3
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon May 28 17:11:46 2007 +0200

    BYE support correctly implemented, tested against vlc

commit 45035fc9cec5d3b077ebe54aa29bb51d80801651
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat May 26 11:06:08 2007 +0200

    Initial eos support

commit 33e2ddf453bfa534b83ab361fddaac7d2bff3a22
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu May 24 16:58:23 2007 +0200

    Status updated

commit e26361ea43bb61791917feb78287d7f743bbd6ba
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 15 13:44:23 2007 +0200

    fix frag mode on theora and vorbis, cleanup, xiph.c will appear soon

commit 1bd26b6ade549d8d2cd116318924838f7adcc9bc
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 15 12:20:15 2007 +0200

    theora enabled

commit 76546029705ca2f724f38459f80091405999296d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 15 12:20:03 2007 +0200

    vorbis&theora want more space, MEMENTO:dynamic allocation won't be bad

commit 4ece617d9559d055386754716806dabfbd1202ab
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 15 12:19:23 2007 +0200

    unbreak theora, MEMENTO: expose ff_split_xiph_header in ffmpeg and use it

commit ed7e640e88ecb58599434d5edba668b4bab26144
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue May 15 11:45:43 2007 +0200

    avoid symbol clash

commit f8b401bfe8f745fa70c567ed12b2a51d3b8ec865
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon May 14 19:11:33 2007 +0200

    Theora initial support (hopefully)

commit dd34b711649e05d78a35427716af16e5f697a5ce
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon May 14 19:09:52 2007 +0200

    assuming uint8_t is saner

commit bccb2398622920994fc2d7ba3f93efe7967cd023
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon May 14 17:40:38 2007 +0200

    avoid to use random

commit b30b71fcabd60ec67d42ef6f5a4e727e1c2b710f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon May 14 17:38:43 2007 +0200

    expose md_32

commit 82996eb5d4d56447125acf505140b128036cc0c6
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon May 14 15:28:23 2007 +0200

    Simplify

commit a114238340ae04414ac537582b807400388aa951
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 11 14:53:28 2007 +0200

    one more missing

commit 939d5ac7ff251d984dacd287c071a69875ebc698
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 11 14:46:15 2007 +0200

    typo, the offset is 12 not 11...

commit ba6cac44e4b257c06ad6d840cded17402142f263
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri May 11 12:35:31 2007 +0200

    update to draft 04

commit ff8dcc1a7859a1385406bd0b08bb3b0f4e7e7e3c
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Tue May 8 17:40:38 2007 +0200

    fixed RTP doc group

commit 92e2711d463f9464a28caabb17b9f32b1bda39b3
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Tue May 8 17:39:29 2007 +0200

    documentation for RTP_transport and fixes to the already present one

commit fa229774b0a139e573bdebb616ff195b362345a9
Merge: 5da5190... 089652e...
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Tue May 8 17:10:18 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit 5da5190499d768150a8edbaa3dcccd673b270b8a
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Tue May 8 17:09:54 2007 +0200

    got back more lost !

commit 089652ebe9af3b93be097b7ac9b328261dfab17b
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue May 8 17:07:22 2007 +0200

    Fix broken RTSP session management.

commit 4cffd225e9f9e06d701c311214f629b3e8fcf6ea
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue May 8 16:11:49 2007 +0200

    Move mediathread from GList to GQueue

commit 0711c7f9a6893235220814b26b3a308963698bce
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Tue May 8 16:10:21 2007 +0200

    Fix missing ! in parse_transport_header and consequent segfaults

commit c61edd40a1b684315c210fa5346d2485fea07976
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 26 09:31:18 2007 +0200

    Doxy stuff

commit 2c7b927d454f2a9d4723e48facc8a73b13da6f1c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 26 09:31:03 2007 +0200

    Cosmetics

commit 1ecbac6ce382c7c05aaaaf6a601c1d0ba1dff532
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Tue Apr 24 17:38:35 2007 +0200

    RTP initial refactoring and comments

commit 1816ceade1a3b2be7eb4471673e7e008b1608471
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 23 17:42:54 2007 +0200

    Vorbis support enable, now if we had a client supporting it...

commit ba6f2acffabb7a667fcf406cb054292983d0a349
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 23 17:42:26 2007 +0200

    Handle very large descriptions, 2048 ought to be enough for everybody, yeah, right....

commit f06a7f533941cefb3ef3047bf436b0905b2a2057
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 23 10:40:36 2007 +0200

    Start moving doxy to the header and make some modules out of them (see rtsp.h and mediaparser.h)

commit b8e1e786acd7bf7020cb38b8aa6a7251caf49cf2
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Mon Apr 23 10:39:31 2007 +0200

    bad doxywizard BAD

commit cff2df9fa97d4e340195eb23986ca28b50040f13
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Apr 22 22:18:44 2007 +0200

    Just warn about sctp missing support

commit 182665b1e731bacfb688e80b48b35c884228680d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sun Apr 22 22:17:44 2007 +0200

    cosmetics

commit 77b07e880f39ef6fde58fde8c6775a898aae2959
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Fri Apr 20 17:37:31 2007 +0200

    finished documenting RTSP functions and refactored some reply functions

commit 569174e019504c906f4fc3364224ead084a171ee
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Fri Apr 20 16:11:23 2007 +0200

    added correct RTSP_describe, why did it disappear? o_O

commit 455d2d25c2a463361d4e2f588d7599f04c1281d9
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Thu Apr 19 22:03:44 2007 +0200

    Readding RTSP_describe.c wrongfully killed...

commit fdc1e06eaeaf0298b0941414ac44333d1b568dd3
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Wed Apr 18 18:43:42 2007 +0200

    Created a Doxyfile with documentation preferences and written some doc
    for RTSP part

commit 204a25472948c58035f1744742b0cd015301c7be
Author: Alessandro Molina <amol@cosmo.(none)>
Date:   Tue Apr 17 19:30:16 2007 +0200

    merged the RTSP low level functions into RTSP_lowlevel.c and the message
    dispatchment functions in RTSP_state_machine.c // Also removed the unused
    RTSP_msg_len function

commit ef1ddb74db7a29da5bd639bf59b934b12fb6e4aa
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Apr 16 17:59:39 2007 +0200

    get_stat fix and send_reply moved back to rtsp.h

commit 29837791952a1acc6b163161114b7fdd50f92705
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Apr 16 17:54:31 2007 +0200

    mixed support functions in RTSP_utils.c and RTSP_utils.h

commit ca12f306d2346a9ed9cfa3d5572f0bc9963e542e
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Apr 16 17:29:42 2007 +0200

    removed no more needed send_xxx_reply definitions

commit 8a2150eb5da2726d63a405df990d93634a310c41
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Apr 16 17:25:27 2007 +0200

    merged all the XXX_send_reply.c with XXX.c

commit d058bcf9c3223879f7c175704e4940e57532ff58
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Mon Apr 16 17:07:05 2007 +0200

    more RTSP_setup refactoring

commit 2ff07731e988e4070d9e35817c3150138a4d49f9
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Apr 14 20:39:22 2007 +0200

    5+5l to amol for ignoring !, for me for being that slow

commit 9e9e869902695daa7412901e177fd16ea021321e
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Apr 14 20:09:14 2007 +0200

    10l fix ! missing

commit 09cd50959144eda0fd9b28c7b4601e84ac660006
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Apr 14 18:47:37 2007 +0200

    10l typo, _!_ missing

commit c2eb9fb4e0ff13d0e59b932a0497c8fb8fe44106
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Apr 14 11:36:53 2007 +0200

    simplify sctp

commit effdaeb27a066d2ef9e00c6b22de71a6f00f8b46
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Apr 14 10:33:19 2007 +0200

    Make demuxer and parser convenience header consistent

commit 0a42409d64ccfed4391af07d0beca8cf9bdc4be0
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Apr 14 10:31:17 2007 +0200

    cosmetics

commit c566f379faee8e34b39f0c448aedd35289c2b22d
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Apr 14 10:30:36 2007 +0200

    Fix comment

commit d4455fb1a66f3c610fbb08153a04a49be1f1084c
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Sat Apr 14 10:29:57 2007 +0200

    ignorance is a bless

commit ed1b624baf19cee30c26a6065c73eca67d7bd218
Merge: 121b297... dd31193...
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Fri Apr 13 19:26:50 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit 121b297c6d31c97adbf3997dbc33fcf4f9ee4e27
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Fri Apr 13 19:26:29 2007 +0200

    Work in progress rtsp error reporting functions

commit dd311938bea9633a230f0e3dd5145bda5b142de9
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Apr 13 17:51:19 2007 +0200

    Add skeleton for demuxer modules

commit 1a940c08b5b5d97ce135c9574b726c7e2ba2aa1d
Merge: 361a3d6... cc502f4...
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Apr 13 13:10:07 2007 +0200

    Merge branch 'master' of git+ssh://live.polito.it/var/git/feng

commit 361a3d67b7b4f351e1d7a27aed54b33b79974ed8
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Apr 13 13:09:23 2007 +0200

    Don't process bufferpool on shm when it fails.

commit cc502f4aeae54f85ef317c04dbaf952c06f22cfd
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 13 10:51:00 2007 +0200

    first drop group, then user

commit 37e0f32a8f3d455b119a24056ce70f9f09b58637
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Apr 13 10:13:34 2007 +0200

    Use of the case insensitive version of strstr.

commit 466ee76ccf578f060a5613b28408a67bb57b9e6b
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Apr 13 09:48:41 2007 +0200

    Add automatic mediatype detection for static payload types.

commit fbcffa917722d58851c22119c6fc570f9a4a0d87
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Apr 13 09:40:21 2007 +0200

    Add media_type explicit definition for live content.
    Fix CC License parser in demuxer_sd

commit 10b9d41ac055b9420648abc8752627570a53c3cf
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Fri Apr 13 09:34:27 2007 +0200

    Live timestamps fixed

commit 54c0446b83a1ec9cb8d59e68a2ee80ecdec11567
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Thu Apr 12 20:24:04 2007 +0200

    Live support completed with broken timestamp.

commit 2f91b52b6e04bb46bb3c8f805e190c6b73f6cf4f
Merge: a2a07d7... f084448...
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu Apr 12 17:09:44 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit a2a07d7a482ca5afd0588e270d819395d2b27ec8
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Thu Apr 12 16:49:51 2007 +0200

    more RTSP_play refactoring

commit c0b8b7b85f1eeb827358d25a5f9988f91cc3dbdc
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Wed Apr 11 19:50:14 2007 +0200

    exporting common RTSP functions to RTSP_utils and converting RTSP methods
    to use them

commit f084448b59804092ed538789b7d7190f59dc41dc
Merge: 24c4b49... 5e71dd7...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 11 19:46:37 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit 24c4b496925a5f63d2809e38b6153dac759573aa
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 11 19:46:30 2007 +0200

    100l size of vars...

commit 5e71dd70df7e1a177e359cb8b19cd8c1ecb7c90b
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Apr 11 17:32:31 2007 +0200

    Initial live support

commit 4e5f5dc19042ede136efe24c12f8bdbda4f25b63
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Apr 11 16:41:35 2007 +0200

    Cosmetics

commit 4393adc0fa40dcc17741421322077ff7efe33255
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Wed Apr 11 16:19:39 2007 +0200

    Removed unused data structure.

commit 957e102b1326ed537fe8e5021161ccddb61cfe07
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 11 15:01:47 2007 +0200

    Cleanup

commit ec28a9adfcfd997ea2579f94bfee4ab37615081f
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 11 14:41:46 2007 +0200

    Cosmetics

commit b42ecdedf7deca8015d059e2301178b5807dcc18
Merge: 876d318... d98b93b...
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Wed Apr 11 10:08:00 2007 +0200

    Merge branch 'master' of ssh+git://live.polito.it/var/git/feng

commit d98b93b2f65b67a96bf180478aac56c7e0fbd695
Author: Dario Gallucci <dario.gallucci@polito.it>
Date:   Sat Apr 7 13:55:02 2007 +0200

    Protect mediathread processing from too sudden close.

commit 876d3183818d2a23d7eec84ee5c486fcf28c0bcf
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Fri Apr 6 19:49:49 2007 +0200

    ops... (rolling back)

commit e6d0b08a966641ea06129db746beefeea9da79da
Author: Alessandro Molina <amol.wrk@gmail.com>
Date:   Fri Apr 6 19:46:24 2007 +0200

    autoconf and automake changes to link to an installed netembryo library

commit e98d9c8eaeabab5d61f54abc9ed243e5c30d46da
Author: Dario <dario@pcdue.local>
Date:   Tue Apr 3 22:15:31 2007 +0200

    Fix demuxer_ds uninit issues.

commit 8ee501a9ae8990e2da6473f898c7668bc9307b5a
Author: Luca Barbato <lu_zero@gentoo.org>
Date:   Tue Apr 3 17:50:50 2007 +0200

    Cosmetics (just to check remote git)

commit a5feab788123151cdce80bff9d97a6301bf02aad
Author: root <root@live.polito.it>
Date:   Tue Apr 3 17:39:06 2007 +0200

    Remove ex_track*, unused code

commit a321f6e2deceef6192408eec7fc5fa4e194af2fe
Author: root <root@live.polito.it>
Date:   Tue Apr 3 17:36:58 2007 +0200

    libm check from libtool

commit ddae3d1fbe58dea7d9911611a4cdd24bf2605ecb
Author: root <root@live.polito.it>
Date:   Tue Apr 3 17:36:25 2007 +0200

    Libtoolize me please

commit 20a89d789294c7613b4aa914d5a93c004afc4637
Author: dario <dario>
Date:   Mon Apr 2 15:05:18 2007 +0000

    Fix ssrc always zero.

commit 932be85041f5ca6357746332b0cc9dfb185b8069
Author: dario <dario>
Date:   Fri Mar 30 17:10:49 2007 +0000

    Added missing header.

commit 8b422dff7f6c3e59e6e6c7437449bfdc7e8f97cf
Author: lu_zero <lu_zero>
Date:   Fri Mar 30 10:38:51 2007 +0000

    add vorbis

commit 9842175007f3ec226f0fdd30c7b0fff9da6e84c6
Author: lu_zero <lu_zero>
Date:   Fri Mar 30 10:38:30 2007 +0000

    unbreak vorbis.c

commit 154fd42e3017589ed2a51c6c37bf070902e4bd60
Author: dario <dario>
Date:   Fri Mar 30 09:15:42 2007 +0000

    Cleanup

commit 0534057f267e59fde9cefe95fa027ee4470b4b06
Author: dario <dario>
Date:   Fri Mar 30 09:06:39 2007 +0000

    Removed unused code from mediathread.

commit c6bb3d294cba53f2d53de4f91ec7bd4971657cca
Author: lu_zero <lu_zero>
Date:   Thu Mar 29 17:54:16 2007 +0000

    Initial commit here comes vorbis (theora following)

commit 04ee2aed6c25116f16a6fbe4a1d3e0dd41b447d7
Author: dario <dario>
Date:   Tue Mar 27 14:40:57 2007 +0000

    Performance improvements in mediathread, removed unneeded mutex for every event.

commit 368ec72daf7a052ebefc2281909638df5195bfeb
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 23:41:09 2007 +0000

    Cleanup

commit ed1b0dcb7f39b6e19326f5c0a03af77b480c0c1f
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 16:13:43 2007 +0000

    leftovers...

commit c56f77d5e9d8705ba8e6c41ff8a1ca7cc56b0b72
Author: dario <dario>
Date:   Sun Mar 25 14:41:28 2007 +0000

    Add newline when logging to file in order to do not add underscores to syslog for all messages.

commit 2cccf1cb30510078e715726cfb7049cd6e8110d0
Author: dario <dario>
Date:   Sun Mar 25 14:34:23 2007 +0000

    Catch TERM and INT signals

commit 6761bc1004a58fc7eda745dda194fc2121a050d3
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 14:04:50 2007 +0000

    goodbye sdp

commit 866d7b81ebceca457f9c3c6528549485cd4d37a6
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 13:53:07 2007 +0000

    Cleanup

commit 4447893060fd0d2972b4b42b5f5d9a9804805ed0
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 13:29:43 2007 +0000

    Cleanup...

commit c1e44a673dd19b980566dd175424bbd66c44521a
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 13:10:37 2007 +0000

    Cleanup

commit 443e2174d66b1841e71fb8a91e0ecd44bce2edf1
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 12:49:06 2007 +0000

    Cleanup tabs

commit 4252fd92b9906ac414b5ec039e02b5b14f0fb6da
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 12:39:58 2007 +0000

    Cleanup tabs

commit f865fd4b4cf0012f6f0f39847d81129be8b55214
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 12:39:28 2007 +0000

    Cleanup

commit 04831e633f3a6e2cd2ad9df54bb02b95328a6925
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 12:29:00 2007 +0000

    Cleanup tabs

commit a22b01ea49bc810ac612c3aaa46b40b755d60c7e
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 12:28:16 2007 +0000

    Cleanup

commit caad14c77b1e7aeb8c597e52b9c07232f582092b
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 12:23:20 2007 +0000

    Kill bogus types

commit a71fe891128728108529057ce10696cb238cfba8
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 12:22:20 2007 +0000

    Factorize more

commit 067b760480e268bc6553e5aca450d353db9ce8c6
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 12:18:34 2007 +0000

    factorize rtp.h header

commit c471109e16c484b6cf81f8c107b28ac43e77709b
Author: lu_zero <lu_zero>
Date:   Sun Mar 25 12:15:39 2007 +0000

    Cleanup

commit 48f734e9c541f56f509458bae35eeb8d1ec6bdbb
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 20:11:50 2007 +0000

    Goodbye mediainfo

commit 2474423e25a595dea374acbf7a76ee622c4660b1
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 16:33:40 2007 +0000

    Cleanup

commit 5fe0feb9723d53a22b46ca215a65cca8294affb1
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 16:29:54 2007 +0000

    factorize includes

commit 292a60a9e46b04655a6021c21a5bb15f1fab6a2d
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 16:13:46 2007 +0000

    Cleanup

commit a1f311896e7015e02f1d46f0c40defa02b21287e
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 15:57:04 2007 +0000

    cleanup types

commit 1ddddb0eb04b263fc4d836cd66a53ce720e0804d
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 15:52:15 2007 +0000

    cleanup cruft

commit 373c0ada415485f4179d837ba3c554cb45af0882
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 15:34:31 2007 +0000

    add header there

commit dde1a59ae1b4600498f51118d86f5a3ad90bcc6e
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 15:33:56 2007 +0000

    headers cleanup

commit d46af999b037a502dbde6036e29bc40c57696af2
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 14:51:19 2007 +0000

    move fnc_log.h away

commit 9b24056f1a2e40181c9a38ef2fd3a1050f4139db
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 14:44:34 2007 +0000

    Cleanup tabs

commit b37e4c040e4d5273cb7f33a5d7c39ea295b6f026
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 13:33:53 2007 +0000

    Cleanup

commit aafa8c5d81b4e2b24b0db619960e84f33ec6e935
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 13:10:36 2007 +0000

    remove stale code

commit bc3d1840eebda0d23d3b6a91159e393a24496884
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 12:40:18 2007 +0000

    Cleanup

commit 21ed0b436a4881bc28a84225c11cc13f278f51cb
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 09:12:06 2007 +0000

    Cleanup

commit 5e3fb15546e79614b5e7a292b1daf5384d7045aa
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 08:28:06 2007 +0000

    Made modules easier to track in gdb

commit 0b671048ddcf6da79216a462e327147db0455c89
Author: lu_zero <lu_zero>
Date:   Sat Mar 24 08:23:27 2007 +0000

    Cleanup

commit 00d5a96119c6d046574af75739d539807a3862af
Author: lu_zero <lu_zero>
Date:   Fri Mar 23 18:27:13 2007 +0000

    added destructor for propertes, it isn't triggered yet...

commit 898fc786f2eb15528a8b1b4667027909692488e3
Author: lu_zero <lu_zero>
Date:   Fri Mar 23 17:49:37 2007 +0000

    Cleanup

commit 91f7bbc5160ff722fb9862437e18ebac518c91c0
Author: dario <dario>
Date:   Fri Mar 23 16:45:23 2007 +0000

    Freeing track properties

commit 2133994aced491012b84261a92da5b24c2ee7026
Author: dario <dario>
Date:   Fri Mar 23 16:09:44 2007 +0000

    Another memleak fixed.

commit e97333169f2e8bcd6368d3d4724088c04f8c7a6a
Author: dario <dario>
Date:   Fri Mar 23 15:59:42 2007 +0000

    Major uninit fix

commit c2153c55813fe5a7a45112a44ca5714073787c21
Author: dario <dario>
Date:   Fri Mar 23 14:00:31 2007 +0000

    Oops! Track selector must be deleted before free.

commit 5f71221460e84ca0d8d498df52f6f40f3c2a37c1
Author: dario <dario>
Date:   Fri Mar 23 13:42:08 2007 +0000

    Fix RTP-info tag in RTSP play response.

commit c04879423d5368d827f452d5361f173fb78e1163
Author: dario <dario>
Date:   Fri Mar 23 13:33:40 2007 +0000

    Close track selector when removing RTP session

commit cc70a0972910a6a47dcb315c7967e0ecd2a93bdc
Author: dario <dario>
Date:   Fri Mar 23 11:11:54 2007 +0000

    Remove a warning.

commit 629f6299171ae911c1fa7ec9377d83e263dd9e75
Author: dario <dario>
Date:   Fri Mar 23 10:22:18 2007 +0000

    Using the correct function to close resource.

commit 35564dc7db92c7cff272db7eae63cfca1015fbcb
Author: lu_zero <lu_zero>
Date:   Fri Mar 23 07:29:59 2007 +0000

    Make the scheduler cleanup a bit better

commit e96b513127cf45c1d96382f7c3384c551ba54820
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 22:37:02 2007 +0000

    Cleanup

commit 256e214eeec2d9c0b2a3ebc68578f95330157724
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 22:36:30 2007 +0000

    Remove two warnings

commit 09426afa6faccce0a3bb2c6642556c400012e975
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 21:25:26 2007 +0000

    Cleanup

commit 1325fa7c4a9a731ce203f751c1a972b892ef8c23
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 20:40:19 2007 +0000

    mini Cleanup

commit 4f4cc7658a1dcb20118477eff8ccf5babb0aba21
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 20:28:57 2007 +0000

    solve a warning and a valgring error

commit 3f2d43a486c6cad63122f46c1116a6ecf53fedd1
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 20:27:53 2007 +0000

    Cosmetics

commit b225729204789211b4b08d1e636fb09c462736d8
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 20:09:44 2007 +0000

    syslog needs its name...

commit 351d848c02a5754c565642273a7aa0421657aaa2
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 17:53:28 2007 +0000

    Move resource in rtsp session

commit cb03e261a0688419fb00a9cb24f2a2d5426ef9bd
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 17:53:07 2007 +0000

    Cosmetics

commit 4782cfd69cd20480c67888edb609e19250b16e70
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 17:21:07 2007 +0000

    missing header

commit 61354ceaa9570caac4597552884f341666c723d8
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 17:19:58 2007 +0000

    Fix filename mismatch

commit 819746b74b80abe41e5f8b6d67ae3437074446a6
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 17:17:06 2007 +0000

    Cosmetics

commit f008d07fc09da955aebe8972efc72a05461b4d8f
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 17:15:16 2007 +0000

    use g_path_get_basename instead of basename

commit e4350da13a494e3f7434ab127217e2dd2dcdde4b
Author: dario <dario>
Date:   Thu Mar 22 17:05:19 2007 +0000

    Print correct RTP-info tag.

commit 906d30b95a69b1d8e1ee6f8686170c52d7f30e55
Author: lu_zero <lu_zero>
Date:   Thu Mar 22 16:55:47 2007 +0000

    Cleanup ...

commit 8c10a86f08c1a69f779964036d3b7927a00c59d0
Author: lu_zero <lu_zero>
Date:   Tue Mar 20 22:42:13 2007 +0000

    More informative messages

commit 29f0f9ed5c8fa599189cc8f1f589f0f3217bf4b8
Author: lu_zero <lu_zero>
Date:   Tue Mar 20 22:32:29 2007 +0000

    Cleanup - Part 6 of 1000

commit cd8a2641b2eb53b47a295038dfc7c5fbbfd93179
Author: lu_zero <lu_zero>
Date:   Tue Mar 20 16:44:23 2007 +0000

    Make the headers uniform part I: MediaParser.h->mediaparser.h

commit ca5a873fe12c53b9ca5a9de01d604b0c049f19d0
Author: lu_zero <lu_zero>
Date:   Tue Mar 20 16:25:18 2007 +0000

    Cleanup - Part 5 of 1000

commit 1dd73560597e5a9baf2509f68da3ec05fdd35aaa
Author: lu_zero <lu_zero>
Date:   Tue Mar 20 15:55:58 2007 +0000

    Cleanup - Part 4 of 1000

commit f91345dc677d2128c14cacbce95b127ca483eefd
Author: lu_zero <lu_zero>
Date:   Mon Mar 19 14:55:07 2007 +0000

    Privilege drop working

commit 2534aa3cd73498a555c1235d9d19418552499030
Author: lu_zero <lu_zero>
Date:   Mon Mar 19 07:53:04 2007 +0000

    doxy+cleanup

commit eb85240d2f1f66b19461474d66614be359479d34
Author: lu_zero <lu_zero>
Date:   Mon Mar 19 07:23:41 2007 +0000

    Remove stale code

commit 7bad13a79a437f45684921709a3bb21b331cf2aa
Author: lu_zero <lu_zero>
Date:   Sun Mar 18 20:03:54 2007 +0000

    Unhack h264 base64 encoding

commit 84beaa555043a28d4c5ee8a0a3d30dc3abbdd430
Author: lu_zero <lu_zero>
Date:   Sun Mar 18 20:02:45 2007 +0000

    Unverbosify and avoid a bogus error message

commit fda9cb48ba5fe4de6c6ea6f3fbbe6abc764ad95a
Author: lu_zero <lu_zero>
Date:   Sun Mar 18 19:44:45 2007 +0000

    Cosmetics

commit 1f2240ace4f08d63fe7800e5d302505d97dd49a4
Author: lu_zero <lu_zero>
Date:   Sun Mar 18 16:17:34 2007 +0000

    correct main return values, so start-stop-daemon could do its job properly

commit b758f2ca545c20b600a5a8b549c4988ecd06d2b1
Author: lu_zero <lu_zero>
Date:   Sun Mar 18 15:59:07 2007 +0000

    Cleanup - part 3 of 1000...

commit 1874b90770f6f03059d18c6f913c8bc04cb8d595
Author: lu_zero <lu_zero>
Date:   Sun Mar 18 15:09:17 2007 +0000

    Cleanup

commit 6cef997392f8225129e0f657df0f6ffc8ebdc037
Author: lu_zero <lu_zero>
Date:   Sun Mar 18 14:57:09 2007 +0000

    Cleanup and documentation, no functional changes out of it - part 1 of 1000...

commit b8a217337c99c59e0dfefd31e4ff209f38b99cf4
Author: lu_zero <lu_zero>
Date:   Sun Mar 18 14:08:03 2007 +0000

    Cosmetics

commit 5ae7143a0e4d6b6d68d91b75acd00b9c29f2d41a
Author: lu_zero <lu_zero>
Date:   Sun Mar 18 14:03:21 2007 +0000

    Cosmetics

commit 8b1ce712f612e5a46c9185a5079d394cc2019087
Author: dario <dario>
Date:   Wed Mar 14 10:04:47 2007 +0000

    make config option -f (in line with apache and lighttpd options)

commit 7e5eea536c0e034c7d0fc754e763a7d66db6b8e6
Author: dario <dario>
Date:   Wed Mar 14 09:44:11 2007 +0000

    Updated port parameter in config file and man page.

commit ab6ff56578645a4296b7176aec58f87d2280a96b
Author: lu_zero <lu_zero>
Date:   Tue Mar 13 18:37:42 2007 +0000

    update logging and commandline behaviour

commit 1c124ad9cffa5a4268132e2cb2649cdbe2da55fd
Author: dario <dario>
Date:   Tue Mar 13 09:12:16 2007 +0000

    Fix 404 error when description file or contatiner is in a subdirectory.

commit f0a495ee007ceac3169d140ffceeadc336b61590
Author: lu_zero <lu_zero>
Date:   Sun Mar 11 22:20:15 2007 +0000

    Makefile fixes and cleanup

commit c56ffce24aa9bb3ae86346a9a2d8a6d949ed0c82
Author: lu_zero <lu_zero>
Date:   Sun Mar 11 21:46:28 2007 +0000

    Update documentation (removing old stuff)

commit 1ca35456bb4122b083a75e307ad8071600061603
Author: dario <dario>
Date:   Sun Mar 11 19:13:07 2007 +0000

    Fixed broken RTCP SDES packet creation.

commit 733d3b7de6f36eea9b40af96a4fcb350e2ebe60d
Author: dario <dario>
Date:   Sun Mar 11 14:23:49 2007 +0000

    Improved RTSP Interleaved buffer usage.

commit c8ad561108332c9997f65caaed15c0bf8a9c7487
Author: lu_zero <lu_zero>
Date:   Sun Mar 11 12:45:07 2007 +0000

    fix mediathread warnings

commit 32e642469b409b056f17ddce0094ebcb96bf140e
Author: dario <dario>
Date:   Sun Mar 11 11:16:53 2007 +0000

    Do not close socket in case of EAGAIN!

commit 3d5502474f8bf8789d78114405be64e3573115d4
Author: lu_zero <lu_zero>
Date:   Sun Mar 11 10:47:29 2007 +0000

    contacts updated

commit 4a6bf58511d2b1baaa8e19c5a0b06d09d9637bb6
Author: lu_zero <lu_zero>
Date:   Sun Mar 11 10:22:46 2007 +0000

    Status update

commit 4fae1ae06edca448a2c003c52b1143bc23a5b4fe
Author: lu_zero <lu_zero>
Date:   Sun Mar 11 10:08:20 2007 +0000

    Minor update, mention felix

commit 509b8c72797fc4e36314f22f900221d782ec678d
Author: lu_zero <lu_zero>
Date:   Sun Mar 11 09:47:56 2007 +0000

    cleanup

commit ff90307936b2c32b1ef66d5faa0bd443b3f8ae50
Author: lu_zero <lu_zero>
Date:   Sat Mar 10 21:58:03 2007 +0000

    Cosmetics

commit 1a5fb42051a76a9ffd4b1deb163ce75ab5a5719e
Author: lu_zero <lu_zero>
Date:   Sat Mar 10 08:42:08 2007 +0000

    Do not read over the extradata

commit 78964d83631b22f5e779f9b31a80ed176dd05829
Author: lu_zero <lu_zero>
Date:   Fri Mar 9 22:48:11 2007 +0000

    factorized code and full frag support

commit 221f09118d2419f19f0efbb555958abffd182261
Author: lu_zero <lu_zero>
Date:   Fri Mar 9 17:01:40 2007 +0000

    AVC fragmented now, non avc pending

commit 4bca615153834a16df1f102381eab08984cfecdb
Author: dario <dario>
Date:   Fri Mar 9 15:49:34 2007 +0000

    Using DEFAULT_MTU for mp3 fragmentation.

commit 8d1f277d484b65542989ca9d33a1a1456a6ba32a
Author: lu_zero <lu_zero>
Date:   Fri Mar 9 15:46:56 2007 +0000

    DEFAULT_MTU, let's start the frag game...

commit 144678e08db9212646c86141ee523cae5db61bcc
Author: dario <dario>
Date:   Fri Mar 9 15:45:47 2007 +0000

    Pumped RTSP_BUFFERSIZE to 16K.

commit 54de6ccbf9a473564dea66da6d3c1bcf1c3ae44b
Author: lu_zero <lu_zero>
Date:   Wed Mar 7 18:29:23 2007 +0000

    Fix mp3 vs world sync, welcome to the hackland!

commit d732649ee7ae96c22a2d5d6e07651d5d5c4f767d
Author: lu_zero <lu_zero>
Date:   Wed Mar 7 18:27:04 2007 +0000

    Spring cleanup

commit 640ffd437d512dfd52b4945b989cc3e9b88fb0cd
Author: lu_zero <lu_zero>
Date:   Wed Mar 7 15:48:13 2007 +0000

    Ops2... (10L)

commit b14fd49ea99fbc3b6138a72ed01a5c9d51f85e8d
Author: dario <dario>
Date:   Wed Mar 7 15:39:03 2007 +0000

    Oops!!

commit 7e23e276592fdaa9a7de1a0eb6c4ae6926dc19cd
Author: lu_zero <lu_zero>
Date:   Wed Mar 7 15:37:26 2007 +0000

    Internal time in seconds-double

commit 0a933d5901e4c4953d37b194097a60ca37c080bf
Author: dario <dario>
Date:   Wed Mar 7 15:35:47 2007 +0000

    Changing seek from (int64_t)msec to (double)sec in demuxer.

commit 911146da236b0e61dccd0dd8254da551807f61bb
Author: dario <dario>
Date:   Wed Mar 7 14:45:56 2007 +0000

    Timestamp calculation fix when end ts is missing

commit b904ce4d4f435e398b6515733266a3aa02d369f2
Author: dario <dario>
Date:   Wed Mar 7 08:24:11 2007 +0000

    Changed behaviour in begin timestamp + uninit

commit 61b97ff2de00e965e7d6d95d67de6100a6a7af3d
Author: lu_zero <lu_zero>
Date:   Sun Mar 4 12:57:18 2007 +0000

    buildir vs srcdir - make install - from Diego again

commit 23098104ad9091e37df10e4093cb1f929c031dd5
Author: lu_zero <lu_zero>
Date:   Sun Mar 4 12:51:23 2007 +0000

    buildir vs srcdir from Diego

commit c6fe2af690e2d1bdf4dd2a5147124f4954df6de6
Author: lu_zero <lu_zero>
Date:   Sun Mar 4 11:08:16 2007 +0000

    uninit...

commit 784e74d71d82dc25d41c741d5b90ccb97df739c2
Author: lu_zero <lu_zero>
Date:   Sun Mar 4 09:32:21 2007 +0000

    factorize common code

commit af7cc286ca2e1894fa85e6477a9eb82f0a1e80f2
Author: lu_zero <lu_zero>
Date:   Sun Mar 4 09:31:58 2007 +0000

    seek rehashed again

commit e738993042e40ae5df0bc7234b03f3b3cc94c395
Author: lu_zero <lu_zero>
Date:   Fri Mar 2 15:24:57 2007 +0000

    Simplify duration guessing

commit b8fc4af3154714997f5a2387944104aa1e7b706d
Author: lu_zero <lu_zero>
Date:   Fri Mar 2 15:21:48 2007 +0000

    handle wrong sizes differently

commit d5ff280539598dba7b4dbae753b30ceb2108c948
Author: lu_zero <lu_zero>
Date:   Fri Mar 2 12:14:36 2007 +0000

    1000l, not offsetting after reading

commit c7e0d05f8ac2ede7f4a1e201bd75e9b0981c6fd1
Author: dario <dario>
Date:   Thu Mar 1 17:13:22 2007 +0000

    Removed some warnings.

commit 0b8252cbf1586651f371bdf345278cb237d63307
Author: dario <dario>
Date:   Thu Mar 1 17:09:08 2007 +0000

    Fix: miscalculation of timestamp.

commit 369116702e78959d14a556a1f2bbbdefc75ba7f1
Author: lu_zero <lu_zero>
Date:   Thu Mar 1 11:18:33 2007 +0000

    Cleanup unused stuff

commit 1fde80773aee5f38955e3e459e05b3f4a9a2f4ae
Author: lu_zero <lu_zero>
Date:   Thu Mar 1 09:41:14 2007 +0000

    reverted to hackish mode

commit 28f65f7fc74b5e573388530ebf4abafa3bd32cf5
Author: lu_zero <lu_zero>
Date:   Thu Mar 1 07:31:08 2007 +0000

    Made seek work better?

commit 137ed32026cd82d58701188f0358d3c4dcc7b2ab
Author: lu_zero <lu_zero>
Date:   Tue Feb 27 19:46:46 2007 +0000

    Halfway to avc1 parsing

commit 9376d5f96f1c28c0f101d5bc937ec93de11190bc
Author: lu_zero <lu_zero>
Date:   Tue Feb 27 19:46:30 2007 +0000

    Saner default

commit 4e3b2d20a503880105d2f8543f6eb2c9d4b3ab3e
Author: dario <dario>
Date:   Tue Feb 27 10:37:42 2007 +0000

    EDL Lives!

commit b0e943fd3f7f8bb0aebe45110d64fc26952546a1
Author: lu_zero <lu_zero>
Date:   Mon Feb 26 21:34:07 2007 +0000

    Missing whitespace

commit 58d22cdb7e90e192b2fdcf9c7555c8f656f6e982
Author: lu_zero <lu_zero>
Date:   Mon Feb 26 18:27:16 2007 +0000

    Updated lavf/lavu support

commit d2b5958381e9da1c766e333a7ada197a3407a695
Author: lu_zero <lu_zero>
Date:   Mon Feb 26 18:26:27 2007 +0000

    Configuration cleanup

commit 9758f7bcb2e1babb5f68fa1b8cb4213a954bb6b7
Author: dario <dario>
Date:   Mon Feb 26 15:47:46 2007 +0000

    New istream_reset() function to reset read position.

commit a3ddec26646c95fcc20bdfb52dd4052a45b38714
Author: dario <dario>
Date:   Mon Feb 26 12:06:04 2007 +0000

    Fixed a little issue with older ffmpeg versions.

commit 2e06a62077c1669a771da5da26e6ce5a0948539e
Author: lu_zero <lu_zero>
Date:   Mon Feb 26 11:35:03 2007 +0000

    Typo

commit 42d93a5407ac5008cd7eea235a2d532a6788fda0
Author: lu_zero <lu_zero>
Date:   Mon Feb 26 10:30:37 2007 +0000

    100l...

commit 90143a62dd49a598e189e26a76115aa77b309ef5
Author: lu_zero <lu_zero>
Date:   Mon Feb 26 07:41:24 2007 +0000

    Status update

commit da61bb05362e333d3c09c4f7fa81637a8e13c0d5
Author: dario <dario>
Date:   Fri Feb 23 15:13:32 2007 +0000

    Removed some mediainfo legacy from RTSP.

commit a5368b7b89fce5b3dbd753f577715c2da662ad1e
Author: dario <dario>
Date:   Fri Feb 23 15:12:54 2007 +0000

    Removed some warnings at compile time.

commit b2e24bc872ee274fd73c4cc76ddc03bba6a7655c
Author: dario <dario>
Date:   Thu Feb 22 18:05:56 2007 +0000

    Better initialization of InputStream

commit 9c692d9a69b81490ef7b06c80065e2ba46dd7488
Author: dario <dario>
Date:   Thu Feb 22 17:50:26 2007 +0000

    Cleanup and fixed a freed pointer reference.

commit 89a8e5f15e1c0e6f82457bbbd62bbfa2c72ba459
Author: dario <dario>
Date:   Thu Feb 22 09:52:02 2007 +0000

    Added required header for gettimeofday()

commit d39c62c071bff0c5e2d5c329179fcc8e9ab7d5cd
Author: dario <dario>
Date:   Tue Feb 20 19:27:00 2007 +0000

    Bugfix: stack corruption...

commit 7354e4872cd2e05ef7bdba7226736224c3d210eb
Author: dario <dario>
Date:   Fri Feb 16 18:42:43 2007 +0000

    Scheduler improvement for interleaved streams ported from fenice.

commit c5e613fb7c342520e554d32c9166307647288f0b
Author: dario <dario>
Date:   Fri Feb 16 18:41:38 2007 +0000

    Added frame duration to properties

commit 85c75839e3bd7c3c9db0e09291d0746c793deabc
Author: dario <dario>
Date:   Fri Feb 16 18:40:54 2007 +0000

    Initialized the SDP description pointer

commit cdaf66e5f6426471d881f6a6f74f8903ced4f6e2
Author: lu_zero <lu_zero>
Date:   Fri Feb 16 17:05:32 2007 +0000

    Fix build on non freebsd 10l to me and 1l to diego...

commit 9d6fc43189579864679361005f8e5528ac6cb0c6
Author: dario <dario>
Date:   Fri Feb 16 16:02:35 2007 +0000

    Fix for SCTP detection

commit fb8d9fe243e1f1f1fb8c4db542653a46961f99e5
Author: lu_zero <lu_zero>
Date:   Thu Feb 15 20:15:49 2007 +0000

    syslog made effective

commit 7f8ec5bdbbfbf82de06a7de833a56b3e8c6aad11
Author: lu_zero <lu_zero>
Date:   Thu Feb 15 12:32:28 2007 +0000

    Freebsd fixes from Diego

commit 086bedba7082e17416b2e27b00d39ea62e0bc5c9
Author: lu_zero <lu_zero>
Date:   Thu Feb 15 12:31:38 2007 +0000

    Untrack generated file

commit 3b46b95049476362c452d962fbb288f511196ac0
Author: lu_zero <lu_zero>
Date:   Wed Feb 14 17:05:38 2007 +0000

    Non avc1 h264 parser working

commit 96a44f9a567867231bdf8a4cd9b3c2c012f7e1b8
Author: lu_zero <lu_zero>
Date:   Fri Feb 9 12:47:46 2007 +0000

    Fix scheduler, mp3 plays as should

commit a5da4ea5360f12e13626d3dd5f5301c18e66ddeb
Author: lu_zero <lu_zero>
Date:   Fri Feb 9 12:46:56 2007 +0000

    Types cleanup

commit af34ddec310917d3b1994ca4d05c4c4fa78e32a8
Author: lu_zero <lu_zero>
Date:   Thu Feb 8 22:56:57 2007 +0000

    not correct yet probably, seems to expose a bad bug on vlc+live555, I'll investigate later

commit a2e2c7fc5e0c47984a39ccfea9221814cec375b1
Author: lu_zero <lu_zero>
Date:   Thu Feb 8 22:16:40 2007 +0000

    10l missing break

commit 6792461ad36681acec3caaa15bdabe831a850bc9
Author: lu_zero <lu_zero>
Date:   Thu Feb 8 16:15:57 2007 +0000

    Mass update, compatibility update and cleanup for rtsp, multisession support isn't yet for consumption

commit f8aacddd2ee4c76b1aacb767966bcc014648269a
Author: lu_zero <lu_zero>
Date:   Thu Feb 8 16:07:59 2007 +0000

    Updated code, yet broken

commit 7ebc73732841714b57ea26d022e614a8b2ad0360
Author: dario <dario>
Date:   Tue Feb 6 08:31:39 2007 +0000

    Teardown fix.

commit 0776780d9b9aef6a6ed4fd60d9da9842c2ce73b7
Author: dario <dario>
Date:   Tue Feb 6 08:30:56 2007 +0000

    Code cleanup.

commit 82894510746d6848c9fab36a7e8503eacff1e01b
Author: lu_zero <lu_zero>
Date:   Mon Feb 5 17:56:14 2007 +0000

    verbose debug

commit a6fbe7ba6e0d8a3d89ebdd93e2859a6a78d482cd
Author: lu_zero <lu_zero>
Date:   Mon Feb 5 17:55:57 2007 +0000

    yet incomplete avc1 parser (missing extradata delivery)

commit 33896141f0be63038edf4e8eb03834b5685aa8b6
Author: dario <dario>
Date:   Mon Feb 5 11:05:12 2007 +0000

    Teardown updated to mediathread.

commit 1051249bab841acff6374298f00804f6d6442800
Author: dario <dario>
Date:   Fri Feb 2 17:53:26 2007 +0000

    Preliminary h264 parser (to be tested).

commit 1ae17d1689b1fd9ddad5bb868e17b082818433af
Author: lu_zero <lu_zero>
Date:   Thu Feb 1 20:44:41 2007 +0000

    h264 is still broken, the parser doesn't parse NALs yet

commit 9b6f3098180a1807f9486b2b8267da7ab37c5868
Author: lu_zero <lu_zero>
Date:   Thu Feb 1 20:43:17 2007 +0000

    rtpmap support

commit 48dce3a10c530291ba6a9b05f30eb8cbc834ee88
Author: lu_zero <lu_zero>
Date:   Thu Feb 1 11:40:39 2007 +0000

    Cosmetics

commit a0bbb690773dcce907a87b2811b0be2a2f3c1d94
Author: lu_zero <lu_zero>
Date:   Thu Feb 1 11:25:57 2007 +0000

    Updates for h264, sdp2 is missing rtpmap support

commit a4dbeaeea3765e8acdada88016393d538d44fbb5
Author: lu_zero <lu_zero>
Date:   Wed Jan 31 23:22:10 2007 +0000

    Initial h264 parser, frag and collate not supported

commit 91800bc8fa5bf41aff0f268974d0d1389efcad67
Author: dario <dario>
Date:   Wed Jan 31 17:18:55 2007 +0000

    Timescale fixed!

commit 60656716a9c56b52fa69dfe3915637d7956d031f
Author: lu_zero <lu_zero>
Date:   Wed Jan 31 17:13:04 2007 +0000

    Timestamps in seconds, eventually\!

commit 6dcf6c0689f7c22c4566ab0131e375e48cb36895
Author: lu_zero <lu_zero>
Date:   Wed Jan 31 16:44:55 2007 +0000

    Timestamp fix

commit a23d0593a311e53bfbe25b1c7464550010a16ed0
Author: dario <dario>
Date:   Wed Jan 31 16:38:56 2007 +0000

    Shifted timescale to ms

commit 5b888647f21a0287a24a8aaf1feded7b973febc0
Author: lu_zero <lu_zero>
Date:   Wed Jan 31 16:18:53 2007 +0000

    int not int32 ...

commit 03dbe873c252740767bb83f11c688035049dd156
Author: dario <dario>
Date:   Wed Jan 31 16:15:08 2007 +0000

    Fix for bufferpool upgrade

commit 90014c1263c0b9b168dd1d8c9036d80f43134fad
Author: lu_zero <lu_zero>
Date:   Wed Jan 31 15:52:11 2007 +0000

    default clock rate (fixing timestamp part I)

commit cdc73790530b813cffc4896540ad6630dbc1f9e6
Author: lu_zero <lu_zero>
Date:   Wed Jan 31 15:37:25 2007 +0000

    Rewrite the parse, packetize will be removed later

commit 5eb9fbe865183eb15145b2b7fc2737f80f293540
Author: shawill <shawill>
Date:   Wed Jan 31 14:53:28 2007 +0000

    Bufferpool merged from last changes in fenice trunk.

commit 64cfa3f4c62b8031854f35b25fe5554832c65c62
Author: dario <dario>
Date:   Wed Jan 31 12:37:33 2007 +0000

    Removed everlooping for()...

commit a23b926629061dfa89015b646bed2563ce22465f
Author: lu_zero <lu_zero>
Date:   Tue Jan 30 17:17:39 2007 +0000

    Cosmetics

commit 22e57bbc4b91c810624f7001d49287b850b6549c
Author: dario <dario>
Date:   Tue Jan 30 15:27:38 2007 +0000

    Initial support for legacy SD file format in Media Thread

commit 270e17a20a7e09bb804e1fb324009ab42aef0ce3
Author: dario <dario>
Date:   Tue Jan 30 15:25:22 2007 +0000

    Degraded annoying message to VERBOSE level.

commit bf87e4971af02aa63bc080f86793dd1b208fddea
Author: lu_zero <lu_zero>
Date:   Tue Jan 30 14:26:43 2007 +0000

    still broken

commit fc27123cefb0ac583673f1687fdcbff2a2c29bb3
Author: lu_zero <lu_zero>
Date:   Tue Jan 30 13:35:05 2007 +0000

    Parse headers in the packetize too

commit bbaf988857d8d93a14b114c2d66d3159527db2a1
Author: lu_zero <lu_zero>
Date:   Tue Jan 30 10:39:33 2007 +0000

    Now with the fresh mediathread flavour

commit 30f4f05470ce4298edca0ad4b06e5afbcc4c56ee
Author: lu_zero <lu_zero>
Date:   Mon Jan 29 23:47:23 2007 +0000

    10l use the right private (note: make the thing consistent)

commit b16244aadff3c372eafa3c1aa5cc3090ad25a2ae
Author: dario <dario>
Date:   Mon Jan 29 22:35:06 2007 +0000

    mediathread lives! (at least it fills buffers...)

commit fa008a8f58b833a1cdae501db4906b4c48c215a6
Author: lu_zero <lu_zero>
Date:   Mon Jan 29 22:15:41 2007 +0000

    backref to Resource

commit cf635b510cd1f0afb094437a91e1e594ae1a9ed6
Author: lu_zero <lu_zero>
Date:   Mon Jan 29 21:23:05 2007 +0000

    GList != gpointer

commit 783e33d99d09a5a847088772f70b3fa2938d20d0
Author: lu_zero <lu_zero>
Date:   Mon Jan 29 18:47:24 2007 +0000

    Cosmetics

commit e2a4fb37de400ffe36fbe5398f1a5141b2f89773
Author: lu_zero <lu_zero>
Date:   Mon Jan 29 18:45:58 2007 +0000

    Cosmetics

commit 1755b10694f280145a245e9a0730217795acd8ea
Author: lu_zero <lu_zero>
Date:   Mon Jan 29 18:20:16 2007 +0000

    100l init before accessing...

commit 649e1e27dacd5e81c6b8b5de221933d49f2e84e3
Author: lu_zero <lu_zero>
Date:   Sun Jan 28 17:22:03 2007 +0000

    Bare scheduler

commit 89f57826ae74307844930a7a5fc20b6462dd7075
Author: lu_zero <lu_zero>
Date:   Sun Jan 28 17:21:10 2007 +0000

    Make it gracefully fail

commit 3a5e9ed7e40ab1fc4f5106f4acd1e4c4c2774c7b
Author: lu_zero <lu_zero>
Date:   Sun Jan 28 12:40:42 2007 +0000

    Factorize code

commit 1ba31c22c1fca0044e2ad338cb7aa8401b59465f
Author: lu_zero <lu_zero>
Date:   Sat Jan 27 12:32:46 2007 +0000

    Ugly way to calculate average duration

commit 8e51ef151c544377cf1a9856d8d8fd05b7d37107
Author: dario <dario>
Date:   Thu Jan 25 20:03:02 2007 +0000

    Cleanup.

commit 4711722bc1d5053e8d560b89a3e379521ba9a397
Author: lu_zero <lu_zero>
Date:   Thu Jan 25 19:49:00 2007 +0000

    fix return type

commit dd73796f4896459d227cf3693c9d61a6fd53f353
Author: dario <dario>
Date:   Thu Jan 25 17:58:56 2007 +0000

    Dropped mediainfo and SDPv1! Scheduler still not working!
    Watch for #warning and mediautils.h...

commit 132f16fefaef573f2b7a71af928003d12dafea76
Author: lu_zero <lu_zero>
Date:   Thu Jan 25 13:10:34 2007 +0000

    make mtime a media prop, used by edl metacontainer

commit a4a2c62079d18f0a4bc0aacf32a3598ed1a87784
Author: lu_zero <lu_zero>
Date:   Thu Jan 25 10:37:22 2007 +0000

    Updated MediaParser:packetize()

commit 9099603e7c547a47ad7436142332542ce7b46fb7
Author: lu_zero <lu_zero>
Date:   Tue Jan 23 19:09:46 2007 +0000

    Should do what is supposed to do now, pending buffer constrains implementation

commit 0e8310c6b795b8465421b085b1f86e5ad0708ba2
Author: lu_zero <lu_zero>
Date:   Tue Jan 23 18:42:20 2007 +0000

    formalize

commit 8820d6c256fdb10cfcd9fb95153dde2809b6b172
Author: lu_zero <lu_zero>
Date:   Mon Jan 22 20:30:00 2007 +0000

    Make mpv_read() behave like read(2)

commit 328c294a83be925229118b7472c2281a5cd4e123
Author: lu_zero <lu_zero>
Date:   Mon Jan 22 20:04:55 2007 +0000

    Supports fragments

commit 3cdd3252b6fd4cfce84c42d0849f012afd3742e1
Author: lu_zero <lu_zero>
Date:   Mon Jan 22 19:16:35 2007 +0000

    Make mpa_read() behave like read(2)

commit 516506714eb021fb4fd6bdb9654e08e38de20fea
Author: lu_zero <lu_zero>
Date:   Mon Jan 22 19:15:08 2007 +0000

    Cleanup

commit 7c6e1f17266329f631f09ba438014f74f932cdcb
Author: lu_zero <lu_zero>
Date:   Mon Jan 22 19:13:23 2007 +0000

    whitespace change

commit 43bdc6d146fb90fbd1bae7da857a538a1c1724f6
Author: lu_zero <lu_zero>
Date:   Fri Jan 19 17:08:36 2007 +0000

    Cleanup

commit 3f6b3fab90863044d2e7a1866b97de54c9329222
Author: lu_zero <lu_zero>
Date:   Fri Jan 19 17:03:00 2007 +0000

    Cleanup

commit d198234c927244573c06095a06611e8828a45b2e
Author: dario <dario>
Date:   Fri Jan 19 15:39:56 2007 +0000

    Start mediathread with fenice.

commit f9cd54d96772740c1e9939fb3be99effe92119d2
Author: dario <dario>
Date:   Fri Jan 19 11:15:55 2007 +0000

    RTP_session_destroy now supports mediathread

commit 147eb301568f6c63a2018314572f30ff322a94d2
Author: lu_zero <lu_zero>
Date:   Thu Jan 18 16:10:16 2007 +0000

    Cleanup++

commit 7d0e6a45bf83801e7c615c41089e5a7b361f4622
Author: lu_zero <lu_zero>
Date:   Thu Jan 18 16:07:56 2007 +0000

    cleanup

commit b06d042c041e63d3dccf8e8f3017dab00261026b
Author: dario <dario>
Date:   Thu Jan 18 15:43:18 2007 +0000

    Use mediathread to fill RTP buffer

commit d0c1516f690f200d3c5f9022cab32a93ca5bdddb
Author: dario <dario>
Date:   Thu Jan 18 15:42:24 2007 +0000

    Enable mediathread by default (BROKEN!)

commit 1ddb0225c544af20a42fefaa221f443305558720
Author: lu_zero <lu_zero>
Date:   Thu Jan 18 13:51:55 2007 +0000

    Fix a segfault with avf tracks

commit 4cdf7569b3ac7821930b6214ba9d6491aaf441fe
Author: lu_zero <lu_zero>
Date:   Thu Jan 18 13:49:58 2007 +0000

    minor changes

commit f49250f7b3c5185de2bc15b51cbe2905844baafa
Author: lu_zero <lu_zero>
Date:   Thu Jan 18 10:22:13 2007 +0000

    constify

commit 25391d318d7b5d6cd019e6fc60e29061ec7c1c74
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 21:29:45 2007 +0000

    Don't use specific types to return error values

commit 6b05a1cde6265a81414667810bdde912116b18d4
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 21:15:58 2007 +0000

    Don't use specific types to return error values

commit ef168c2d6e93d5b22081b05000efef66ca9f69e9
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 21:08:16 2007 +0000

    seek proto update

commit 7d64f34a3468759dea96db1ef75f2c38206af7e4
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 19:47:26 2007 +0000

    seek proto update

commit 541280f278307679ac0e96032478920fef492969
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 14:57:56 2007 +0000

    proto change

commit d130c61340178c7ceac4351bd3034e52930bedfd
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 14:24:44 2007 +0000

    typo

commit 4367af5f189355e3a894b5c856d7f6f3eef85c9e
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 14:23:56 2007 +0000

    Yet another cosmetic commit

commit b5ba6f2cccfd78c0442a3de3904609198c559a92
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 14:15:06 2007 +0000

    Cosmetics part I

commit 323be767d8d15252cfc7888d2441944dbdb173a9
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 13:57:44 2007 +0000

    Cleanup, pending mediathreadification

commit df6f63d35a472ebad34c442fb212f4420b44c376
Author: lu_zero <lu_zero>
Date:   Wed Jan 17 13:42:51 2007 +0000

    Cosmetics

commit 796c0a4016db6f4bf935f9b213fb72b75af7df56
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 19:28:26 2007 +0000

    Uncruft teardown

commit 1bb106557b26d28dd2e9ada1bdff810b2b28da09
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 19:16:22 2007 +0000

    Now supporting demux_avf

commit 95df377089760507c0a8a51a312fab785f309254
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 16:36:38 2007 +0000

    Cosmetics part II

commit 2fc7c8c3a7339874f209ac57de66ad30ce84713f
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 14:16:51 2007 +0000

    Cosmetics part I

commit 0339ecd95188c1504e2f71b5e8b222838a37a323
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 11:53:58 2007 +0000

    Clarify

commit 15372851563d86e6263586586193703c5c2bdada
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 11:38:55 2007 +0000

    Factorizing common code

commit 54e780b4cecc0e6959fd779f69f231990689bf7b
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 11:22:25 2007 +0000

    avoid pointless doc regeneration

commit 7793c467cd9b02abaeef398d562e0ccda557c740
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 10:43:26 2007 +0000

    Meaningful names

commit 90e43478a0c3cb78f68db7eb47982d90fea8b82a
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 10:36:47 2007 +0000

    Initial code reorder (should not change the logic)

commit 44374dafba74fd47f8c96b52d674f88afd14ae4d
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 08:43:44 2007 +0000

    Cosmetics (before trying to ditch is_supported_url)

commit 06bdf1ff3a31fe41697a61eadb927e8ce40cb820
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 08:02:07 2007 +0000

    status update

commit aa3629179d81e4d845386b7f599f5fb0b6fc0c4d
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 07:56:15 2007 +0000

    Whitespace cleanup

commit fd2251f37522cdd4f900dd4d3faa6a051eb04a55
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 07:54:53 2007 +0000

    Meaningful error report

commit 58c6609653b15673bd3d69c63c9899535fe8081b
Author: lu_zero <lu_zero>
Date:   Mon Jan 15 07:37:09 2007 +0000

    Cosmetics part 1 (first step in order to gain dss compatibility)

commit 13fe7561000e7c6e9b0cb5464675614e46f793c3
Author: lu_zero <lu_zero>
Date:   Sun Jan 14 20:13:10 2007 +0000

    Spotting a prey

commit ed579170f1177462e78ab1effadea6ccbbc17117
Author: dario <dario>
Date:   Sun Jan 14 14:52:59 2007 +0000

    Starting event driven mediathread.

commit a26811276becde80e1b564e01ccee9dcd0906248
Author: lu_zero <lu_zero>
Date:   Fri Jan 12 17:04:17 2007 +0000

    WIP: init() not working yet, let alone the rest

commit ed8dfee4a369cfe25afb3ca6931474de692606a0
Author: lu_zero <lu_zero>
Date:   Fri Jan 12 16:29:38 2007 +0000

    More informations on errors

commit 64adc4fc9fc63cc424d6821981d5f406ab291c1b
Author: lu_zero <lu_zero>
Date:   Fri Jan 12 16:26:21 2007 +0000

    Add some more debug messages

commit 10611834e7cbe242f1dc3a8f8850e7a9ba19cee2
Author: lu_zero <lu_zero>
Date:   Fri Jan 12 16:24:32 2007 +0000

    Brain damage tagged, slate for a change really soon

commit 3248aa619f9890b99c8652bd1364eee73846d939
Author: lu_zero <lu_zero>
Date:   Fri Jan 12 16:23:49 2007 +0000

    fix string generation, decide where avroot should stay

commit c66491bc0963daca8af8d5d2a4fb8a2f389aecf9
Author: lu_zero <lu_zero>
Date:   Tue Jan 9 14:14:33 2007 +0000

    Implemented parse for mpegaudio, same implementation as mpeg12

commit c12795d2f7fa5ca1a89a451455baddb9864f0ec2
Author: lu_zero <lu_zero>
Date:   Tue Jan 9 13:27:59 2007 +0000

    Implemented parse for mpeg12video, fixing MediaParser:parse() to get the mtime

commit b5d4d9dcb9568d1d3130dd4c3c6ff4929d270593
Author: lu_zero <lu_zero>
Date:   Fri Jan 5 18:02:14 2007 +0000

    Updating parsers part I

commit 4c9cd3ed8c25ca1c0253ca55fdcef95078bb31de
Author: lu_zero <lu_zero>
Date:   Thu Jan 4 14:03:26 2007 +0000

    first tag_from_id() implementation

commit 3e2b0adacda56a5e36bf6674aa276bbebd631e25
Author: lu_zero <lu_zero>
Date:   Thu Jan 4 13:55:38 2007 +0000

    stray read header removed

commit fe506b2581ce6267341c4358897f6fed70b1527d
Author: lu_zero <lu_zero>
Date:   Thu Jan 4 12:01:04 2007 +0000

    Marking function using Selectors and restyle

commit 58532ec5f1bf40992c981b612416a79d23831a3f
Author: lu_zero <lu_zero>
Date:   Wed Jan 3 05:14:53 2007 +0000

    Now builds even if isn't fully complete

commit 321d819120146f4f519cd1aa0db47347fb231957
Author: lu_zero <lu_zero>
Date:   Wed Jan 3 05:13:57 2007 +0000

    typo+workaround

commit e2e097916447af9c074554961b4bdb1f2e7f6695
Author: lu_zero <lu_zero>
Date:   Wed Jan 3 05:13:13 2007 +0000

    typo...

commit 8dff5381e62aa64b3304c43651dab058e4e010ed
Author: lu_zero <lu_zero>
Date:   Wed Jan 3 05:12:51 2007 +0000

    Goodbye read_header() (the same data is available in the props and MUST be updated on each packet

commit bad3b9b86e15a4c2d9a1ea5962ecee0446ad100a
Author: lu_zero <lu_zero>
Date:   Tue Jan 2 13:57:33 2007 +0000

    Start refining the code (won't build yet)

commit 0c4d0d200fb12ad8ac9b9d5a35cad4ecf2c0ac07
Author: lu_zero <lu_zero>
Date:   Fri Dec 29 14:54:46 2006 +0000

    Pass the extradata to the parser init

commit 7e13bbe1374c4897e5ed9b4b01d283e60445236c
Author: lu_zero <lu_zero>
Date:   Fri Dec 29 14:30:05 2006 +0000

    Update the parse() call and reorder

commit 94a244b9985f21d9eae4217f1bf1ab92ec2b291b
Author: lu_zero <lu_zero>
Date:   Fri Dec 29 14:09:42 2006 +0000

    New function: MediaParser::parse() to be used by demuxer system, it fills the track's bufferpool directly

commit 446caac3f31aa8e7ceea29d2cd7785d1ed12a864
Author: lu_zero <lu_zero>
Date:   Sat Dec 23 15:54:31 2006 +0000

    Extract properties from avf structs

commit f1687831589378eb6298f7583fc945df0788248b
Author: lu_zero <lu_zero>
Date:   Sat Dec 23 15:53:50 2006 +0000

    Whitespace cleanup

commit 46cfb592612e7fbd3161b5a39f8f8fcd05936114
Author: lu_zero <lu_zero>
Date:   Fri Dec 22 15:48:45 2006 +0000

    Do we need tracks?

commit 186df681eb52b024fad733922c219de97b2fc24e
Author: lu_zero <lu_zero>
Date:   Fri Dec 22 15:46:05 2006 +0000

    Selector took in account

commit 943d3a9530204e8663a7386031841c2d02029f50
Author: lu_zero <lu_zero>
Date:   Fri Dec 22 12:47:04 2006 +0000

    Api change, internal id in trackinfo

commit 4900601d84d22548edf714cb5fb006f1f9b292e6
Author: lu_zero <lu_zero>
Date:   Fri Dec 22 12:45:08 2006 +0000

    Whitespace cleanup...

commit a239f6ba0599bb555fd809a02c42ab886b40b498
Author: lu_zero <lu_zero>
Date:   Fri Dec 22 00:06:04 2006 +0000

    Nuke read_header

commit d0c35e4e628c8cfeb65ea05cc8aebb29c9226aa5
Author: lu_zero <lu_zero>
Date:   Fri Dec 22 00:05:32 2006 +0000

    cosmetics

commit 1f8133c08f2ac689a7cb62301d1ebebca06fe35f
Author: lu_zero <lu_zero>
Date:   Wed Dec 20 17:16:15 2006 +0000

    Initial commit, the whole api has to be tailored around it, don't even think it builds

commit fff01fa73bfb98dde560d14a8803d28fd9e73e7a
Author: dario <dario>
Date:   Thu Dec 14 15:56:19 2006 +0000

    A bit more of mediathread.

commit b4904986e17e91c3821918f3bdbcf09f01d40fc4
Author: lu_zero <lu_zero>
Date:   Thu Dec 14 11:25:22 2006 +0000

    Make istream_* params the same as the normal function

commit 038308745e6b63ba1d7c19804718e924f234923d
Author: dario <dario>
Date:   Thu Dec 7 11:43:44 2006 +0000

    Some preliminary code for mediathread.

commit b3ed9adcd443a9138a4babf807ce25b62d786f9b
Author: lu_zero <lu_zero>
Date:   Tue Dec 5 15:22:37 2006 +0000

    demuxer.h cleanup: bogus #defines and other minor nits picked

commit 8339ae4ab3143464004280b7eeff4dbdf25c4dec
Author: lu_zero <lu_zero>
Date:   Fri Dec 1 14:48:48 2006 +0000

    Cosmetics part 1: get_UTC_time -> get_utc

commit 8d80914bf6cb28505faa52c7bee3fbdeceffc67d
Author: lu_zero <lu_zero>
Date:   Fri Dec 1 10:26:44 2006 +0000

    Winter cleanup part I: goodbye fenice/wsocket.h

commit 79902b27bc2d35af2ca6f29cdb883c608f01b96d
Author: lu_zero <lu_zero>
Date:   Fri Dec 1 10:13:42 2006 +0000

    missing ifdef for an sctp only condition

commit 6f5cdf49f7d6ac174695747be294b3586c22d7cc
Author: lu_zero <lu_zero>
Date:   Fri Dec 1 09:53:36 2006 +0000

    make WANT_* versions accepted by strict autowrappers

commit f5221133e082d65f815f4080a0811cbdf27a8716
Author: shawill <shawill>
Date:   Thu Nov 30 11:53:39 2006 +0000

    default config file is now feng.conf

commit 8cdbb2d14c473996bacc604e0f9ab4bdb5c68691
Author: shawill <shawill>
Date:   Thu Nov 30 11:14:58 2006 +0000

    New name!!!
    Fe.NG - Fenice Next Generation
    
    p.s.
    probably some code refactoring is still needed, but at last
    the name is here!

commit 67a5a6f64621e312005ae2f1c305c17d5db36090
Author: shawill <shawill>
Date:   Wed Nov 29 09:49:11 2006 +0000

    r_open and r_descr_get in MT now accept two params:
    1. content_base
    2. resource name

commit 69913e3b08df3e64e9667d464f6a2128e0dd3fa1
Author: shawill <shawill>
Date:   Wed Nov 29 08:58:15 2006 +0000

    little changes in sdp2

commit dd26cc33c495a47eb9b5b449d3e31116c525a457
Author: lu_zero <lu_zero>
Date:   Mon Nov 20 10:06:28 2006 +0000

    cleanup

commit 94786d4ecc5a56824211e42ed316b5674d6d4143
Author: dario <dario>
Date:   Fri Nov 17 14:49:50 2006 +0000

    Really fixed .sd files left open.

commit d93e88bf96bea4bb17156dc45d42e4ce13b70e29
Author: dario <dario>
Date:   Fri Nov 17 14:39:40 2006 +0000

    Fixed .sd files left open.

commit 01ed2cf74bad3be45f8cb4b78eb1cc9c9f7cdb28
Author: shawill <shawill>
Date:   Thu Nov 16 17:33:58 2006 +0000

    mediainfo merged from fenice trunk

commit 86ae13510c7c0da7ab91a80a2c86eafbfa57cb84
Author: dario <dario>
Date:   Thu Nov 16 17:25:00 2006 +0000

    Added some message debug in when data from an unconfigured stream is received.

commit 616436b789c739fa80d8d61b14fe4202dfaa26ca
Author: dario <dario>
Date:   Thu Nov 16 17:13:02 2006 +0000

    A pair of ; missing.

commit 083ecce8a07a8ed087a854253f2ed2f8692de869
Author: dario <dario>
Date:   Thu Nov 16 17:03:46 2006 +0000

    Fixed missing handle of incoming RTCP packets in interleaved mode.

commit b16c5df0fc3b031647121a116be6123d76f58f5b
Author: dario <dario>
Date:   Thu Nov 16 16:19:53 2006 +0000

    Fixed a typo on RTSP_setup.

commit 136f96edcdb96a78420fef678600c5b44ed741a8
Author: dario <dario>
Date:   Thu Nov 16 15:44:58 2006 +0000

    SCTP support merged from svn trunk.

commit 9210b8d45b8ebbfdb02e502af7b1734dbcf843f1
Author: dario <dario>
Date:   Thu Nov 16 14:44:02 2006 +0000

    Fixed multicast (?). Need testing...

commit 61b7384d9f7b41f595706b470d29b22a697b231c
Author: dario <dario>
Date:   Wed Nov 15 15:56:34 2006 +0000

    A single change due to providing netembryo with its own log facilities.

commit fdd254a6f5502aeb67c057a9e5c8dbabd90b6883
Author: dario <dario>
Date:   Tue Nov 14 13:24:43 2006 +0000

    Fixed Deadlocks. Still weird behaviour in IPv6.

commit a5de24e13cfe45c1883e020179bcd60b1c9dd7b3
Author: dario <dario>
Date:   Tue Nov 14 12:18:48 2006 +0000

    Fenice now compiles with netembryo. Still broken (Deadlocks)
    TODO: Fix multicast.

commit 2bcdc99a30c02e8c5a424cc36180390ee64caded
Author: dario <dario>
Date:   Mon Nov 13 17:54:38 2006 +0000

    Eventloop modification for netembryo completed

commit 5c8b48d196a7dc6e725d7263edb1c98372bbc352
Author: lu_zero <lu_zero>
Date:   Mon Nov 13 17:35:21 2006 +0000

    WIP warning added, to be changed later

commit 2f5c877dbee9733e0b75c4c8f0bfbcf9ed86c6d8
Author: lu_zero <lu_zero>
Date:   Mon Nov 13 17:30:16 2006 +0000

    minor change

commit 8560b37b289f26a32e8f299c2f906895afd2c3e2
Author: lu_zero <lu_zero>
Date:   Mon Nov 13 17:20:46 2006 +0000

    yet another update

commit 9677d021443fce9d88802eae697fb3ece7b1eef7
Author: dario <dario>
Date:   Mon Nov 13 17:16:16 2006 +0000

    rtsp.h structures modified to be netembryo compatible.

commit 5b6335ec2658d3a607c219942eaa7e63b8db3e3f
Author: lu_zero <lu_zero>
Date:   Mon Nov 13 17:02:47 2006 +0000

    eventloop breakage, to be ported to the new netembryo

commit 475a159dd91cb4bac32f46133e70f7b8cde92671
Author: lu_zero <lu_zero>
Date:   Mon Nov 13 16:52:09 2006 +0000

    minor update

commit 3107c1a219a3d3c23ae7d073f66af72791989dbb
Author: lu_zero <lu_zero>
Date:   Mon Nov 13 16:48:00 2006 +0000

    updated utils.h - memento rewrite/gut/rape/whatever it

commit 904556aa3f8e7c872fd0535eea6d72872f725a77
Author: lu_zero <lu_zero>
Date:   Mon Nov 13 16:41:55 2006 +0000

    minor changes

commit 4a52c6c9597e236a09baa6793351d840c7c5deb4
Author: lu_zero <lu_zero>
Date:   Mon Nov 13 15:54:04 2006 +0000

    Breaking rtsp too\!

commit 7493a865d4e15524b8a7b6f6223c7a19356b6c94
Author: dario <dario>
Date:   Fri Nov 10 17:48:13 2006 +0000

    Unbreaking rtcp

commit 0f8fd904b27527b5bbfd1a151ab7db3add1b83d0
Author: lu_zero <lu_zero>
Date:   Fri Nov 10 17:41:27 2006 +0000

    Updated mess, now rtcp flavour, dario ALL YOURS

commit 6aae7b49d3cb96e034be77ac997fcbea555c1a44
Author: lu_zero <lu_zero>
Date:   Fri Nov 10 17:02:32 2006 +0000

    Untracked files from the rtp update...

commit 5117a50036bc34195a702b7b90346f460d175391
Author: lu_zero <lu_zero>
Date:   Fri Nov 10 17:00:56 2006 +0000

    Untracked files from bufferpool update

commit 71d57d0f455610d8375e492aae22cff1c6be73e2
Author: lu_zero <lu_zero>
Date:   Fri Nov 10 16:59:26 2006 +0000

    RTP update, pending dario's netembryo update [BEWARE BROKEN TILL HIS COMMIT]

commit a01b53e4c67842468fd3eb8dcc197d244a3e6b61
Author: dario <dario>
Date:   Fri Nov 10 15:49:32 2006 +0000

    Changes due to updates in Netembryo.

commit 2317a74e1b2b0b870439e7406fd470879d973673
Author: dario <dario>
Date:   Thu Nov 9 15:35:55 2006 +0000

    Code modification due to changes in netembryo.

commit 5ba51e42a456ecccf769a6bffda5d39a40662d73
Author: lu_zero <lu_zero>
Date:   Thu Nov 9 01:25:35 2006 +0000

    bufferpool update

commit 89f03303d1908ea3a72fb1c72c68258e2e013969
Author: dario <dario>
Date:   Tue Nov 7 14:39:27 2006 +0000

    Changed code to make it work with netembryo changes.
    Fixed missing InputStream data in structure.

commit 50993cc89af3a9d18231cf5ab918e342ef902860
Author: lu_zero <lu_zero>
Date:   Tue Oct 24 00:28:57 2006 +0000

    initial mmapped input stream support

commit 0a8f2a82d2181061ff0cc1f5fa81c07561a1e3ad
Author: lu_zero <lu_zero>
Date:   Mon Oct 23 14:26:48 2006 +0000

    Documentation updated

commit 376edfacfbb492d994f445448dafd79609822d98
Author: lu_zero <lu_zero>
Date:   Thu Oct 5 15:52:46 2006 +0000

    Removing some cruft (pending rewrite)

commit e459a9f4fe776bcfb82f4b621b5d5099f50449ca
Author: federico <federico>
Date:   Tue Sep 26 15:31:35 2006 +0000

    I am trying to finish stun server. It is...carefully... usable

commit 7a78332c3af3f2d7d6681629af0f4d14b11b4b02
Author: lu_zero <lu_zero>
Date:   Sun Sep 10 05:06:10 2006 +0000

    Add initial libavformat checks and some cleanups

commit 70b621aedb50d96d4a048692cb3a159ae62ba8fb
Author: lu_zero <lu_zero>
Date:   Sun Sep 10 04:57:05 2006 +0000

    Updated TODO

commit 29c6e25f4ff8e9d450800a36220f60100f0325b5
Author: federico <federico>
Date:   Tue Aug 1 08:31:08 2006 +0000

    Added Changed Address and Reflected From Attributes, but not tested yet... still continue

commit 09eba7f60a75db6dc3d7727a8614e5a5ee06ef6f
Author: federico <federico>
Date:   Mon Jul 10 06:52:10 2006 +0000

    Getting startes stunserver. Only Source Address and Mapped Address was finished but if you want to try it you must --enable-stun and add a line like stuncfg=192.168.1.87,3478,192.168.1.88,3479
     in the fenice.conf file.

commit 7d7467463319ec1f92793fdd690bb775fd6a9dc2
Author: federico <federico>
Date:   Wed May 31 13:50:38 2006 +0000

    StunServer works with 2 attributes: MAPPED-ADDRESS and SOURCE-ADDRESS

commit b066e6ee36dc9100f414307d55054b438a1af9cb
Author: federico <federico>
Date:   Fri May 19 07:30:42 2006 +0000

    Started received side part of stun module

commit 08f036582a4424390ab8a1278bc276d2edd9e40d
Author: federico <federico>
Date:   Mon May 15 07:04:28 2006 +0000

    developed functions usefull to create the attributes of a stun message

commit e344db1017265f86d996dcc637d5f56954a4f421
Author: federico <federico>
Date:   Mon May 8 06:37:18 2006 +0000

    Resumed stun module

commit 7db5cd764992ce073d2b120e4d363b145a5df2b2
Author: federico <federico>
Date:   Thu Mar 23 17:08:47 2006 +0000

    Socket handling

commit 15a7646285585addc094d54c227cf806504ab19e
Author: federico <federico>
Date:   Wed Mar 22 12:34:44 2006 +0000

    Some lines added...

commit 59e16ef281ce554dd626053cee56d3655cfa4591
Author: federico <federico>
Date:   Thu Mar 16 17:58:02 2006 +0000

    I'm trieng to resolve this bordel

commit f30fb90f29299aebc09d6141f6eff6c9689ee48c
Author: federico <federico>
Date:   Wed Mar 15 11:26:33 2006 +0000

    StunServer State Machine added but not finished

commit caa068b103d0d105cd26258e99a6862978177856
Author: federico <federico>
Date:   Tue Mar 14 16:23:08 2006 +0000

    free_pkt_dev function added

commit 264c303b0fb60800ad1c101466839bfade522207
Author: federico <federico>
Date:   Tue Mar 14 15:11:39 2006 +0000

    Common create_address function added

commit 1033a09cea7aea6feee81e95497c2ed7a7f607ee
Author: federico <federico>
Date:   Tue Mar 14 14:25:52 2006 +0000

    I'm working to build the whole structure for the STUN protocol.

commit a772effaad9d73c1671b85524742f8fc84b0285d
Author: federico <federico>
Date:   Mon Mar 13 18:06:20 2006 +0000

    Stun module is working in progress.

commit e73356bcade902426cf1baa5e80f999eea3cc983
Author: federico <federico>
Date:   Fri Mar 10 17:20:32 2006 +0000

    parse message functions is going to be implemented

commit c6e839541c4d08a330e90aa4f0581be5280607bf
Author: federico <federico>
Date:   Thu Mar 9 18:02:50 2006 +0000

    i'm implementing stunserver module. OMSStunServerInit should be implemented.

commit 41ac7e9939f236aad50b28f1aaa2fff41e5935a3
Author: federico <federico>
Date:   Thu Mar 9 14:39:36 2006 +0000

    implemented structs for Stun Server

commit 73102052a13d609335e6ac0a306bac57c75af291
Author: federico <federico>
Date:   Wed Mar 8 17:27:17 2006 +0000

    Minor improvements

commit 845b29cc651c3794e119365df1c2a32698ee537c
Author: federico <federico>
Date:   Wed Mar 8 13:27:07 2006 +0000

    - stun: dir containes the attributes (Fenice/NeMeSI)
    - stunserver: dir containes server message. In this first release only
    		binding_response and binding_error response are
    		implemented. (Fenice)
    - include/stun: header files for stun (Fenice/NeMeSI)

commit 34d1d81d48953e99f7368d039633048f0148a2d6
Author: federico <federico>
Date:   Tue Mar 7 16:56:07 2006 +0000

    structs for Protocol Details(see RFC-3489 section 11.) are implemented.

commit 6dd5276659132438ebacac7517354cdc695b9fa1
Author: shawill <shawill>
Date:   Mon Mar 6 14:40:11 2006 +0000

    svn:ignore properties set to stunserver

commit a31ef37a2788d940772b8ed852f16a317623b5e2
Author: federico <federico>
Date:   Mon Mar 6 14:23:34 2006 +0000

    Stun is work in progress.
    Notes:
    	- include/fenice/stun.h is a client/server definition header
    	so i will use the same header in NeMeSI
    	- in Fenice i'm developing only the stun server facilities

commit 03c3d250393527b525e2121b81c2f51804d0d3fe
Author: federico <federico>
Date:   Fri Jan 13 12:04:56 2006 +0000

    Old socket removed

commit d9989cee578471248956bf80537238ce2fdd292e
Author: shawill <shawill>
Date:   Thu Jan 12 13:06:36 2006 +0000

    added svn:externals property to link to netembryo svn repository

commit d51e2c20ae38af67def716890860efdcf52e1dd7
Author: shawill <shawill>
Date:   Thu Jan 12 12:57:35 2006 +0000

    deleted wsocket and include/netembryo dirs in order to use svn:externals property
    and link external library netembryo

commit ca359c7b7289122ef626a99f4ddfb7aef638c45b
Author: federico <federico>
Date:   Thu Jan 12 12:04:05 2006 +0000

    wsocket library is now interchangeable with NetEmbryo (cut&paste of wsocket directory and netembryo/wsocket.h is now permitted between NetEmbryo and Fenice)

commit 5d9d15593477f68e7baa1f5fbdec05aa5c9771a9
Author: federico <federico>
Date:   Thu Jan 12 11:39:57 2006 +0000

    Added get_local_hostname function

commit 06cca1f256e13f9754db88ca04f39c45519582fb
Author: federico <federico>
Date:   Wed Jan 11 17:56:43 2006 +0000

    Added safe-ctype from wget
    Multicast support with NeTEmbryo Library
    TODO:	- clean up old socket
    	- add multicast port on SD description

commit bbb373a3de13802948fb0012a6a7eac97f1689b6
Author: shawill <shawill>
Date:   Wed Jan 11 16:50:56 2006 +0000

    sdp2 CC licenses added.

commit 2e6a412c084a7b230e426eb7b9f1715de4e137c2
Author: shawill <shawill>
Date:   Tue Jan 10 17:23:53 2006 +0000

    new sdp_private management

commit 4c504c44e6432df3dd2d787bcc95214b59042f80
Author: federico <federico>
Date:   Tue Jan 10 16:43:24 2006 +0000

    Performed RTP unicast with netembryo library
    TODO: - multicast
          - clean up old socket (say goodbye to them 'cause i'm going to delete them forever!!!)

commit 59b571dbdd525759064e87849daa3b3eed77c87c
Author: shawill <shawill>
Date:   Tue Jan 3 13:15:13 2006 +0000

    found an ugly bug in MObject_alloca... simply alloca or g_alloca cannot be used in this way.
    For the moment and, if not needed anymore, it was commented.

commit 80bcadb95195920c26936246a755b623357e5c8a
Author: federico <federico>
Date:   Thu Dec 29 17:54:17 2005 +0000

    NetEmbryo library plugged for rtsp (TCP) socket.
    For UDP socket i'm working...

commit 7db074bbc9751aed6e266f884068cb13526dc5c6
Author: federico <federico>
Date:   Wed Dec 28 19:55:29 2005 +0000

    NetEmbryo library: one step more in clamming it
    docs: TODO new man page as soon as possible
    sdp2: sdp_session_descr declaration according to sdp_session_descr.c
     corrected.

commit e2ff44efe35efca139d0596adb94612053ae093f
Author: shawill <shawill>
Date:   Fri Dec 16 12:44:49 2005 +0000

    some little bugfixes in mediaparser initialization a media recognition.
    Now each "dimanically changeable" media is listed in "m=" SDP line.

commit dd76976f89499e27ca6e4b8b19d758bca444c49e
Author: shawill <shawill>
Date:   Thu Dec 15 16:54:48 2005 +0000

    added support for dimanic payload change in sdp2.
    In MediaThread, in particular in r_descr_get_media function, each media
    with the same name and the same type (audio, video, ...) is grouped in a
    list where the first is the default media, while the others are candidates
    for payload changes.

commit f0996ee85cf5c9ef3c4a27e748cface46c591a7b
Author: shawill <shawill>
Date:   Wed Dec 14 17:04:57 2005 +0000

    finding a solution to group all media of the same type that can be put in the same "m=" block.

commit 27e3fbcb7c615258649196f59c2cc2403d8e2954
Author: shawill <shawill>
Date:   Wed Dec 7 17:30:21 2005 +0000

    added function for media description

commit d7d63b36768748cf630fed8d44582431af108c58
Author: shawill <shawill>
Date:   Tue Dec 6 17:30:06 2005 +0000

    sdp2 session level description almost done.

commit 84ab75081dd871509104832d959aac6a9db31403
Author: federico <federico>
Date:   Tue Dec 6 15:59:07 2005 +0000

    Sock_set_props added
    Patched RTSP_setup
    Using of wsocket is started in src/main.c

commit a2aaf49e2e3ba8d28bb70f2fb3c1e0dbede87398
Author: federico <federico>
Date:   Tue Dec 6 11:28:20 2005 +0000

    Chance sock_ntop_host function name to resolve some conflits with wsocket

commit 26e5270a34c407718b7444424e79b3fa5be2920e
Author: federico <federico>
Date:   Tue Dec 6 11:24:02 2005 +0000

    Conflits resolved before using wsocket

commit 670e073398a837545235287ea6d8272d283785b9
Author: federico <federico>
Date:   Tue Dec 6 10:44:50 2005 +0000

    Added Sock_compare.

commit bdc2558a1eb7c5056f427c46a68b7aa584f76844
Author: shawill <shawill>
Date:   Mon Dec 5 16:59:24 2005 +0000

    some other sdp2 properties

commit d181ed85571443f78d2be6c13c2d740284a0ef7b
Author: federico <federico>
Date:   Mon Dec 5 10:49:34 2005 +0000

    Cleaning

commit 8e9c0d96f6e6a9f604da84ab3e8c37e1c8f1b6a1
Author: federico <federico>
Date:   Mon Dec 5 10:47:00 2005 +0000

    Added NetEmbryo (NEuTrino) socket library

commit e98baa5f2f8b2e3b1bb1a1b34fb6356420430eb0
Author: shawill <shawill>
Date:   Fri Dec 2 19:08:36 2005 +0000

    sdp2 o= parameter completed.

commit 36a40307bae0c06039eb340b03eb2f1dd91bb506
Author: shawill <shawill>
Date:   Thu Dec 1 17:18:00 2005 +0000

    sdp2 implementation started

commit f003a74b3b9ed7503d25640422afa5a72f6f4e84
Author: federico <federico>
Date:   Tue Nov 29 13:22:12 2005 +0000

    Sorry... deleted mpeg_utils.h from include/fenice/Makefile.am

commit cb8070731e2f5bcdf09dc1b08366f3b73071ad5a
Author: federico <federico>
Date:   Tue Nov 29 13:19:03 2005 +0000

    Changed interface to packetize (uint32 *dst_nbytes replaced uint32 dst_nbytes)
    Added right mpeg12 elementary stream parser (tested with NEuTrino)

commit 792e63d1ccec1497a6b51e7ba3703e76d177320a
Author: shawill <shawill>
Date:   Tue Nov 15 11:05:15 2005 +0000

    Merge from trunk r240

commit bb21d1278c4f07b99a8b38926efda4d1c850234f
Author: shawill <shawill>
Date:   Fri Nov 11 17:49:39 2005 +0000

    mpegaudio bugfixes

commit 20a05b0ede01206dfae09a62c27dd79473acfd43
Author: shawill <shawill>
Date:   Fri Nov 4 17:14:17 2005 +0000

    lu_zero patch for some little errors.

commit b747323c6899b68c5799370f12de200cacb3e721
Author: shawill <shawill>
Date:   Wed Nov 2 17:59:32 2005 +0000

    new sdp2 dir... will replace sdp

commit e312742d919408abf801f26364a30c59d3d3bed5
Author: shawill <shawill>
Date:   Wed Oct 26 10:15:41 2005 +0000

    I guess sdp should be re-done...

commit a1bfd05ebfece4d2ec6cf934444bff243271e01c
Author: shawill <shawill>
Date:   Thu Oct 20 15:36:51 2005 +0000

    added descriptionAPI file to wrap the description structure elements.
    Tring to migrate get_SDP_descr from mediainfo to mediathread.

commit 4f1633539706a33918e2943a0c638e4e9520ab31
Author: shawill <shawill>
Date:   Wed Oct 19 17:07:37 2005 +0000

    r_descr_get implemented for getting resource information.
    Some bug fixes in cache description list.

commit 5a57901d68661bd436d75911d64e0cf01aefda6c
Author: shawill <shawill>
Date:   Tue Oct 18 17:38:59 2005 +0000

    add_track modified: now media parser gives it some hints and add_track manages all the initializations (parser, InputStream, ...)

commit c9a5fe4ae5940579137b44cb8237481290a52c01
Author: shawill <shawill>
Date:   Mon Oct 17 16:19:05 2005 +0000

    Starting to put together rtsp and new media thread.

commit 0e76c9b9c4fe0cbd389661c1fefe9ed2c794f5e7
Author: shawill <shawill>
Date:   Fri Oct 14 14:48:01 2005 +0000

    Resource Description cache almost done.

commit ec10798720b8b47537691970e2054a42756377bc
Author: shawill <shawill>
Date:   Thu Oct 13 15:23:10 2005 +0000

    The road to Resource Descrption cache...
    new media utils that manage media objects for struct sharing with count of references.

commit a5d1d06d96d7f29b33fb132195d7cbb823c64a0c
Author: shawill <shawill>
Date:   Mon Oct 10 16:03:02 2005 +0000

    parse_mrl function added to INputStream

commit 1616023aee916c034ea4bc339e5b9045f89f1e5a
Author: shawill <shawill>
Date:   Tue Sep 27 08:13:13 2005 +0000

    MPA now supports fragmentation for small rtp packets.
    Little change in MediaParser interface:
    packetize function takes a double parameter for timestamp return value (pointer
    to double) and the timestamp will now be considered in second and not in
    milliseconds.

commit 45d64f5842cc1ea4f9e0096d80950120b5bffcf8
Author: shawill <shawill>
Date:   Sun Sep 25 10:15:39 2005 +0000

    fixed a HUGE conceptual C bug in read_c (cache.c)
    completed mpegaudio.
    added log_file param in fenice.conf.in template.

commit e1d7dfe0b330734f01bda68ebbfca88d959f9fab
Author: shawill <shawill>
Date:   Thu Sep 22 16:17:45 2005 +0000

    mpegaudio almost finished... to be debugged.

commit 115e9797dd33ec1b2efcf75711ee9caf929ad69d
Author: shawill <shawill>
Date:   Wed Sep 21 16:48:27 2005 +0000

    MPA improvements for MPEG 1/2/2.5.

commit 1c8d1bb0215652ec1a85344f1361f8af972a9779
Author: shawill <shawill>
Date:   Tue Sep 20 16:40:49 2005 +0000

    media parser search: done.
    mpegaudio tunings (not yet completed)

commit f6279b62a4ec4c87c61e31ec4c90ca8107b6c11d
Author: federico <federico>
Date:   Fri Sep 16 10:50:00 2005 +0000

    Mpeg audio support finished in mediathread. Now fragmentation is supported

commit 80ac8ef93e6ad3959fabd22a6f8e8ad96d43e7d1
Author: shawill <shawill>
Date:   Fri Sep 16 10:10:31 2005 +0000

    sd demuxer init itself.

commit 4814e17008ad8b3be74876fa56162788b31a6e92
Author: federico <federico>
Date:   Thu Sep 15 16:35:49 2005 +0000

    DONE: mpegaudio get_frame2
    TODO: mpegaudio packetize ... tomorrow ... i hope :-)

commit 3f6e3dee22acf4edbf92ff4af1e1dc8a1b8c2297
Author: shawill <shawill>
Date:   Thu Sep 15 16:09:07 2005 +0000

    Adding Track open to sd demuxer.

commit 1d4db1db958b0c3d39914e5a898ad8ecb47d9e8b
Author: shawill <shawill>
Date:   Wed Sep 14 16:43:48 2005 +0000

    GLIB_CFLAGS and GLIB_LIBS added for glib inclution and first uses of GList for exclusive tracks in demuxer.

commit 9fb0a3e20609eb6a4ff764356dd128c7e7df647f
Author: federico <federico>
Date:   Wed Sep 14 12:15:44 2005 +0000

    Support for MPEG AUDIO is going to insert in mediathread

commit d281b672be42fa04dd21e30fdce51973355e62ef
Author: shawill <shawill>
Date:   Wed Sep 14 10:56:51 2005 +0000

    New check for Glib in configure.ac.
    Fenice will use it from now.

commit b881ee6a87a61ebacda9af7f29b1f46598e23e3b
Author: federico <federico>
Date:   Tue Sep 13 15:10:05 2005 +0000

    Mpeg 1 or 2 Support added (not tested yet).

commit 5d7bab201cba54dfb4d427b60fd355138038f8c8
Author: shawill <shawill>
Date:   Fri Sep 9 15:55:22 2005 +0000

    r_open fixes in demuxer
    demuxer_sd init fixed.

commit d8e10af19622cdcb178c78aafdb7f5723bec4ef9
Author: federico <federico>
Date:   Fri Sep 9 15:35:43 2005 +0000

    One step more in adding MPEG 1 or 2 support

commit 0dc4372a37e71b9a3c15897eb3e7b04fa09164d1
Author: federico <federico>
Date:   Thu Sep 8 17:01:45 2005 +0000

    suppot for mpeg 1 o 2 is working in progress in mediathread/mpeg12.c
    DONE:
    	- init
    	- packetize
    TODO:
    	- usefull functions to parse mpeg header
    	- uninit

commit 31f06b1ad4cf3b53a903dab951dc7450340d7dfe
Author: shawill <shawill>
Date:   Thu Sep 8 16:56:16 2005 +0000

    Media parser recognition.
    warning fixed in MediaParser.

commit 35bb71aeca3aa2207094451ddc3bf0b5ececb692
Author: shawill <shawill>
Date:   Wed Sep 7 16:33:24 2005 +0000

    First demuxer (sd) steps: some code running...
    still some changes to media parser interface.

commit 26fc6ba2e5d41744ee113bddb232f59860ba06a0
Author: federico <federico>
Date:   Wed Sep 7 14:11:27 2005 +0000

    Mpeg 1 or 2 parser is going to be implemented

commit 514da0fa7a9127f97007030d59054c5ef58fea8f
Author: shawill <shawill>
Date:   Wed Sep 7 10:44:26 2005 +0000

    Little changes in MediaParser interface.
    fixes in demuxer.c

commit 7659e90eccc528f4c0fd88b3072c60a84d51d3ee
Author: shawill <shawill>
Date:   Tue Sep 6 17:23:46 2005 +0000

    error correction

commit d393450510ef3a99ec8efdd7c7718d1fac60600f
Author: shawill <shawill>
Date:   Tue Sep 6 17:12:36 2005 +0000

    MPEG 1-2 (MPV) module defined.

commit 6ef1a569b4ea6f2aed4c523468daed28da332d84
Author: shawill <shawill>
Date:   Tue Sep 6 17:07:38 2005 +0000

    Some changes in mediaparser.
    Mediaparser_module.h created to make persers even more independent from core.
    Media properties merged in one big structure.

commit 7182fe2c7848382268040c09fdebb45e2da13839
Author: federico <federico>
Date:   Tue Sep 6 16:48:16 2005 +0000

    Reordering: mpeg_utils (next_start_code ecc...), get_file (in utils)

commit e30f906b68cc2fa7454d7955926cd58301b3ac26
Author: shawill <shawill>
Date:   Tue Sep 6 11:57:43 2005 +0000

    Defining media parser interface:
    added mediaparser_module.h header useful to implement media parser modules.

commit bebf1ef88aaba07ea0a2905e835055453451b2ad
Author: federico <federico>
Date:   Mon Sep 5 16:12:55 2005 +0000

    work i progress to develop new support for mpeg 1 or 2 es.

commit abbb351a98d8d7a4570fc1a74e3476382fc56552
Author: shawill <shawill>
Date:   Mon Sep 5 16:07:06 2005 +0000

    resource.h moved to demuxer.h again.

commit 8498bc898161a412e66affa857dd250b4c53b5de
Author: shawill <shawill>
Date:   Mon Sep 5 16:06:12 2005 +0000

    New demuxer_module.h header:
    This way should be easier to add demuxers, and fenice should be more modular.
    In future, each demuxer could be a external .so lib.
    In this revision the file demuxer.h was wrongly renamed resource.h and so the revision won't compile.

commit 4dedad7c6adb0b593a0658795d85fdb68270a8fc
Author: shawill <shawill>
Date:   Wed Aug 31 13:16:24 2005 +0000

    Merge from trunk 178:199

commit f8c3727c3b1032bfc66672efa5660dd50613d01c
Author: federico <federico>
Date:   Wed Jul 13 11:58:52 2005 +0000

    first step for registering MediaTypeParser functions.

commit 29257c8f8ef9613d7dea3f3fb9002398d7081899
Author: shawill <shawill>
Date:   Tue Jul 12 17:17:45 2005 +0000

    mediathread implementation start
    some changes in InputStream.c

commit e6e7d39c25eedf0e14b92f2dec4b8c5e9177486b
Author: federico <federico>
Date:   Tue Jul 12 11:26:08 2005 +0000

    erased some warnings

commit 5e3b2c19aaf264e9ff310961e88b4b3ea5a2ebb3
Author: federico <federico>
Date:   Tue Jul 12 10:29:07 2005 +0000

    mmm, i will go to the seaside as soon as possible, for now i'm doing a commit more.
    Demuxer for sd file is going to finish...

commit c6ccb90d36007e0aa9021071ec733d6216c1c2d4
Author: federico <federico>
Date:   Mon Jul 11 16:02:03 2005 +0000

    a commit more before the seaside :-)

commit 367a31c95e4ff1baff766ba1db2f08ac0d466935
Author: federico <federico>
Date:   Fri Jul 8 13:48:23 2005 +0000

    step by step... we are going to the sky

commit 6628436f751a0962490d21ba4ccf43fa2c4d3691
Author: federico <federico>
Date:   Thu Jul 7 15:30:43 2005 +0000

    as a turtle, one step more..

commit 609e8351121ab0cefcd739cb93c201d0fa7cdc9b
Author: federico <federico>
Date:   Wed Jul 6 14:44:49 2005 +0000

    little re-organization for registering demuxer

commit 7241420f63d92fcbe1efa6c4bafb7fa27c92e34e
Author: federico <federico>
Date:   Tue Jul 5 14:16:59 2005 +0000

    ....opsss...sorry, an error :-)

commit 8bacff07e6bdcac222d18b451010c73809bf02d9
Author: federico <federico>
Date:   Tue Jul 5 14:02:43 2005 +0000

    ...continue...

commit 41bbb465d4d0f3cb2af0df261d301e420c9dfa40
Author: federico <federico>
Date:   Tue Jul 5 11:43:39 2005 +0000

    hard implementation in progress

commit 5564dce9e5656f2f0e1c723a51f5f382456b405e
Author: shawill <shawill>
Date:   Fri Jul 1 11:05:17 2005 +0000

    Some mrl parsers.

commit 32067ff4552da1d09c3d3a7e8d9ea8c332a0a5be
Author: shawill <shawill>
Date:   Fri Jul 1 09:46:38 2005 +0000

    Media thread startes!

commit 4079d25aebfe939fd72acb04d321d88f4808a44e
Author: federico <federico>
Date:   Thu Jun 30 16:06:21 2005 +0000

    Finished InputStream functions for file handling (not finished for net or device).
    Next step is to finish demuxer.

commit 018a12ae09ed33ffbc524da4507380f4a826be98
Author: federico <federico>
Date:   Thu Jun 30 11:02:01 2005 +0000

    Added parse_mrl function

commit d579b5b6232fe94b2d18b06d4c3ad21602f3a264
Author: federico <federico>
Date:   Wed Jun 29 11:45:54 2005 +0000

    Added private structure for sd demuxer

commit 80043bc321e566c3b4e60da002272426628d0e3f
Author: shawill <shawill>
Date:   Tue Jun 28 15:22:57 2005 +0000

    merge from trunk 167:177

commit 6743d4d1e25f2242e80971c3b06256bd8bea6c29
Author: federico <federico>
Date:   Tue Jun 28 15:20:38 2005 +0000

    First step in order to add demuxer for sd file.

commit 73bc6f20b1ed46f14b5abe4cfbc2f783c0e6ad41
Author: shawill <shawill>
Date:   Tue Jun 28 13:39:46 2005 +0000

    Optimized some new functions,
    removed some warnings in mpeg and mpeg4 functions.

commit 339f5e2be8e55aa91e66115d4135847f29a20f5c
Author: federico <federico>
Date:   Tue Jun 28 09:49:21 2005 +0000

    Demuxer.c contains the functions to handler the demuxer

commit 1913caf989c112185e65195e442de66fa69222cf
Author: federico <federico>
Date:   Tue Jun 28 09:46:33 2005 +0000

    A step more...

commit 87d3179429f4a738a173266d109ea170fee6308b
Author: shawill <shawill>
Date:   Tue Jun 28 09:24:38 2005 +0000

    Now it compiles with new dir mediathread.
    - renamed log level FNC_LOG_ERR_FATAL with FNC_LOG_FATAL
    - configure checks the presence of "struct sockaddr_storage"
    - tcp_accept and tcp_read adapted to "struct sockaddr_storage"
    - sock_ntop_host function added to generalize inet_itoa
    - corrected some sysntax and conceptual errors in MediaParser, InputStream and demuxer headers
    - corrected some sysntax and conceptual errors in cache.c source file
    - changed some little indentations in new files.

commit 8ae957a0a44b10d6bb4c47be7d3faa57d7db7997
Author: federico <federico>
Date:   Mon Jun 27 16:22:06 2005 +0000

    some functions developped. InputStream.c contains the functions by which the structure InputStream is handled

commit 1375a5f9a95fc668af9b0a21fc54ef71668ee583
Author: federico <federico>
Date:   Mon Jun 27 14:38:30 2005 +0000

    cache.c contains the functions by which Cache is handled

commit aad1e951552472fe75e69a90d7c77f02154dbbaf
Author: federico <federico>
Date:   Mon Jun 27 10:11:19 2005 +0000

    May be, all structures are declared

commit 0b8d1258595431ad2551c5c6b23b1cc29280c625
Author: federico <federico>
Date:   Wed Jun 22 17:01:11 2005 +0000

    mediatrhead dir added.
    Declared:
     - Demuxer interface
     - RTSP/RTP vs mediathread interface

commit 035712ec338082bf9400ac337a30290747253243
Author: federico <federico>
Date:   Wed Jun 22 12:57:46 2005 +0000

    Starting fenice next generation.
    Prepared headers for new stream handler.
    Structure:
    
    +-----------------------------+
    | pipe, file, udp, tcp, device|
    +-----------------------------+
             |
    +-------------------+
    |   InputStream	    |
    |   (with cache)    |
    +-------------------+
             |
    +-------------------+
    |   Demuxer	    |
    +-------------------+
             |
    +-------------------+
    |   MediaParser	    |
    +-------------------+
             |
    +-------------------+
    |   OMS_bufferpool  |
    +-------------------+
             |
    	 ...

commit 9b6fc8f82932d915dba48f810b70355024da4941
Author: shawill <shawill>
Date:   Mon Jun 20 18:06:54 2005 +0000

    New branch for the BRAND NEW GREAT FENICE Next Generation (or Neon Genesis)

commit e4b4abf5bc3f5ac800a1e645e65811230c4ca82f
Author: federico <federico>
Date:   Mon Jun 6 11:53:36 2005 +0000

    Fixed a little bug in RTCP scheduling.
    Sending RTCP packets is moved in the same thread where they are created to avoid
    concatenation of different RTCP pkts before send them.

commit f80ae3455810123ba5b7e813e0655b2cab7e20b5
Author: federico <federico>
Date:   Tue May 31 10:36:16 2005 +0000

    bugfix (no 100% CPU usage)

commit 0f3d532e35a4729db39a3308e41c7e15ca78de83
Author: federico <federico>
Date:   Fri May 20 16:19:09 2005 +0000

    First step in order to club new scheduler.

commit 72edcfaeac54054f92237e9ccea05fc621b625a1
Author: federico <federico>
Date:   Fri May 20 09:10:17 2005 +0000

    Cleaning up.

commit f53525b8ae1c73ba015fc1669c0e50af27427bbb
Author: shawill <shawill>
Date:   Thu May 19 14:06:44 2005 +0000

    Fenice now recognize if the source tree is from SVN or from release.

commit 4079bb78ead5794cf8b568301371a38f9808a4f4
Author: shawill <shawill>
Date:   Thu May 19 08:21:26 2005 +0000

    syntax error repaired.

commit 84993cad08554f93a91664986a2e2e0f924d6922
Author: federico <federico>
Date:   Mon May 16 17:38:49 2005 +0000

    Some "ghosts" driven away with valgrind :-)

commit 13db167426340666b330a9357bfe3ae8705a0191
Author: federico <federico>
Date:   Fri May 13 18:22:31 2005 +0000

    Sorry, a mistake ...

commit cad73a615197465fdca3ff6ec803422245785191
Author: federico <federico>
Date:   Fri May 13 18:15:00 2005 +0000

    Fenice can now dumps the payload. Please use it only for very
    strong debug.

commit 65463b2676d36a0c4f529c60bd52fbd805705f65
Author: federico <federico>
Date:   Thu May 12 16:51:44 2005 +0000

    Handling of User-Agent in Fenice logger

commit 21f604035bdad112e2ee1302be183f3a2a2c408b
Author: federico <federico>
Date:   Thu May 12 14:55:17 2005 +0000

    Some steps more in order to have a CLF

commit b0cf7e3c827791db140ab3965a14a67386eca185
Author: federico <federico>
Date:   Wed May 11 12:53:46 2005 +0000

    First step in order to have a CLF style.

commit ae66c5ee91563052239ad200f74bbf6744f8bceb
Author: federico <federico>
Date:   Tue May 10 17:38:14 2005 +0000

    Added logging for:
    1) User-Agent
    2) Address of the client

commit bf555ae1fdd6b3a68a0391c51602720370fcc531
Author: federico <federico>
Date:   Tue May 10 16:04:06 2005 +0000

    Opsss, i forgot a log message.

commit 92d1ec9d6d8d74d4ccdfdad1e5660711de7e6c14
Author: federico <federico>
Date:   Tue May 10 12:56:48 2005 +0000

    fenice logger finished.

commit 70d9864c336476460880b506a283a015dee0bf9e
Author: federico <federico>
Date:   Mon May 9 17:35:14 2005 +0000

    Fenice logger: start to use it

commit 2dd466b87215ca5cb700f20e8474d38b5698af76
Author: federico <federico>
Date:   Mon May 9 14:35:52 2005 +0000

    Added fenice logger. Possible solution are:
    
    1)stderr with -v option (see fenice --help)
    2)default log file (see configure --help)
    3)log_file="<your_log_file" in your fenice.conf
    4)if no -v option presents and it's impossile to write the selected log file then fenice uses syslogd with daemon.log. If it is impossible to use syslog system then stderr is used.
    
    please use:
    
    fnc_log(int level, const char *fmt, ...)	/*fprintf style*/
    
    where possible levels are (for now):
    	        #define FNC_LOG_ERR 0
    		#define FNC_LOG_INFO 1
    		#define FNC_LOG_WARN 2
    		#define FNC_LOG_DEBUG 3

commit 8401f1d5c19a04a867e8f8033447ce3465890edd
Author: shawill <shawill>
Date:   Wed May 4 15:22:44 2005 +0000

    I forgot a debug messagge.

commit 899b7f490b475b0e7f65bb32896d7ed55a2d9a31
Author: shawill <shawill>
Date:   Wed May 4 15:19:39 2005 +0000

    Bugfix for pref.serv_root:
       if the string doesn't end with a slash, it will be added.

commit ce318e97924d9f7860b14072cf84a5744bab23c3
Author: federico <federico>
Date:   Tue May 3 14:48:09 2005 +0000

    Buxfixes in timestamp for mpeg4 video + audio live session

commit 3f96c6676675617a2b6a4d19a92f0fc2cc466873
Author: shawill <shawill>
Date:   Fri Apr 29 11:07:58 2005 +0000

    bufferpool bugfixes.

commit 2efa74c6f9a5ab5ce33e9923dff9b7dc0db285f9
Author: federico <federico>
Date:   Mon Apr 18 14:01:31 2005 +0000

    Replaced right timestamp for mpeg4 live session with B VOP TYPE.

commit ca20f81459200eb4e0c837273d987faa2dd515ab
Author: shawill <shawill>
Date:   Mon Apr 18 10:23:47 2005 +0000

    Set codec internal data pointer to NULL after the codec-dependant free function
    call in order to be shure no to address the deaalocated struct anymore.

commit bd977cf832561429d44dc2929c985699712c7e44
Author: shawill <shawill>
Date:   Fri Apr 15 17:58:55 2005 +0000

    mediaclose now closes also pipe fd. these way Felice is able to recognize if the reader is active and can decide not to drop packets.

commit 2b2afa22ad635d38f13245bab9a833c3ba72b541
Author: federico <federico>
Date:   Fri Apr 15 17:11:47 2005 +0000

    Some usefull control in order to correct mpeg 4 video es timestamp if there are some errors in bitstream.

commit 5e27348d52644d9bfe4cd2e012036f0101177be8
Author: shawill <shawill>
Date:   Thu Apr 14 07:46:31 2005 +0000

    Bug fix in function that closes media: the parser specific free function must
    be called only if the media is relly closing.

commit c72f0d37b098e793479e9496e970b446ef026c12
Author: federico <federico>
Date:   Tue Apr 12 17:10:49 2005 +0000

    Cleaned mpeg4 timestamp

commit 9a330e3edc3ef9748940f6cdaa9e1d8c4b970702
Author: federico <federico>
Date:   Mon Apr 11 14:17:18 2005 +0000

    Fixed some bugs

commit 4a9d86361be355a4866b6076ff9ceb44319ad1df
Author: federico <federico>
Date:   Fri Apr 8 10:23:47 2005 +0000

    Cleaning load_L16, load_GSM, read_GSM

commit a76e132bb963e2e7187d52d1d2c08c29792c05f8
Author: federico <federico>
Date:   Thu Apr 7 16:52:54 2005 +0000

    Cleaning up validate_stream and load_*

commit 9a5b1532c6fa9c2d1316df22c790a704af08f31d
Author: federico <federico>
Date:   Tue Apr 5 14:59:02 2005 +0000

    OneTime i hope it'll work in all situations: timestamp mpeg4 video es.

commit 52ee70dfa692f07169785add41a330447bd9bf39
Author: federico <federico>
Date:   Mon Apr 4 17:25:09 2005 +0000

    Audio + MPEG 4 ES video just works!! (really not fine in all situations).
    I'll finish in the next commit (i must think on something in order to do it), please wait.

commit 4640e052413a9b046eda4f06ee816fd736dc5da9
Author: federico <federico>
Date:   Tue Mar 29 15:03:49 2005 +0000

    Some bugs fixed.
    Note: Fenice is also compatible with winamp+in_rtp.dll.
    You can dowload in_rtp.dll from: http://www.live.com/multikit/windows/in_rtp.dll
    and add it in your winamp plugin directory (usually "C:\Program Files\Winamp\Plugins").
    So,i using winamp, winzoz user can listen mp3 streamed from Fenice.

commit a81915b284f23f416915b51b9ed8e37862d9c85c
Author: federico <federico>
Date:   Thu Mar 24 12:15:17 2005 +0000

    New media support handling.
    Now read_X, load_XPT and the new free_XPT are function pointer.
    Separated header file for each media type support.
    WARNINGS: do not release this, tests are in progress :-)

commit 07c743c6a45bf6c65b9dfd63d5ad638f927d25be
Author: shawill <shawill>
Date:   Tue Mar 22 17:41:59 2005 +0000

    Bufferpool writing procedure changed:
    now even if a slot is requested with OMSbuff_getslot the writer position inside
    buffer queue is not yet updated and, at the end of operations with requested
    slot, OMSbuff_write MUST be called for committing written slot.
    The OMSbuff_write understands that the slot was previously requested and do not
    get a new one, it just upgrade the slot paramenters and buffer writer position,
    refs and seq.

commit 1f062d8162780c971314430e1d176a3b9786c6a5
Author: mancho <mancho>
Date:   Tue Mar 22 15:11:07 2005 +0000

    Preparing release 1.9.

commit 538f242bafd0e61ea6bc1a251ac1bef5dbbaad2f
Author: shawill <shawill>
Date:   Mon Mar 21 18:33:48 2005 +0000

    RTSP lines now end with CRLF accordingly with rfc.
    Real Audio+Video compatibility regained.

commit 9b73131134bc03fda56816761cf519038bcef82c
Author: federico <federico>
Date:   Mon Mar 21 17:11:02 2005 +0000

    - final MPEG-4 video ES parser
    - separate header and structure for all video format support
    TODO:
    	- "config=" in sdp for MPEG-4 video ES
    	- free functions for all media format supports
    	- separate header and structure for all audio format supports
    TEST in progress:
    	- bit rate and video quality with MPEG-4 video ES
    	- MPEG-4 video ES live support

commit c34ea4e015779be741d24e1af9fe171c68bdc02e
Author: federico <federico>
Date:   Thu Mar 10 18:39:09 2005 +0000

    mpeg4 video live support not finished.
    config in sdp not finished.
    I need one commit more. Wait please!

commit f0c342aa021d5f04dde5c9ad897fc0df3ad06db9
Author: federico <federico>
Date:   Thu Mar 10 12:46:41 2005 +0000

    Full mpeg 4 video es support added. A complete parser was written and so all profiles are suppoted.
    dump_payload.c is used ONLY for STRONG debug (see mediainfo/get_frame.c).
    TODO: right profile-id and config in sdp (you 'll see them in the next commit, please wait!).
    NOTE:
    	1) vcodec: mpeg4
    	2) format: m4v

commit 369e42697a0971cc1a4ecf8071a3a115ccb3cddf
Author: federico <federico>
Date:   Tue Mar 1 16:05:39 2005 +0000

    First step in order to add mpeg2 TS support.
    read_MPEG_system is disabled.

commit 2ca78a74cc36bfe10ccb21693e5449918bdad72c
Author: mancho <mancho>
Date:   Tue Mar 1 14:43:02 2005 +0000

    Release 1.8

commit 4b2c620d2480599a22ba420083253da81511dc4d
Author: mancho <mancho>
Date:   Tue Mar 1 14:36:57 2005 +0000

    Updating to 1.8

commit 2ad660ed21f3ac12434fd497b417f7cde0c86b0d
Author: mancho <mancho>
Date:   Tue Mar 1 14:23:40 2005 +0000

    - Fixing the mess made with :diffput. Sorry.

commit e6fc8555c6e49e634723904a91f42d04f3ef5329
Author: mancho <mancho>
Date:   Tue Mar 1 12:40:50 2005 +0000

    - Changed email address in various files.
    - Documentation build stage improved: now it should build cleanly both in Debian and Gentoo.
    - Updated the Fenice HOWTO.
    - Updated version number.
    - Pre-release (1.8).

commit 266d31e5e695f9ff9bb5b926c51378cd2a34d6ff
Author: mancho <mancho>
Date:   Mon Feb 28 14:48:30 2005 +0000

    Merging Debian-package build directory in the official source tree.

commit 31c5e71af0285b34f09cfc988fc0350393e1463b
Author: federico <federico>
Date:   Thu Feb 24 17:31:30 2005 +0000

    Video compatibility to RealOne10Gold5.
    TODO:
    	- Audio + Video compatibility to RealOne/Player: i think it is a session number problem
    	- Random Access doesn't work fine. Really, i think it is impossible to do a good random access without a special fileformat support.

commit c2bd0cf93c30326d2d0b1541b77a9de532155205
Author: shawill <shawill>
Date:   Wed Feb 23 09:08:23 2005 +0000

    OSX compatibility issues (thanx to Sébastien Pierre).

commit 87f589ce59ab5b913df669e75db9dde154169d7a
Author: shawill <shawill>
Date:   Wed Feb 16 14:00:57 2005 +0000

    Traffic managing...

commit 3c679ce7054a70505474d4a2ef71702333ca56c9
Author: shawill <shawill>
Date:   Wed Feb 16 11:59:47 2005 +0000

    trying to fix the 100% bug.

commit 80226c29862061f797cac9b44e3db9c413cfafb4
Author: shawill <shawill>
Date:   Fri Feb 11 15:46:41 2005 +0000

    Bugfixes in SD_FL_TWIN & SD_FL_MULTICAST flags settings and releasing.
    '\n' added at the end of sdp description.

commit 316a2894b9a54cb66256e37cfe62c4f281615cbe
Author: federico <federico>
Date:   Wed Feb 9 15:57:40 2005 +0000

    MPEG4: working in progress

commit ba53516d1c6ef47bdbc0e51749df5d4d99c67e56
Author: federico <federico>
Date:   Mon Feb 7 08:56:52 2005 +0000

    Release multicast flags

commit 432259cfa3371026ccc98634df55ccd946c27587
Author: federico <federico>
Date:   Fri Feb 4 15:00:34 2005 +0000

    Setting up multicast handling

commit d89d8d38f5aa64ae1ea4c8ffbfe209eef112f4a2
Author: federico <federico>
Date:   Fri Feb 4 13:53:15 2005 +0000

    Handling multicast session. SDP is now fetched using RTSP.

commit dd4f3ccc8985d87735bf940b7df23fe0fc89db3b
Author: mancho <mancho>
Date:   Tue Feb 1 11:51:39 2005 +0000

    ChangeLog updated
    Ready to release

commit c811c12892905fda952ac1682b4ca7a55760805c
Author: mancho <mancho>
Date:   Tue Feb 1 11:38:59 2005 +0000

    Late adjustments to descriptionsi strings.
    Fixed errors in variables names in docs/Makefile.am

commit d671d1af1533f04b16b1864433a76620bbc33141
Author: shawill <shawill>
Date:   Tue Feb 1 11:15:55 2005 +0000

    some warning removed

commit 353c689f47bd45604a5abf986254a6e746cdbf8a
Author: mancho <mancho>
Date:   Mon Jan 31 16:57:28 2005 +0000

    Updated fenice.spec (install man page)
    Added TODOs for the next release

commit b438d87168fe45365f5076c11faade0e114f22de
Author: mancho <mancho>
Date:   Mon Jan 31 16:25:53 2005 +0000

    docs/en renamed to docs/howto

commit ae322a61fecc566ccb83fc6f31274de6c3ccc275
Author: mancho <mancho>
Date:   Mon Jan 31 16:24:25 2005 +0000

    Man page added
    How-To updated
    NEWS added
    Version number updated to 1.7

commit 0ef4ecdcf2eba6f2f550992f4daba25f3ec28e21
Author: mancho <mancho>
Date:   Fri Jan 28 18:27:19 2005 +0000

    Documentation updated: new documentation is in docs/en/fenice-howto.html (from the Web site).

commit 854e0886f04799b15728d561d4c1822b0de0307e
Author: shawill <shawill>
Date:   Fri Jan 28 18:07:33 2005 +0000

    Bug fix in sdp/get_media_descr.c line 61:
        res=enum_media(object,&matching_descr);
    could give an error, so we should control 'res' before do this:
        list=matching_descr->me_list;
    else -> segfault...

commit 7120911fdc19817d8164b98b00fb0eb022a8a179
Author: mancho <mancho>
Date:   Fri Jan 28 10:22:06 2005 +0000

    Ehm, a lot of changes in Autotools scripts:
    
    * A/V multimedia files document root will be installed in Filesystem Hierarchy
      Standard 2.3's brand-new /srv directory (you can change this via ./configure).
    * RTSP default port is now the standard-compliant 554 or the alternative 8554
      (but you can choose it with ./configure)
    * max_session, rtsp port ande configuration file defaults are now #define-ed in config.h
    * ./configure supports new args
    * Default configuration file is generated at ./configure-time with CPP (take a
      look in etc directory)

commit d9a9648521000f30c5f275a9b4b43b265d5d266f
Author: federico <federico>
Date:   Thu Jan 27 12:20:36 2005 +0000

    Redirect improvements.

commit 6fdb75747405db6b5834d9989dc14334e9e25365
Author: federico <federico>
Date:   Wed Jan 26 12:19:16 2005 +0000

    Sorry.... i left a little ( :-) ) bug!!
    But, as an hero, ifixed it!!

commit 800c65e78a5abd3c5aa257145df388e030d95c3d
Author: federico <federico>
Date:   Wed Jan 26 10:49:34 2005 +0000

    Now you can use comments (#) in fenice.conf and set max_session.
    Please calculate max_session according to your bandwith.
    Example of a configuration file (fenice.conf):
    
    #-----------------------------------------------------------
    #Define root dir where medias are stored
    root=/home/chicco/media/
    #Define RTSP port where Fenice listen for new connection
    port=1554
    #Define max session (calculate it according to your bandwith)
    max_session=10
    #-----------------------------------------------------------
    
    If max_session is arriched and if you have set a twin in the sd file
    Fenice sends a redirect_3xx message so client switchs to the twin resource.
    
    Example of sd file:
    
    twin rtsp://myserver.mydomain:1554/mytwinresource.sd
    stream
            file_name myfile.mpg
    	priority 1
            media_source stored
            payload_type 32
            clock_rate 90000
            encoding_name MPV
            coding_type frame
            frame_rate 25
            byte_per_pckt 1900
    stream_end

commit 6058e90ddb0936564ef9e681c58a2183ee208110
Author: federico <federico>
Date:   Tue Jan 25 17:51:15 2005 +0000

    Now Fenice is able to redirect the connection to another server!

commit f6dd6c490f5db178870f02f539f0f55657d3be4d
Author: shawill <shawill>
Date:   Tue Jan 18 16:55:45 2005 +0000

    Live bugfixes (pipe reading).

commit 98ddef0decdcdf85c26c2cf9bad9f27910746824
Author: federico <federico>
Date:   Tue Jan 11 08:50:54 2005 +0000

    VOPs fragmentation is now work-in-progress.
    Not usable yet (so just use byte_per_pckt 20000 in sd)
    References: RFC 3016, RFC3640

commit 5a4484d85d9bf7547d25510c7992818f7aaa42c5
Author: federico <federico>
Date:   Fri Dec 31 10:48:19 2004 +0000

    Minimal MPEG4 Visual (xvid) support was added.

commit a8814b1ccd815634d688368916dcd020db4da8f6
Author: mancho <mancho>
Date:   Wed Dec 15 17:35:32 2004 +0000

    Code cleaning

commit 02a49e9d9a90761ba2c03e2ef92c8313c199046a
Author: mancho <mancho>
Date:   Wed Dec 15 17:27:41 2004 +0000

    Bug fixes in RTSP_setup.c

commit 7866006c0b464650bbdc9e78f269dcbb4af78d67
Author: shawill <shawill>
Date:   Fri Dec 10 10:36:58 2004 +0000

    bug-fixes and warning hunting.

commit 226534b1a55fbace2173819128ea00abba25246a
Author: shawill <shawill>
Date:   Fri Nov 26 18:46:01 2004 +0000

    we're in the father's hands!!!

commit fdcdf8d643099baadd66a8054d376dd48e0142d6
Author: federico <federico>
Date:   Fri Nov 26 14:37:44 2004 +0000

    Added Standard command line. See fenice --help.
    Fenice show debugging messages only if DEBUG symbol is enabled (./configure --enable-debug).
    Add header file multicast.h.

commit bfff2cbfcdadfdb85caea82d7a691f0411403d6f
Author: shawill <shawill>
Date:   Thu Nov 25 11:23:31 2004 +0000

    Concurrency bugfixes

commit 18ee2b09882d36877cb90384de81c462f5a186df
Author: mancho <mancho>
Date:   Tue Nov 16 17:28:43 2004 +0000

    Deleted the ugly round.c, replaced with lround MACRO in utils.h.
    New .NOTPARALLEL: in src/Makefile.am lets you make -j without errors.
    Version number updated.
    Ready to release.

commit cb9da7a6cf28dde7b29095bd66439188e19869bd
Author: federico <federico>
Date:   Fri Nov 12 19:20:41 2004 +0000

    First step in order to have random access on
    mpeg video VBR.

commit a10f0634997c41013f2497487ae3b511a4d9b910
Author: sbiro <sbiro>
Date:   Thu Nov 11 15:48:59 2004 +0000

    Bugs fixed AND bufferpool unref changed AND this is the third commit because boella's net works as me

commit bb4aef8509c7636d6da89b046f78174881c2a797
Author: sbiro <sbiro>
Date:   Wed Nov 10 19:25:15 2004 +0000

    SD file internal list now update itself

commit c06c34eff609ec8c79434821b779b38760cf2993
Author: federico <federico>
Date:   Thu Nov 4 16:42:37 2004 +0000

    Bugs fixed

commit 665a1d35c64785fa3adcef05f46826ab1a6a5a53
Author: federico <federico>
Date:   Thu Nov 4 11:18:47 2004 +0000

    Bugs fixed(){
    	number_of_segmentation_fault--;
    }

commit 9a0c9e6ea57d45d66d985769d0869d543bbdebe8
Author: shawill <shawill>
Date:   Thu Nov 4 10:59:27 2004 +0000

    LICENCE -> LICENSE

commit cbc1d2f9485efdaf222cd9baa1cc94c7d46f25d9
Author: federico <federico>
Date:   Wed Nov 3 18:30:43 2004 +0000

    Now fenice is ready for scalability tests

commit 8e288071d4dd5f40b9097d93aefc8554af19e06f
Author: federico <federico>
Date:   Wed Nov 3 18:18:26 2004 +0000

    Bugs fixed in schedule connection of live streams

commit d14ba1644ac4be56817db167488cd2b5367653f6
Author: federico <federico>
Date:   Wed Nov 3 15:23:18 2004 +0000

    Live audio-video is now beta-stable

commit d7853b27d6fcdd0ab0bc2a8f92013ef1390ba010
Author: federico <federico>
Date:   Wed Nov 3 12:25:59 2004 +0000

    Another bug was fixed.

commit 84ed6ba3899ab73a057b719234c47cdfb9974e1c
Author: sbiro <sbiro>
Date:   Wed Nov 3 12:17:33 2004 +0000

    Bugs fixed

commit 3c42b5626391dd7dd3d2aa686942169b8035f174
Author: federico <federico>
Date:   Tue Oct 26 11:21:21 2004 +0000

    Add a line for a-v live sync.

commit e8babecc18ca2be413226076c443d101490db751
Author: sbiro <sbiro>
Date:   Wed Oct 20 18:06:30 2004 +0000

    Pause bug fixed

commit 7707e5e66e1e8aa35b5b98b416f0058b7087edc6
Author: federico <federico>
Date:   Mon Oct 18 12:53:27 2004 +0000

    First step for audio video sync in live support.
    Test in progress!

commit 2d057b5b88e7b9998e672dc55516185423b0ee6a
Author: federico <federico>
Date:   Tue Oct 12 15:07:58 2004 +0000

    Deleted a persistant message (for debug)

commit c9cf14fb175eafd228afd2ae076bed1a32bebf48
Author: federico <federico>
Date:   Tue Oct 12 15:05:13 2004 +0000

    Now audio(mp3)-video random access is avaible.
    Last bad case: the SEQ_HEAD doesn't contain bitrate (VBR)

commit c8eb22a5a3b98b70980a0b9f4dc0655359f01e8c
Author: federico <federico>
Date:   Fri Oct 1 16:12:23 2004 +0000

    First step in order to add random access. For now it is possible:
    1) Audio random access (for mp3 it is possible in the first play time only!!!!)
    2) Video random access (for now only CBR). Bit rate is read from sequence header.
    3) Audio - Video random access (only if previous conditions are true)

commit fa861733be9ba1ce0c4b399a099e813d2d09e4dc
Author: shawill <shawill>
Date:   Wed Sep 29 16:05:22 2004 +0000

    CC licenses in SDP description updated in complince with CC proposal.

commit dafc4000b77823389b5073b48878b32b6b6da42c
Author: shawill <shawill>
Date:   Mon Sep 6 15:46:40 2004 +0000

    SVN now ignores unuseful files in bufferpool/ dir

commit 3b82fa89f05e6a0c6b7e38e5fd552a416dcb1381
Author: shawill <shawill>
Date:   Fri Sep 3 17:06:31 2004 +0000

    bufferpool bug haunting

commit f4cfeb59ec8eafc64e7bbd60a8ee6c596fc6bf81
Author: federico <federico>
Date:   Wed Sep 1 08:35:51 2004 +0000

    MPEG 1 2 alpha test finished.

commit a634b39d30ff7f9a04816dd819b104ddea17df4a
Author: federico <federico>
Date:   Tue Aug 31 13:03:01 2004 +0000

    Now Fenice works with large slices too.

commit af851c1b7290c7162bcfbec589ac0aed44967c99
Author: federico <federico>
Date:   Fri Aug 27 15:16:58 2004 +0000

    WARNING MPEG VIDEO IS IN A ALPHA TEST STATE!!!

commit 720522601994f63391265ec24d9a4c2bacdd164a
Author: federico <federico>
Date:   Tue Aug 24 09:51:13 2004 +0000

    Live video support (mpeg1 and mpeg2) added.

commit 8e7af43dd2e5287eb45ee5e14c596d7e137283ca
Author: sbiro <sbiro>
Date:   Fri Jul 30 17:24:40 2004 +0000

    Live session shared between more clients is now supported

commit dbcde273b7a720bc715159aebf910c89982c16a5
Author: federico <federico>
Date:   Thu Jul 29 14:33:26 2004 +0000

    First step for live video support.

commit d9e90bd4764c00812a75045b52ef24de0281fcb6
Author: sbiro <sbiro>
Date:   Mon Jul 26 11:17:25 2004 +0000

    Added control about buffer refs not zero and buffer not NULL before unref functions

commit 1340e2319d86766c5f4a642b6f2876961761d400
Author: sbiro <sbiro>
Date:   Mon Jul 26 10:30:15 2004 +0000

    Aggregate stream behaviour is now corrected

commit 919594f982710b72e23764c6485f17d2b8b22ca0
Author: federico <federico>
Date:   Fri Jul 23 17:41:11 2004 +0000

    Correct a bug. in TEARDOWN. Now TEARDOWN is compatible with RealOne and RealPlayer

commit 5df9f4098f5465b640b3680de526bd13da4515ae
Author: federico <federico>
Date:   Fri Jul 23 16:41:31 2004 +0000

    Added some lines in order to manage the buffer in play/pause action

commit 7e574b5d35d41219388f49ae23940dd845ea94a3
Author: federico <federico>
Date:   Fri Jul 23 16:15:06 2004 +0000

    Corrected bugs in order to release buffer when a connection is closed

commit 3c052360fab8535fa58b09aa12bd2803c73b4659
Author: sbiro <sbiro>
Date:   Fri Jul 23 15:46:08 2004 +0000

    Buffer management modified and some new errors handled

commit d79d1def0d446ae6c71085c22ee4f32168086245
Author: shawill <shawill>
Date:   Fri Jul 16 17:50:21 2004 +0000

    Workarounds in read_MPEG_video...
    mirror climbing!!!

commit 86414ea2e65c048c4c751269b1520ce962473437
Author: shawill <shawill>
Date:   Thu Jul 15 14:36:14 2004 +0000

    Bufferpool bugfixes

commit 19b969f2401b2886a2c20e677218ac507e917372
Author: shawill <shawill>
Date:   Tue Jul 13 18:25:56 2004 +0000

    configure.ac modified (--enable efence option added)
    bufferpool modifications.

commit 5acbf3714f2fde4dd662ec5c01cd4603e808a35c
Author: shawill <shawill>
Date:   Fri Jul 9 15:30:42 2004 +0000

    Live work in progress. Bugfixes; rewritted some horrendous code.

commit b3e07b167bd6a03968be6a9360ccf7dd9d2882c0
Author: shawill <shawill>
Date:   Wed Jul 7 17:17:07 2004 +0000

    First running live implementation with bufferpool lib.

commit bc33425fc39b0b235cac19942d1f2d6a4eeb4f96
Author: shawill <shawill>
Date:   Wed Jul 7 09:50:50 2004 +0000

    Removed 3Kg of warnings... #include <stdio.h>... bah.

commit 604fcd7f655b94e2ed1f5c1135327be980a03d96
Author: sbiro <sbiro>
Date:   Tue Jul 6 17:42:16 2004 +0000

    Added mediacpy function and .SD live option

commit cc8f6fd1cb1eb1f22fbe1c563528fdafee1e2b05
Author: federico <federico>
Date:   Tue Jul 6 17:14:54 2004 +0000

    Physical level modified. Fenice will not run properly. Scheduler must be changed/

commit 4e3c05145643ceaef2be2b2c7f72133b3ac0c658
Author: shawill <shawill>
Date:   Tue Jul 6 12:25:01 2004 +0000

    Bufferpool library completed.

commit 9ae95e6288e50b45a11505dbb5c6e42e3add7ea2
Author: federico <federico>
Date:   Mon Jul 5 16:51:41 2004 +0000

    Half of bufferpool library. Added 'build' script.

commit b4960b237e6f1b013ef1e629ea24d1f8542324f0
Author: federico <federico>
Date:   Fri Jul 2 17:05:39 2004 +0000

    Distro check

commit 9abb8a5a558ff69a6dd3467d1265cc0532ea7b15
Author: federico <federico>
Date:   Fri Jul 2 15:35:06 2004 +0000

    Added empty bufferpool interface in order to fare qualche cosa.

commit e084a84b3d37ab661e21e87e4ee3123eb2cfa57b
Author: mancho <mancho>
Date:   Tue Jun 29 15:23:55 2004 +0000

    Wow! Now we have a brand new micro how-to in README file.

commit 1228b2fa8a31ca865c0ba4e8df53796c4a573fff
Author: federico <federico>
Date:   Mon Jun 28 17:53:28 2004 +0000

    Creative Commons support (ID3 - MP3) added

commit e4c393d41eeafceb6b63734017dc1ed9df22abdb
Author: federico <federico>
Date:   Mon Jun 28 14:22:11 2004 +0000

    internal multicast module deleted;
    This line, and those below, will be ignored--
    
    M    sdp/get_SDP_descr.c
    M    src/prefs_use_default.c
    D    src/prefs_get_multicast_file.c
    M    src/prefs_init.c
    M    src/main.c
    M    src/Makefile.am
    M    configure.ac
    D    include/fenice/multicast.h
    M    include/fenice/prefs.h
    M    include/fenice/Makefile.am
    M    rtsp/RTSP_setup.c
    D    multicast
    M    Makefile.am
    M    eventloop/eventloop.c

commit b506e9a50b7bbd1b2b509613e417bfe0309f1ec6
Author: federico <federico>
Date:   Mon Jun 21 14:21:39 2004 +0000

    fixed headers and templates dir deleted

commit d0054099470a4579cb1806df1ef3329407108193
Author: federico <federico>
Date:   Mon Jun 21 10:05:30 2004 +0000

    Added new file: tcp_connect.c

commit a022467194655a718952c3e0d99b6417125bfd9d
Author: federico <federico>
Date:   Fri Jun 18 17:14:56 2004 +0000

    added the first part in order to integrate multicast (not finished yet)

commit 550fe336b3119d11eb1c8ace81278c05eadac12b
Author: mancho <mancho>
Date:   Thu Jun 17 14:21:33 2004 +0000

    autotools:
    	- Completed DESTDIR integration. Now you can
    
    	    $ make DISTDIR=<some-test-installation-dir> install
    
    	  Use it to do user-space test installation.
    
    	- Added fenice.spec for RPM packages build. Don't forget that you must
    	  be root to successfullly build RPMS from sources (DEPRECATE) or
    	  properly set your rpmmacros file.
    
    	- Minor changes in configure.ac and in Makafile.am files.

commit c741025c11dff824155796796f6061fdcba3526f
Author: mancho <mancho>
Date:   Thu Jun 10 17:40:53 2004 +0000

    etc/:
    avroot/:
            - Minor changes to svn:ignore
    
    src/prefs_use_default.c:
    src/prefs_init.c:
    include/fenice/prefs.h:
            - Substituted embedded defaults with configure-time generated ones.
              New run-time configuration file check order:
                1. Command line argument
                2. System default (*/etc/fenice.conf)
                3. Internal defaults
    
    autotools:
            - Added support for default sysconfdir (*/etc)
            - Added support for default localstatedir (*/var)
            - Added FENICE_CONF_DIR define
            - Added FENICE_AVROOT_DIR define

commit 9d4e7b189be8ce94aacaab16ffe939e1fd432528
Author: mancho <mancho>
Date:   Thu Jun 10 11:24:19 2004 +0000

    Some changes in 'docs' and 'avroot' for installation automation.

commit 217806a444ab7e8f5685297278bbab86b551a978
Author: federico <federico>
Date:   Thu Jun 10 08:29:06 2004 +0000

    add multicast/add_multicast_stream.c

commit 36114622952425a519a2f457554d731cef597a09
Author: federico <federico>
Date:   Thu Jun 10 08:25:01 2004 +0000

commit febd5a6a08a35bac7bfb7fa1f9a16c93093ac824
Author: mancho <mancho>
Date:   Wed Jun 9 16:42:44 2004 +0000

    Setting svn:ignore changes
    Adding "etc" base config dir
    Adding "avroot" test resources dir
    Adding missing header in load_MPA.c

commit 75bb09ae2baaaa3c389fa82018e0f1f955e38eca
Author: mancho <mancho>
Date:   Wed Jun 9 16:30:05 2004 +0000

    Merged "Webbit04" live-by-named-pipe audio support

commit 5db4018083da22eca2bf3139d5d5b54a27667ade
Author: mancho <mancho>
Date:   Wed Jun 9 10:22:07 2004 +0000

    Setting svn:ignore on new dirs
    Settinf svn:keyword on new files

commit a8d1d3eae821d8664c15fe288d90e73fc24bc473
Author: mancho <mancho>
Date:   Wed Jun 9 10:20:33 2004 +0000

    Importing md5 dir

commit 812da4a6ac5db463b75acd91a3707c493e62f120
Author: mancho <mancho>
Date:   Wed Jun 9 10:19:43 2004 +0000

    Importing Federico's end Marco's adds: md5, xmlparser, multicast, command_envirment.

commit 42cfb28ab0a5bd756fe546e5a57d3199ba40402a
Author: mancho <mancho>
Date:   Tue Jun 8 16:55:31 2004 +0000

    svn:ignore changes

commit 6e6198e73c09cba770c923cd02083f4665f3c7f6
Author: mancho <mancho>
Date:   Tue Jun 8 16:43:32 2004 +0000

    svn:ignore changes

commit 5cdc5265872e44736d76b168cacd228c8afe7f7d
Author: mancho <mancho>
Date:   Tue Jun 8 16:11:15 2004 +0000

    svn:ignore - Ignoring svn-commit*

commit 702c27908a7dea0c4a230600373be1ed78053c55
Author: mancho <mancho>
Date:   Tue Jun 8 16:09:48 2004 +0000

    Setting 'svn:ignore' property: ignoring Vim swap files

commit 2e3aaac16b3ff0244491f450abe323a7dd806744
Author: mancho <mancho>
Date:   Tue Jun 8 15:37:03 2004 +0000

    Deleting spurious files

commit 3e7bda1b1f154b3b8de5fa9c83973f3bd91011d0
Author: mancho <mancho>
Date:   Tue Jun 8 15:08:53 2004 +0000

    Setting subversion $Id$ property

commit ead321256bc41ab5a18c5eb6a2e2b46e5715f766
Author: mancho <mancho>
Date:   Tue Jun 8 15:04:35 2004 +0000

    First import for next (1.5) Fenice version
    Major changes in source tree structure
